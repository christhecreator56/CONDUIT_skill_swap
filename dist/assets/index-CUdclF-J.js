function l4(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jf={exports:{}},Ko={},Xf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function u4(){if(D0)return We;D0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function C(q,oe,De){this.props=q,this.context=oe,this.refs=x,this.updater=De||P}C.prototype.isReactComponent={},C.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=C.prototype;function j(q,oe,De){this.props=q,this.context=oe,this.refs=x,this.updater=De||P}var k=j.prototype=new E;k.constructor=j,b(k,C.prototype),k.isPureReactComponent=!0;var M=Array.isArray,R=Object.prototype.hasOwnProperty,L={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function O(q,oe,De){var Ve,ze={},Qe=null,Ke=null;if(oe!=null)for(Ve in oe.ref!==void 0&&(Ke=oe.ref),oe.key!==void 0&&(Qe=""+oe.key),oe)R.call(oe,Ve)&&!D.hasOwnProperty(Ve)&&(ze[Ve]=oe[Ve]);var qe=arguments.length-2;if(qe===1)ze.children=De;else if(1<qe){for(var Ge=Array(qe),bt=0;bt<qe;bt++)Ge[bt]=arguments[bt+2];ze.children=Ge}if(q&&q.defaultProps)for(Ve in qe=q.defaultProps,qe)ze[Ve]===void 0&&(ze[Ve]=qe[Ve]);return{$$typeof:t,type:q,key:Qe,ref:Ke,props:ze,_owner:L.current}}function I(q,oe){return{$$typeof:t,type:q.type,key:oe,ref:q.ref,props:q.props,_owner:q._owner}}function H(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function B(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(De){return oe[De]})}var Z=/\/+/g;function re(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):oe.toString(36)}function G(q,oe,De,Ve,ze){var Qe=typeof q;(Qe==="undefined"||Qe==="boolean")&&(q=null);var Ke=!1;if(q===null)Ke=!0;else switch(Qe){case"string":case"number":Ke=!0;break;case"object":switch(q.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=q,ze=ze(Ke),q=Ve===""?"."+re(Ke,0):Ve,M(ze)?(De="",q!=null&&(De=q.replace(Z,"$&/")+"/"),G(ze,oe,De,"",function(bt){return bt})):ze!=null&&(H(ze)&&(ze=I(ze,De+(!ze.key||Ke&&Ke.key===ze.key?"":(""+ze.key).replace(Z,"$&/")+"/")+q)),oe.push(ze)),1;if(Ke=0,Ve=Ve===""?".":Ve+":",M(q))for(var qe=0;qe<q.length;qe++){Qe=q[qe];var Ge=Ve+re(Qe,qe);Ke+=G(Qe,oe,De,Ge,ze)}else if(Ge=y(q),typeof Ge=="function")for(q=Ge.call(q),qe=0;!(Qe=q.next()).done;)Qe=Qe.value,Ge=Ve+re(Qe,qe++),Ke+=G(Qe,oe,De,Ge,ze);else if(Qe==="object")throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Ke}function ae(q,oe,De){if(q==null)return q;var Ve=[],ze=0;return G(q,Ve,"","",function(Qe){return oe.call(De,Qe,ze++)}),Ve}function xe(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(De){(q._status===0||q._status===-1)&&(q._status=1,q._result=De)},function(De){(q._status===0||q._status===-1)&&(q._status=2,q._result=De)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var de={current:null},se={transition:null},ue={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};function ye(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ae,forEach:function(q,oe,De){ae(q,function(){oe.apply(this,arguments)},De)},count:function(q){var oe=0;return ae(q,function(){oe++}),oe},toArray:function(q){return ae(q,function(oe){return oe})||[]},only:function(q){if(!H(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},We.Component=C,We.Fragment=n,We.Profiler=o,We.PureComponent=j,We.StrictMode=s,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,We.act=ye,We.cloneElement=function(q,oe,De){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ve=b({},q.props),ze=q.key,Qe=q.ref,Ke=q._owner;if(oe!=null){if(oe.ref!==void 0&&(Qe=oe.ref,Ke=L.current),oe.key!==void 0&&(ze=""+oe.key),q.type&&q.type.defaultProps)var qe=q.type.defaultProps;for(Ge in oe)R.call(oe,Ge)&&!D.hasOwnProperty(Ge)&&(Ve[Ge]=oe[Ge]===void 0&&qe!==void 0?qe[Ge]:oe[Ge])}var Ge=arguments.length-2;if(Ge===1)Ve.children=De;else if(1<Ge){qe=Array(Ge);for(var bt=0;bt<Ge;bt++)qe[bt]=arguments[bt+2];Ve.children=qe}return{$$typeof:t,type:q.type,key:ze,ref:Qe,props:Ve,_owner:Ke}},We.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},We.createElement=O,We.createFactory=function(q){var oe=O.bind(null,q);return oe.type=q,oe},We.createRef=function(){return{current:null}},We.forwardRef=function(q){return{$$typeof:c,render:q}},We.isValidElement=H,We.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:xe}},We.memo=function(q,oe){return{$$typeof:p,type:q,compare:oe===void 0?null:oe}},We.startTransition=function(q){var oe=se.transition;se.transition={};try{q()}finally{se.transition=oe}},We.unstable_act=ye,We.useCallback=function(q,oe){return de.current.useCallback(q,oe)},We.useContext=function(q){return de.current.useContext(q)},We.useDebugValue=function(){},We.useDeferredValue=function(q){return de.current.useDeferredValue(q)},We.useEffect=function(q,oe){return de.current.useEffect(q,oe)},We.useId=function(){return de.current.useId()},We.useImperativeHandle=function(q,oe,De){return de.current.useImperativeHandle(q,oe,De)},We.useInsertionEffect=function(q,oe){return de.current.useInsertionEffect(q,oe)},We.useLayoutEffect=function(q,oe){return de.current.useLayoutEffect(q,oe)},We.useMemo=function(q,oe){return de.current.useMemo(q,oe)},We.useReducer=function(q,oe,De){return de.current.useReducer(q,oe,De)},We.useRef=function(q){return de.current.useRef(q)},We.useState=function(q){return de.current.useState(q)},We.useSyncExternalStore=function(q,oe,De){return de.current.useSyncExternalStore(q,oe,De)},We.useTransition=function(){return de.current.useTransition()},We.version="18.3.1",We}var I0;function _a(){return I0||(I0=1,Xf.exports=u4()),Xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function c4(){if(M0)return Ko;M0=1;var t=_a(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var h,g={},y=null,P=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(P=f.ref);for(h in f)s.call(f,h)&&!a.hasOwnProperty(h)&&(g[h]=f[h]);if(c&&c.defaultProps)for(h in f=c.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:e,type:c,key:y,ref:P,props:g,_owner:o.current}}return Ko.Fragment=n,Ko.jsx=l,Ko.jsxs=l,Ko}var O0;function f4(){return O0||(O0=1,Jf.exports=c4()),Jf.exports}var m=f4(),V=_a();const pn=wv(V),d4=l4({__proto__:null,default:pn},[V]);var Gl={},Zf={exports:{}},hn={},ed={exports:{}},td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function h4(){return F0||(F0=1,function(t){function e(se,ue){var ye=se.length;se.push(ue);e:for(;0<ye;){var q=ye-1>>>1,oe=se[q];if(0<o(oe,ue))se[q]=ue,se[ye]=oe,ye=q;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ue=se[0],ye=se.pop();if(ye!==ue){se[0]=ye;e:for(var q=0,oe=se.length,De=oe>>>1;q<De;){var Ve=2*(q+1)-1,ze=se[Ve],Qe=Ve+1,Ke=se[Qe];if(0>o(ze,ye))Qe<oe&&0>o(Ke,ze)?(se[q]=Ke,se[Qe]=ye,q=Qe):(se[q]=ze,se[Ve]=ye,q=Ve);else if(Qe<oe&&0>o(Ke,ye))se[q]=Ke,se[Qe]=ye,q=Qe;else break e}}return ue}function o(se,ue){var ye=se.sortIndex-ue.sortIndex;return ye!==0?ye:se.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],h=1,g=null,y=3,P=!1,b=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(se){for(var ue=n(p);ue!==null;){if(ue.callback===null)s(p);else if(ue.startTime<=se)s(p),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(p)}}function M(se){if(x=!1,k(se),!b)if(n(f)!==null)b=!0,xe(R);else{var ue=n(p);ue!==null&&de(M,ue.startTime-se)}}function R(se,ue){b=!1,x&&(x=!1,E(O),O=-1),P=!0;var ye=y;try{for(k(ue),g=n(f);g!==null&&(!(g.expirationTime>ue)||se&&!B());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var oe=q(g.expirationTime<=ue);ue=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(f)&&s(f),k(ue)}else s(f);g=n(f)}if(g!==null)var De=!0;else{var Ve=n(p);Ve!==null&&de(M,Ve.startTime-ue),De=!1}return De}finally{g=null,y=ye,P=!1}}var L=!1,D=null,O=-1,I=5,H=-1;function B(){return!(t.unstable_now()-H<I)}function Z(){if(D!==null){var se=t.unstable_now();H=se;var ue=!0;try{ue=D(!0,se)}finally{ue?re():(L=!1,D=null)}}else L=!1}var re;if(typeof j=="function")re=function(){j(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=Z,re=function(){ae.postMessage(null)}}else re=function(){C(Z,0)};function xe(se){D=se,L||(L=!0,re())}function de(se,ue){O=C(function(){se(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){b||P||(b=!0,xe(R))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ye=y;y=ue;try{return se()}finally{y=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ye=y;y=se;try{return ue()}finally{y=ye}},t.unstable_scheduleCallback=function(se,ue,ye){var q=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?q+ye:q):ye=q,se){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ye+oe,se={id:h++,callback:ue,priorityLevel:se,startTime:ye,expirationTime:oe,sortIndex:-1},ye>q?(se.sortIndex=ye,e(p,se),n(f)===null&&se===n(p)&&(x?(E(O),O=-1):x=!0,de(M,ye-q))):(se.sortIndex=oe,e(f,se),b||P||(b=!0,xe(R))),se},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(se){var ue=y;return function(){var ye=y;y=ue;try{return se.apply(this,arguments)}finally{y=ye}}}}(td)),td}var B0;function p4(){return B0||(B0=1,ed.exports=h4()),ed.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function m4(){if(V0)return hn;V0=1;var t=_a(),e=p4();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){l(r,i),l(r+"Capture",i)}function l(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(r){return f.call(g,r)?!0:f.call(h,r)?!1:p.test(r)?g[r]=!0:(h[r]=!0,!1)}function P(r,i,u,d){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,u,d){if(i===null||typeof i>"u"||P(r,i,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(r,i,u,d,v,S,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=r,this.type=i,this.sanitizeURL=S,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new x(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function j(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(E,j);C[i]=new x(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(E,j);C[i]=new x(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(E,j);C[i]=new x(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function k(r,i,u,d){var v=C.hasOwnProperty(i)?C[i]:null;(v!==null?v.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,u,v,d)&&(u=null),d||v===null?y(i)&&(u===null?r.removeAttribute(i):r.setAttribute(i,""+u)):v.mustUseProperty?r[v.propertyName]=u===null?v.type===3?!1:"":u:(i=v.attributeName,d=v.attributeNamespace,u===null?r.removeAttribute(i):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,d?r.setAttributeNS(d,i,u):r.setAttribute(i,u))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),se=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ye=Object.assign,q;function oe(r){if(q===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);q=i&&i[1]||""}return`
`+q+r}var De=!1;function Ve(r,i){if(!r||De)return"";De=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(te){var d=te}Reflect.construct(r,[],i)}else{try{i.call()}catch(te){d=te}r.call(i.prototype)}else{try{throw Error()}catch(te){d=te}r()}}catch(te){if(te&&d&&typeof te.stack=="string"){for(var v=te.stack.split(`
`),S=d.stack.split(`
`),A=v.length-1,F=S.length-1;1<=A&&0<=F&&v[A]!==S[F];)F--;for(;1<=A&&0<=F;A--,F--)if(v[A]!==S[F]){if(A!==1||F!==1)do if(A--,F--,0>F||v[A]!==S[F]){var z=`
`+v[A].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=A&&0<=F);break}}}finally{De=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?oe(r):""}function ze(r){switch(r.tag){case 5:return oe(r.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return r=Ve(r.type,!1),r;case 11:return r=Ve(r.type.render,!1),r;case 1:return r=Ve(r.type,!0),r;default:return""}}function Qe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case L:return"Portal";case I:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case G:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case B:return(r.displayName||"Context")+".Consumer";case H:return(r._context.displayName||"Context")+".Provider";case Z:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ae:return i=r.displayName||null,i!==null?i:Qe(r.type)||"Memo";case xe:i=r._payload,r=r._init;try{return Qe(r(i))}catch{}}return null}function Ke(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(i);case 8:return i===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ge(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bt(r){var i=Ge(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return v.call(this)},set:function(A){d=""+A,S.call(this,A)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function xr(r){r._valueTracker||(r._valueTracker=bt(r))}function vr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),d="";return r&&(d=Ge(r)?r.checked?"true":"false":r.value),r=d,r!==u?(i.setValue(r),!0):!1}function an(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bn(r,i){var u=i.checked;return ye({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Ts(r,i){var u=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;u=qe(i.value!=null?i.value:u),r._wrapperState={initialChecked:d,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function As(r,i){i=i.checked,i!=null&&k(r,"checked",i,!1)}function ir(r,i){As(r,i);var u=qe(i.value),d=i.type;if(u!=null)d==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?br(r,i.type,u):i.hasOwnProperty("defaultValue")&&br(r,i.type,qe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function fi(r,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,u||i===r.value||(r.value=i),r.defaultValue=i}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function br(r,i,u){(i!=="number"||an(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var $=Array.isArray;function J(r,i,u,d){if(r=r.options,i){i={};for(var v=0;v<u.length;v++)i["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=i.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&d&&(r[u].defaultSelected=!0)}else{for(u=""+qe(u),i=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,d&&(r[v].defaultSelected=!0);return}i!==null||r[v].disabled||(i=r[v])}i!==null&&(i.selected=!0)}}function ne(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ye({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function be(r,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if($(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}r._wrapperState={initialValue:qe(u)}}function ve(r,i){var u=qe(i.value),d=qe(i.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),i.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),d!=null&&(r.defaultValue=""+d)}function he(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function je(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?je(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var N,T=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,d,v){MSApp.execUnsafeLocalFunction(function(){return r(i,u,d,v)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(N=N||document.createElement("div"),N.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=N.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function U(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var K={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ie=["Webkit","ms","Moz","O"];Object.keys(K).forEach(function(r){ie.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),K[i]=K[r]})});function me(r,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||K.hasOwnProperty(r)&&K[r]?(""+i).trim():i+"px"}function Ye(r,i){r=r.style;for(var u in i)if(i.hasOwnProperty(u)){var d=u.indexOf("--")===0,v=me(u,i[u],d);u==="float"&&(u="cssFloat"),d?r.setProperty(u,v):r[u]=v}}var yt=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function et(r,i){if(i){if(yt[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Xe(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=null;function fc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var dc=null,di=null,hi=null;function Jp(r){if(r=Ro(r)){if(typeof dc!="function")throw Error(n(280));var i=r.stateNode;i&&(i=cl(i),dc(r.stateNode,r.type,i))}}function Xp(r){di?hi?hi.push(r):hi=[r]:di=r}function Zp(){if(di){var r=di,i=hi;if(hi=di=null,Jp(r),i)for(r=0;r<i.length;r++)Jp(i[r])}}function em(r,i){return r(i)}function tm(){}var hc=!1;function nm(r,i,u){if(hc)return r(i,u);hc=!0;try{return em(r,i,u)}finally{hc=!1,(di!==null||hi!==null)&&(tm(),Zp())}}function fo(r,i){var u=r.stateNode;if(u===null)return null;var d=cl(u);if(d===null)return null;u=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var pc=!1;if(c)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){pc=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{pc=!1}function pS(r,i,u,d,v,S,A,F,z){var te=Array.prototype.slice.call(arguments,3);try{i.apply(u,te)}catch(fe){this.onError(fe)}}var po=!1,Ua=null,za=!1,mc=null,mS={onError:function(r){po=!0,Ua=r}};function gS(r,i,u,d,v,S,A,F,z){po=!1,Ua=null,pS.apply(mS,arguments)}function yS(r,i,u,d,v,S,A,F,z){if(gS.apply(this,arguments),po){if(po){var te=Ua;po=!1,Ua=null}else throw Error(n(198));za||(za=!0,mc=te)}}function _s(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function rm(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function sm(r){if(_s(r)!==r)throw Error(n(188))}function xS(r){var i=r.alternate;if(!i){if(i=_s(r),i===null)throw Error(n(188));return i!==r?null:r}for(var u=r,d=i;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(d=v.return,d!==null){u=d;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return sm(v),r;if(S===d)return sm(v),i;S=S.sibling}throw Error(n(188))}if(u.return!==d.return)u=v,d=S;else{for(var A=!1,F=v.child;F;){if(F===u){A=!0,u=v,d=S;break}if(F===d){A=!0,d=v,u=S;break}F=F.sibling}if(!A){for(F=S.child;F;){if(F===u){A=!0,u=S,d=v;break}if(F===d){A=!0,d=S,u=v;break}F=F.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:i}function im(r){return r=xS(r),r!==null?om(r):null}function om(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=om(r);if(i!==null)return i;r=r.sibling}return null}var am=e.unstable_scheduleCallback,lm=e.unstable_cancelCallback,vS=e.unstable_shouldYield,bS=e.unstable_requestPaint,wt=e.unstable_now,wS=e.unstable_getCurrentPriorityLevel,gc=e.unstable_ImmediatePriority,um=e.unstable_UserBlockingPriority,qa=e.unstable_NormalPriority,SS=e.unstable_LowPriority,cm=e.unstable_IdlePriority,Qa=null,or=null;function CS(r){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Qa,r,void 0,(r.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:ES,PS=Math.log,NS=Math.LN2;function ES(r){return r>>>=0,r===0?32:31-(PS(r)/NS|0)|0}var Wa=64,Ha=4194304;function mo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ka(r,i){var u=r.pendingLanes;if(u===0)return 0;var d=0,v=r.suspendedLanes,S=r.pingedLanes,A=u&268435455;if(A!==0){var F=A&~v;F!==0?d=mo(F):(S&=A,S!==0&&(d=mo(S)))}else A=u&~v,A!==0?d=mo(A):S!==0&&(d=mo(S));if(d===0)return 0;if(i!==0&&i!==d&&(i&v)===0&&(v=d&-d,S=i&-i,v>=S||v===16&&(S&4194240)!==0))return i;if((d&4)!==0&&(d|=u&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)u=31-Qn(i),v=1<<u,d|=r[u],i&=~v;return d}function jS(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(r,i){for(var u=r.suspendedLanes,d=r.pingedLanes,v=r.expirationTimes,S=r.pendingLanes;0<S;){var A=31-Qn(S),F=1<<A,z=v[A];z===-1?((F&u)===0||(F&d)!==0)&&(v[A]=jS(F,i)):z<=i&&(r.expiredLanes|=F),S&=~F}}function yc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fm(){var r=Wa;return Wa<<=1,(Wa&4194240)===0&&(Wa=64),r}function xc(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function go(r,i,u){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Qn(i),r[i]=u}function TS(r,i){var u=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<u;){var v=31-Qn(u),S=1<<v;i[v]=0,d[v]=-1,r[v]=-1,u&=~S}}function vc(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var d=31-Qn(u),v=1<<d;v&i|r[d]&i&&(r[d]|=i),u&=~v}}var st=0;function dm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var hm,bc,pm,mm,gm,wc=!1,Ga=[],Vr=null,$r=null,Ur=null,yo=new Map,xo=new Map,zr=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(r,i){switch(r){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":yo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(i.pointerId)}}function vo(r,i,u,d,v,S){return r===null||r.nativeEvent!==S?(r={blockedOn:i,domEventName:u,eventSystemFlags:d,nativeEvent:S,targetContainers:[v]},i!==null&&(i=Ro(i),i!==null&&bc(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),r)}function _S(r,i,u,d,v){switch(i){case"focusin":return Vr=vo(Vr,r,i,u,d,v),!0;case"dragenter":return $r=vo($r,r,i,u,d,v),!0;case"mouseover":return Ur=vo(Ur,r,i,u,d,v),!0;case"pointerover":var S=v.pointerId;return yo.set(S,vo(yo.get(S)||null,r,i,u,d,v)),!0;case"gotpointercapture":return S=v.pointerId,xo.set(S,vo(xo.get(S)||null,r,i,u,d,v)),!0}return!1}function xm(r){var i=Ls(r.target);if(i!==null){var u=_s(i);if(u!==null){if(i=u.tag,i===13){if(i=rm(u),i!==null){r.blockedOn=i,gm(r.priority,function(){pm(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ya(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Cc(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);it=d,u.target.dispatchEvent(d),it=null}else return i=Ro(u),i!==null&&bc(i),r.blockedOn=u,!1;i.shift()}return!0}function vm(r,i,u){Ya(r)&&u.delete(i)}function LS(){wc=!1,Vr!==null&&Ya(Vr)&&(Vr=null),$r!==null&&Ya($r)&&($r=null),Ur!==null&&Ya(Ur)&&(Ur=null),yo.forEach(vm),xo.forEach(vm)}function bo(r,i){r.blockedOn===i&&(r.blockedOn=null,wc||(wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LS)))}function wo(r){function i(v){return bo(v,r)}if(0<Ga.length){bo(Ga[0],r);for(var u=1;u<Ga.length;u++){var d=Ga[u];d.blockedOn===r&&(d.blockedOn=null)}}for(Vr!==null&&bo(Vr,r),$r!==null&&bo($r,r),Ur!==null&&bo(Ur,r),yo.forEach(i),xo.forEach(i),u=0;u<zr.length;u++)d=zr[u],d.blockedOn===r&&(d.blockedOn=null);for(;0<zr.length&&(u=zr[0],u.blockedOn===null);)xm(u),u.blockedOn===null&&zr.shift()}var pi=M.ReactCurrentBatchConfig,Ja=!0;function RS(r,i,u,d){var v=st,S=pi.transition;pi.transition=null;try{st=1,Sc(r,i,u,d)}finally{st=v,pi.transition=S}}function DS(r,i,u,d){var v=st,S=pi.transition;pi.transition=null;try{st=4,Sc(r,i,u,d)}finally{st=v,pi.transition=S}}function Sc(r,i,u,d){if(Ja){var v=Cc(r,i,u,d);if(v===null)Vc(r,i,d,Xa,u),ym(r,d);else if(_S(v,r,i,u,d))d.stopPropagation();else if(ym(r,d),i&4&&-1<AS.indexOf(r)){for(;v!==null;){var S=Ro(v);if(S!==null&&hm(S),S=Cc(r,i,u,d),S===null&&Vc(r,i,d,Xa,u),S===v)break;v=S}v!==null&&d.stopPropagation()}else Vc(r,i,d,null,u)}}var Xa=null;function Cc(r,i,u,d){if(Xa=null,r=fc(d),r=Ls(r),r!==null)if(i=_s(r),i===null)r=null;else if(u=i.tag,u===13){if(r=rm(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Xa=r,null}function bm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wS()){case gc:return 1;case um:return 4;case qa:case SS:return 16;case cm:return 536870912;default:return 16}default:return 16}}var qr=null,Pc=null,Za=null;function wm(){if(Za)return Za;var r,i=Pc,u=i.length,d,v="value"in qr?qr.value:qr.textContent,S=v.length;for(r=0;r<u&&i[r]===v[r];r++);var A=u-r;for(d=1;d<=A&&i[u-d]===v[S-d];d++);return Za=v.slice(r,1<d?1-d:void 0)}function el(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function tl(){return!0}function Sm(){return!1}function wn(r){function i(u,d,v,S,A){this._reactName=u,this._targetInst=v,this.type=d,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var F in r)r.hasOwnProperty(F)&&(u=r[F],this[F]=u?u(S):S[F]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?tl:Sm,this.isPropagationStopped=Sm,this}return ye(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),i}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=wn(mi),So=ye({},mi,{view:0,detail:0}),IS=wn(So),Ec,jc,Co,nl=ye({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Co&&(Co&&r.type==="mousemove"?(Ec=r.screenX-Co.screenX,jc=r.screenY-Co.screenY):jc=Ec=0,Co=r),Ec)},movementY:function(r){return"movementY"in r?r.movementY:jc}}),Cm=wn(nl),MS=ye({},nl,{dataTransfer:0}),OS=wn(MS),FS=ye({},So,{relatedTarget:0}),kc=wn(FS),BS=ye({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=wn(BS),$S=ye({},mi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),US=wn($S),zS=ye({},mi,{data:0}),Pm=wn(zS),qS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=WS[r])?!!i[r]:!1}function Tc(){return HS}var KS=ye({},So,{key:function(r){if(r.key){var i=qS[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=el(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?QS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(r){return r.type==="keypress"?el(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?el(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),GS=wn(KS),YS=ye({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nm=wn(YS),JS=ye({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),XS=wn(JS),ZS=ye({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),e2=wn(ZS),t2=ye({},nl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),n2=wn(t2),r2=[9,13,27,32],Ac=c&&"CompositionEvent"in window,Po=null;c&&"documentMode"in document&&(Po=document.documentMode);var s2=c&&"TextEvent"in window&&!Po,Em=c&&(!Ac||Po&&8<Po&&11>=Po),jm=" ",km=!1;function Tm(r,i){switch(r){case"keyup":return r2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gi=!1;function i2(r,i){switch(r){case"compositionend":return Am(i);case"keypress":return i.which!==32?null:(km=!0,jm);case"textInput":return r=i.data,r===jm&&km?null:r;default:return null}}function o2(r,i){if(gi)return r==="compositionend"||!Ac&&Tm(r,i)?(r=wm(),Za=Pc=qr=null,gi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Em&&i.locale!=="ko"?null:i.data;default:return null}}var a2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!a2[r.type]:i==="textarea"}function Lm(r,i,u,d){Xp(d),i=al(i,"onChange"),0<i.length&&(u=new Nc("onChange","change",null,u,d),r.push({event:u,listeners:i}))}var No=null,Eo=null;function l2(r){Ym(r,0)}function rl(r){var i=wi(r);if(vr(i))return r}function u2(r,i){if(r==="change")return i}var Rm=!1;if(c){var _c;if(c){var Lc="oninput"in document;if(!Lc){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Lc=typeof Dm.oninput=="function"}_c=Lc}else _c=!1;Rm=_c&&(!document.documentMode||9<document.documentMode)}function Im(){No&&(No.detachEvent("onpropertychange",Mm),Eo=No=null)}function Mm(r){if(r.propertyName==="value"&&rl(Eo)){var i=[];Lm(i,Eo,r,fc(r)),nm(l2,i)}}function c2(r,i,u){r==="focusin"?(Im(),No=i,Eo=u,No.attachEvent("onpropertychange",Mm)):r==="focusout"&&Im()}function f2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return rl(Eo)}function d2(r,i){if(r==="click")return rl(i)}function h2(r,i){if(r==="input"||r==="change")return rl(i)}function p2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wn=typeof Object.is=="function"?Object.is:p2;function jo(r,i){if(Wn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),d=Object.keys(i);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var v=u[d];if(!f.call(i,v)||!Wn(r[v],i[v]))return!1}return!0}function Om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Fm(r,i){var u=Om(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=i&&d>=i)return{node:u,offset:i-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Om(u)}}function Bm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Bm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Vm(){for(var r=window,i=an();i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)r=i.contentWindow;else break;i=an(r.document)}return i}function Rc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function m2(r){var i=Vm(),u=r.focusedElem,d=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&Bm(u.ownerDocument.documentElement,u)){if(d!==null&&Rc(u)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(r,u.value.length);else if(r=(i=u.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var v=u.textContent.length,S=Math.min(d.start,v);d=d.end===void 0?S:Math.min(d.end,v),!r.extend&&S>d&&(v=d,d=S,S=v),v=Fm(u,S);var A=Fm(u,d);v&&A&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),r.removeAllRanges(),S>d?(r.addRange(i),r.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),r.addRange(i)))}}for(i=[],r=u;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)r=i[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var g2=c&&"documentMode"in document&&11>=document.documentMode,yi=null,Dc=null,ko=null,Ic=!1;function $m(r,i,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ic||yi==null||yi!==an(d)||(d=yi,"selectionStart"in d&&Rc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ko&&jo(ko,d)||(ko=d,d=al(Dc,"onSelect"),0<d.length&&(i=new Nc("onSelect","select",null,i,u),r.push({event:i,listeners:d}),i.target=yi)))}function sl(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var xi={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Mc={},Um={};c&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function il(r){if(Mc[r])return Mc[r];if(!xi[r])return r;var i=xi[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Um)return Mc[r]=i[u];return r}var zm=il("animationend"),qm=il("animationiteration"),Qm=il("animationstart"),Wm=il("transitionend"),Hm=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(r,i){Hm.set(r,i),a(i,[r])}for(var Oc=0;Oc<Km.length;Oc++){var Fc=Km[Oc],y2=Fc.toLowerCase(),x2=Fc[0].toUpperCase()+Fc.slice(1);Qr(y2,"on"+x2)}Qr(zm,"onAnimationEnd"),Qr(qm,"onAnimationIteration"),Qr(Qm,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Wm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Gm(r,i,u){var d=r.type||"unknown-event";r.currentTarget=u,yS(d,i,void 0,r),r.currentTarget=null}function Ym(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],v=d.event;d=d.listeners;e:{var S=void 0;if(i)for(var A=d.length-1;0<=A;A--){var F=d[A],z=F.instance,te=F.currentTarget;if(F=F.listener,z!==S&&v.isPropagationStopped())break e;Gm(v,F,te),S=z}else for(A=0;A<d.length;A++){if(F=d[A],z=F.instance,te=F.currentTarget,F=F.listener,z!==S&&v.isPropagationStopped())break e;Gm(v,F,te),S=z}}}if(za)throw r=mc,za=!1,mc=null,r}function lt(r,i){var u=i[Wc];u===void 0&&(u=i[Wc]=new Set);var d=r+"__bubble";u.has(d)||(Jm(i,r,2,!1),u.add(d))}function Bc(r,i,u){var d=0;i&&(d|=4),Jm(u,r,d,i)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Ao(r){if(!r[ol]){r[ol]=!0,s.forEach(function(u){u!=="selectionchange"&&(v2.has(u)||Bc(u,!1,r),Bc(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ol]||(i[ol]=!0,Bc("selectionchange",!1,i))}}function Jm(r,i,u,d){switch(bm(i)){case 1:var v=RS;break;case 4:v=DS;break;default:v=Sc}u=v.bind(null,i,u,r),v=void 0,!pc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),d?v!==void 0?r.addEventListener(i,u,{capture:!0,passive:v}):r.addEventListener(i,u,!0):v!==void 0?r.addEventListener(i,u,{passive:v}):r.addEventListener(i,u,!1)}function Vc(r,i,u,d,v){var S=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var F=d.stateNode.containerInfo;if(F===v||F.nodeType===8&&F.parentNode===v)break;if(A===4)for(A=d.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;A=A.return}for(;F!==null;){if(A=Ls(F),A===null)return;if(z=A.tag,z===5||z===6){d=S=A;continue e}F=F.parentNode}}d=d.return}nm(function(){var te=S,fe=fc(u),pe=[];e:{var ce=Hm.get(r);if(ce!==void 0){var we=Nc,Pe=r;switch(r){case"keypress":if(el(u)===0)break e;case"keydown":case"keyup":we=GS;break;case"focusin":Pe="focus",we=kc;break;case"focusout":Pe="blur",we=kc;break;case"beforeblur":case"afterblur":we=kc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=XS;break;case zm:case qm:case Qm:we=VS;break;case Wm:we=e2;break;case"scroll":we=IS;break;case"wheel":we=n2;break;case"copy":case"cut":case"paste":we=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Nm}var Ne=(i&4)!==0,St=!Ne&&r==="scroll",Y=Ne?ce!==null?ce+"Capture":null:ce;Ne=[];for(var Q=te,X;Q!==null;){X=Q;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Y!==null&&(ge=fo(Q,Y),ge!=null&&Ne.push(_o(Q,ge,X)))),St)break;Q=Q.return}0<Ne.length&&(ce=new we(ce,Pe,null,u,fe),pe.push({event:ce,listeners:Ne}))}}if((i&7)===0){e:{if(ce=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",ce&&u!==it&&(Pe=u.relatedTarget||u.fromElement)&&(Ls(Pe)||Pe[wr]))break e;if((we||ce)&&(ce=fe.window===fe?fe:(ce=fe.ownerDocument)?ce.defaultView||ce.parentWindow:window,we?(Pe=u.relatedTarget||u.toElement,we=te,Pe=Pe?Ls(Pe):null,Pe!==null&&(St=_s(Pe),Pe!==St||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(we=null,Pe=te),we!==Pe)){if(Ne=Cm,ge="onMouseLeave",Y="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=Nm,ge="onPointerLeave",Y="onPointerEnter",Q="pointer"),St=we==null?ce:wi(we),X=Pe==null?ce:wi(Pe),ce=new Ne(ge,Q+"leave",we,u,fe),ce.target=St,ce.relatedTarget=X,ge=null,Ls(fe)===te&&(Ne=new Ne(Y,Q+"enter",Pe,u,fe),Ne.target=X,Ne.relatedTarget=St,ge=Ne),St=ge,we&&Pe)t:{for(Ne=we,Y=Pe,Q=0,X=Ne;X;X=vi(X))Q++;for(X=0,ge=Y;ge;ge=vi(ge))X++;for(;0<Q-X;)Ne=vi(Ne),Q--;for(;0<X-Q;)Y=vi(Y),X--;for(;Q--;){if(Ne===Y||Y!==null&&Ne===Y.alternate)break t;Ne=vi(Ne),Y=vi(Y)}Ne=null}else Ne=null;we!==null&&Xm(pe,ce,we,Ne,!1),Pe!==null&&St!==null&&Xm(pe,St,Pe,Ne,!0)}}e:{if(ce=te?wi(te):window,we=ce.nodeName&&ce.nodeName.toLowerCase(),we==="select"||we==="input"&&ce.type==="file")var ke=u2;else if(_m(ce))if(Rm)ke=h2;else{ke=f2;var Le=c2}else(we=ce.nodeName)&&we.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(ke=d2);if(ke&&(ke=ke(r,te))){Lm(pe,ke,u,fe);break e}Le&&Le(r,ce,te),r==="focusout"&&(Le=ce._wrapperState)&&Le.controlled&&ce.type==="number"&&br(ce,"number",ce.value)}switch(Le=te?wi(te):window,r){case"focusin":(_m(Le)||Le.contentEditable==="true")&&(yi=Le,Dc=te,ko=null);break;case"focusout":ko=Dc=yi=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,$m(pe,u,fe);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":$m(pe,u,fe)}var Re;if(Ac)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else gi?Tm(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Em&&u.locale!=="ko"&&(gi||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&gi&&(Re=wm()):(qr=fe,Pc="value"in qr?qr.value:qr.textContent,gi=!0)),Le=al(te,Oe),0<Le.length&&(Oe=new Pm(Oe,r,null,u,fe),pe.push({event:Oe,listeners:Le}),Re?Oe.data=Re:(Re=Am(u),Re!==null&&(Oe.data=Re)))),(Re=s2?i2(r,u):o2(r,u))&&(te=al(te,"onBeforeInput"),0<te.length&&(fe=new Pm("onBeforeInput","beforeinput",null,u,fe),pe.push({event:fe,listeners:te}),fe.data=Re))}Ym(pe,i)})}function _o(r,i,u){return{instance:r,listener:i,currentTarget:u}}function al(r,i){for(var u=i+"Capture",d=[];r!==null;){var v=r,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=fo(r,u),S!=null&&d.unshift(_o(r,S,v)),S=fo(r,i),S!=null&&d.push(_o(r,S,v))),r=r.return}return d}function vi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Xm(r,i,u,d,v){for(var S=i._reactName,A=[];u!==null&&u!==d;){var F=u,z=F.alternate,te=F.stateNode;if(z!==null&&z===d)break;F.tag===5&&te!==null&&(F=te,v?(z=fo(u,S),z!=null&&A.unshift(_o(u,z,F))):v||(z=fo(u,S),z!=null&&A.push(_o(u,z,F)))),u=u.return}A.length!==0&&r.push({event:i,listeners:A})}var b2=/\r\n?/g,w2=/\u0000|\uFFFD/g;function Zm(r){return(typeof r=="string"?r:""+r).replace(b2,`
`).replace(w2,"")}function ll(r,i,u){if(i=Zm(i),Zm(r)!==i&&u)throw Error(n(425))}function ul(){}var $c=null,Uc=null;function zc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(r){return eg.resolve(null).then(r).catch(P2)}:qc;function P2(r){setTimeout(function(){throw r})}function Qc(r,i){var u=i,d=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(d===0){r.removeChild(v),wo(i);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=v}while(u);wo(i)}function Wr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function tg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}var bi=Math.random().toString(36).slice(2),ar="__reactFiber$"+bi,Lo="__reactProps$"+bi,wr="__reactContainer$"+bi,Wc="__reactEvents$"+bi,N2="__reactListeners$"+bi,E2="__reactHandles$"+bi;function Ls(r){var i=r[ar];if(i)return i;for(var u=r.parentNode;u;){if(i=u[wr]||u[ar]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=tg(r);r!==null;){if(u=r[ar])return u;r=tg(r)}return i}r=u,u=r.parentNode}return null}function Ro(r){return r=r[ar]||r[wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function wi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function cl(r){return r[Lo]||null}var Hc=[],Si=-1;function Hr(r){return{current:r}}function ut(r){0>Si||(r.current=Hc[Si],Hc[Si]=null,Si--)}function ot(r,i){Si++,Hc[Si]=r.current,r.current=i}var Kr={},Ht=Hr(Kr),ln=Hr(!1),Rs=Kr;function Ci(r,i){var u=r.type.contextTypes;if(!u)return Kr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in u)v[S]=i[S];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=v),v}function un(r){return r=r.childContextTypes,r!=null}function fl(){ut(ln),ut(Ht)}function ng(r,i,u){if(Ht.current!==Kr)throw Error(n(168));ot(Ht,i),ot(ln,u)}function rg(r,i,u){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var v in d)if(!(v in i))throw Error(n(108,Ke(r)||"Unknown",v));return ye({},u,d)}function dl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Kr,Rs=Ht.current,ot(Ht,r),ot(ln,ln.current),!0}function sg(r,i,u){var d=r.stateNode;if(!d)throw Error(n(169));u?(r=rg(r,i,Rs),d.__reactInternalMemoizedMergedChildContext=r,ut(ln),ut(Ht),ot(Ht,r)):ut(ln),ot(ln,u)}var Sr=null,hl=!1,Kc=!1;function ig(r){Sr===null?Sr=[r]:Sr.push(r)}function j2(r){hl=!0,ig(r)}function Gr(){if(!Kc&&Sr!==null){Kc=!0;var r=0,i=st;try{var u=Sr;for(st=1;r<u.length;r++){var d=u[r];do d=d(!0);while(d!==null)}Sr=null,hl=!1}catch(v){throw Sr!==null&&(Sr=Sr.slice(r+1)),am(gc,Gr),v}finally{st=i,Kc=!1}}return null}var Pi=[],Ni=0,pl=null,ml=0,Rn=[],Dn=0,Ds=null,Cr=1,Pr="";function Is(r,i){Pi[Ni++]=ml,Pi[Ni++]=pl,pl=r,ml=i}function og(r,i,u){Rn[Dn++]=Cr,Rn[Dn++]=Pr,Rn[Dn++]=Ds,Ds=r;var d=Cr;r=Pr;var v=32-Qn(d)-1;d&=~(1<<v),u+=1;var S=32-Qn(i)+v;if(30<S){var A=v-v%5;S=(d&(1<<A)-1).toString(32),d>>=A,v-=A,Cr=1<<32-Qn(i)+v|u<<v|d,Pr=S+r}else Cr=1<<S|u<<v|d,Pr=r}function Gc(r){r.return!==null&&(Is(r,1),og(r,1,0))}function Yc(r){for(;r===pl;)pl=Pi[--Ni],Pi[Ni]=null,ml=Pi[--Ni],Pi[Ni]=null;for(;r===Ds;)Ds=Rn[--Dn],Rn[Dn]=null,Pr=Rn[--Dn],Rn[Dn]=null,Cr=Rn[--Dn],Rn[Dn]=null}var Sn=null,Cn=null,ct=!1,Hn=null;function ag(r,i){var u=Fn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=r,i=r.deletions,i===null?(r.deletions=[u],r.flags|=16):i.push(u)}function lg(r,i){switch(r.tag){case 5:var u=r.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Sn=r,Cn=Wr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Sn=r,Cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Ds!==null?{id:Cr,overflow:Pr}:null,r.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Fn(18,null,null,0),u.stateNode=i,u.return=r,r.child=u,Sn=r,Cn=null,!0):!1;default:return!1}}function Jc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Xc(r){if(ct){var i=Cn;if(i){var u=i;if(!lg(r,i)){if(Jc(r))throw Error(n(418));i=Wr(u.nextSibling);var d=Sn;i&&lg(r,i)?ag(d,u):(r.flags=r.flags&-4097|2,ct=!1,Sn=r)}}else{if(Jc(r))throw Error(n(418));r.flags=r.flags&-4097|2,ct=!1,Sn=r}}}function ug(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Sn=r}function gl(r){if(r!==Sn)return!1;if(!ct)return ug(r),ct=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!zc(r.type,r.memoizedProps)),i&&(i=Cn)){if(Jc(r))throw cg(),Error(n(418));for(;i;)ag(r,i),i=Wr(i.nextSibling)}if(ug(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(i===0){Cn=Wr(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}r=r.nextSibling}Cn=null}}else Cn=Sn?Wr(r.stateNode.nextSibling):null;return!0}function cg(){for(var r=Cn;r;)r=Wr(r.nextSibling)}function Ei(){Cn=Sn=null,ct=!1}function Zc(r){Hn===null?Hn=[r]:Hn.push(r)}var k2=M.ReactCurrentBatchConfig;function Do(r,i,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,r));var v=d,S=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(A){var F=v.refs;A===null?delete F[S]:F[S]=A},i._stringRef=S,i)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function yl(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function fg(r){var i=r._init;return i(r._payload)}function dg(r){function i(Y,Q){if(r){var X=Y.deletions;X===null?(Y.deletions=[Q],Y.flags|=16):X.push(Q)}}function u(Y,Q){if(!r)return null;for(;Q!==null;)i(Y,Q),Q=Q.sibling;return null}function d(Y,Q){for(Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function v(Y,Q){return Y=rs(Y,Q),Y.index=0,Y.sibling=null,Y}function S(Y,Q,X){return Y.index=X,r?(X=Y.alternate,X!==null?(X=X.index,X<Q?(Y.flags|=2,Q):X):(Y.flags|=2,Q)):(Y.flags|=1048576,Q)}function A(Y){return r&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,Q,X,ge){return Q===null||Q.tag!==6?(Q=Qf(X,Y.mode,ge),Q.return=Y,Q):(Q=v(Q,X),Q.return=Y,Q)}function z(Y,Q,X,ge){var ke=X.type;return ke===D?fe(Y,Q,X.props.children,ge,X.key):Q!==null&&(Q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===xe&&fg(ke)===Q.type)?(ge=v(Q,X.props),ge.ref=Do(Y,Q,X),ge.return=Y,ge):(ge=$l(X.type,X.key,X.props,null,Y.mode,ge),ge.ref=Do(Y,Q,X),ge.return=Y,ge)}function te(Y,Q,X,ge){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==X.containerInfo||Q.stateNode.implementation!==X.implementation?(Q=Wf(X,Y.mode,ge),Q.return=Y,Q):(Q=v(Q,X.children||[]),Q.return=Y,Q)}function fe(Y,Q,X,ge,ke){return Q===null||Q.tag!==7?(Q=zs(X,Y.mode,ge,ke),Q.return=Y,Q):(Q=v(Q,X),Q.return=Y,Q)}function pe(Y,Q,X){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Qf(""+Q,Y.mode,X),Q.return=Y,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return X=$l(Q.type,Q.key,Q.props,null,Y.mode,X),X.ref=Do(Y,null,Q),X.return=Y,X;case L:return Q=Wf(Q,Y.mode,X),Q.return=Y,Q;case xe:var ge=Q._init;return pe(Y,ge(Q._payload),X)}if($(Q)||ue(Q))return Q=zs(Q,Y.mode,X,null),Q.return=Y,Q;yl(Y,Q)}return null}function ce(Y,Q,X,ge){var ke=Q!==null?Q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ke!==null?null:F(Y,Q,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return X.key===ke?z(Y,Q,X,ge):null;case L:return X.key===ke?te(Y,Q,X,ge):null;case xe:return ke=X._init,ce(Y,Q,ke(X._payload),ge)}if($(X)||ue(X))return ke!==null?null:fe(Y,Q,X,ge,null);yl(Y,X)}return null}function we(Y,Q,X,ge,ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(X)||null,F(Q,Y,""+ge,ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case R:return Y=Y.get(ge.key===null?X:ge.key)||null,z(Q,Y,ge,ke);case L:return Y=Y.get(ge.key===null?X:ge.key)||null,te(Q,Y,ge,ke);case xe:var Le=ge._init;return we(Y,Q,X,Le(ge._payload),ke)}if($(ge)||ue(ge))return Y=Y.get(X)||null,fe(Q,Y,ge,ke,null);yl(Q,ge)}return null}function Pe(Y,Q,X,ge){for(var ke=null,Le=null,Re=Q,Oe=Q=0,Ot=null;Re!==null&&Oe<X.length;Oe++){Re.index>Oe?(Ot=Re,Re=null):Ot=Re.sibling;var Ze=ce(Y,Re,X[Oe],ge);if(Ze===null){Re===null&&(Re=Ot);break}r&&Re&&Ze.alternate===null&&i(Y,Re),Q=S(Ze,Q,Oe),Le===null?ke=Ze:Le.sibling=Ze,Le=Ze,Re=Ot}if(Oe===X.length)return u(Y,Re),ct&&Is(Y,Oe),ke;if(Re===null){for(;Oe<X.length;Oe++)Re=pe(Y,X[Oe],ge),Re!==null&&(Q=S(Re,Q,Oe),Le===null?ke=Re:Le.sibling=Re,Le=Re);return ct&&Is(Y,Oe),ke}for(Re=d(Y,Re);Oe<X.length;Oe++)Ot=we(Re,Y,Oe,X[Oe],ge),Ot!==null&&(r&&Ot.alternate!==null&&Re.delete(Ot.key===null?Oe:Ot.key),Q=S(Ot,Q,Oe),Le===null?ke=Ot:Le.sibling=Ot,Le=Ot);return r&&Re.forEach(function(ss){return i(Y,ss)}),ct&&Is(Y,Oe),ke}function Ne(Y,Q,X,ge){var ke=ue(X);if(typeof ke!="function")throw Error(n(150));if(X=ke.call(X),X==null)throw Error(n(151));for(var Le=ke=null,Re=Q,Oe=Q=0,Ot=null,Ze=X.next();Re!==null&&!Ze.done;Oe++,Ze=X.next()){Re.index>Oe?(Ot=Re,Re=null):Ot=Re.sibling;var ss=ce(Y,Re,Ze.value,ge);if(ss===null){Re===null&&(Re=Ot);break}r&&Re&&ss.alternate===null&&i(Y,Re),Q=S(ss,Q,Oe),Le===null?ke=ss:Le.sibling=ss,Le=ss,Re=Ot}if(Ze.done)return u(Y,Re),ct&&Is(Y,Oe),ke;if(Re===null){for(;!Ze.done;Oe++,Ze=X.next())Ze=pe(Y,Ze.value,ge),Ze!==null&&(Q=S(Ze,Q,Oe),Le===null?ke=Ze:Le.sibling=Ze,Le=Ze);return ct&&Is(Y,Oe),ke}for(Re=d(Y,Re);!Ze.done;Oe++,Ze=X.next())Ze=we(Re,Y,Oe,Ze.value,ge),Ze!==null&&(r&&Ze.alternate!==null&&Re.delete(Ze.key===null?Oe:Ze.key),Q=S(Ze,Q,Oe),Le===null?ke=Ze:Le.sibling=Ze,Le=Ze);return r&&Re.forEach(function(a4){return i(Y,a4)}),ct&&Is(Y,Oe),ke}function St(Y,Q,X,ge){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case R:e:{for(var ke=X.key,Le=Q;Le!==null;){if(Le.key===ke){if(ke=X.type,ke===D){if(Le.tag===7){u(Y,Le.sibling),Q=v(Le,X.props.children),Q.return=Y,Y=Q;break e}}else if(Le.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===xe&&fg(ke)===Le.type){u(Y,Le.sibling),Q=v(Le,X.props),Q.ref=Do(Y,Le,X),Q.return=Y,Y=Q;break e}u(Y,Le);break}else i(Y,Le);Le=Le.sibling}X.type===D?(Q=zs(X.props.children,Y.mode,ge,X.key),Q.return=Y,Y=Q):(ge=$l(X.type,X.key,X.props,null,Y.mode,ge),ge.ref=Do(Y,Q,X),ge.return=Y,Y=ge)}return A(Y);case L:e:{for(Le=X.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===X.containerInfo&&Q.stateNode.implementation===X.implementation){u(Y,Q.sibling),Q=v(Q,X.children||[]),Q.return=Y,Y=Q;break e}else{u(Y,Q);break}else i(Y,Q);Q=Q.sibling}Q=Wf(X,Y.mode,ge),Q.return=Y,Y=Q}return A(Y);case xe:return Le=X._init,St(Y,Q,Le(X._payload),ge)}if($(X))return Pe(Y,Q,X,ge);if(ue(X))return Ne(Y,Q,X,ge);yl(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,Q!==null&&Q.tag===6?(u(Y,Q.sibling),Q=v(Q,X),Q.return=Y,Y=Q):(u(Y,Q),Q=Qf(X,Y.mode,ge),Q.return=Y,Y=Q),A(Y)):u(Y,Q)}return St}var ji=dg(!0),hg=dg(!1),xl=Hr(null),vl=null,ki=null,ef=null;function tf(){ef=ki=vl=null}function nf(r){var i=xl.current;ut(xl),r._currentValue=i}function rf(r,i,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===u)break;r=r.return}}function Ti(r,i){vl=r,ef=ki=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(cn=!0),r.firstContext=null)}function In(r){var i=r._currentValue;if(ef!==r)if(r={context:r,memoizedValue:i,next:null},ki===null){if(vl===null)throw Error(n(308));ki=r,vl.dependencies={lanes:0,firstContext:r}}else ki=ki.next=r;return i}var Ms=null;function sf(r){Ms===null?Ms=[r]:Ms.push(r)}function pg(r,i,u,d){var v=i.interleaved;return v===null?(u.next=u,sf(i)):(u.next=v.next,v.next=u),i.interleaved=u,Nr(r,d)}function Nr(r,i){r.lanes|=i;var u=r.alternate;for(u!==null&&(u.lanes|=i),u=r,r=r.return;r!==null;)r.childLanes|=i,u=r.alternate,u!==null&&(u.childLanes|=i),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Yr=!1;function of(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Er(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(r,i,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Je&2)!==0){var v=d.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),d.pending=i,Nr(r,u)}return v=d.interleaved,v===null?(i.next=i,sf(d)):(i.next=v.next,v.next=i),d.interleaved=i,Nr(r,u)}function bl(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,u|=d,i.lanes=u,vc(r,u)}}function gg(r,i){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?v=S=A:S=S.next=A,u=u.next}while(u!==null);S===null?v=S=i:S=S.next=i}else v=S=i;u={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:d.shared,effects:d.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}function wl(r,i,u,d){var v=r.updateQueue;Yr=!1;var S=v.firstBaseUpdate,A=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var z=F,te=z.next;z.next=null,A===null?S=te:A.next=te,A=z;var fe=r.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==A&&(F===null?fe.firstBaseUpdate=te:F.next=te,fe.lastBaseUpdate=z))}if(S!==null){var pe=v.baseState;A=0,fe=te=z=null,F=S;do{var ce=F.lane,we=F.eventTime;if((d&ce)===ce){fe!==null&&(fe=fe.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Pe=r,Ne=F;switch(ce=i,we=u,Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){pe=Pe.call(we,pe,ce);break e}pe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,ce=typeof Pe=="function"?Pe.call(we,pe,ce):Pe,ce==null)break e;pe=ye({},pe,ce);break e;case 2:Yr=!0}}F.callback!==null&&F.lane!==0&&(r.flags|=64,ce=v.effects,ce===null?v.effects=[F]:ce.push(F))}else we={eventTime:we,lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(te=fe=we,z=pe):fe=fe.next=we,A|=ce;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ce=F,F=ce.next,ce.next=null,v.lastBaseUpdate=ce,v.shared.pending=null}}while(!0);if(fe===null&&(z=pe),v.baseState=z,v.firstBaseUpdate=te,v.lastBaseUpdate=fe,i=v.shared.interleaved,i!==null){v=i;do A|=v.lane,v=v.next;while(v!==i)}else S===null&&(v.shared.lanes=0);Bs|=A,r.lanes=A,r.memoizedState=pe}}function yg(r,i,u){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],v=d.callback;if(v!==null){if(d.callback=null,d=u,typeof v!="function")throw Error(n(191,v));v.call(d)}}}var Io={},lr=Hr(Io),Mo=Hr(Io),Oo=Hr(Io);function Os(r){if(r===Io)throw Error(n(174));return r}function af(r,i){switch(ot(Oo,i),ot(Mo,r),ot(lr,Io),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:w(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=w(i,r)}ut(lr),ot(lr,i)}function Ai(){ut(lr),ut(Mo),ut(Oo)}function xg(r){Os(Oo.current);var i=Os(lr.current),u=w(i,r.type);i!==u&&(ot(Mo,r),ot(lr,u))}function lf(r){Mo.current===r&&(ut(lr),ut(Mo))}var pt=Hr(0);function Sl(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uf=[];function cf(){for(var r=0;r<uf.length;r++)uf[r]._workInProgressVersionPrimary=null;uf.length=0}var Cl=M.ReactCurrentDispatcher,ff=M.ReactCurrentBatchConfig,Fs=0,mt=null,_t=null,It=null,Pl=!1,Fo=!1,Bo=0,T2=0;function Kt(){throw Error(n(321))}function df(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!Wn(r[u],i[u]))return!1;return!0}function hf(r,i,u,d,v,S){if(Fs=S,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Cl.current=r===null||r.memoizedState===null?R2:D2,r=u(d,v),Fo){S=0;do{if(Fo=!1,Bo=0,25<=S)throw Error(n(301));S+=1,It=_t=null,i.updateQueue=null,Cl.current=I2,r=u(d,v)}while(Fo)}if(Cl.current=jl,i=_t!==null&&_t.next!==null,Fs=0,It=_t=mt=null,Pl=!1,i)throw Error(n(300));return r}function pf(){var r=Bo!==0;return Bo=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?mt.memoizedState=It=r:It=It.next=r,It}function Mn(){if(_t===null){var r=mt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var i=It===null?mt.memoizedState:It.next;if(i!==null)It=i,_t=r;else{if(r===null)throw Error(n(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?mt.memoizedState=It=r:It=It.next=r}return It}function Vo(r,i){return typeof i=="function"?i(r):i}function mf(r){var i=Mn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var d=_t,v=d.baseQueue,S=u.pending;if(S!==null){if(v!==null){var A=v.next;v.next=S.next,S.next=A}d.baseQueue=v=S,u.pending=null}if(v!==null){S=v.next,d=d.baseState;var F=A=null,z=null,te=S;do{var fe=te.lane;if((Fs&fe)===fe)z!==null&&(z=z.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),d=te.hasEagerState?te.eagerState:r(d,te.action);else{var pe={lane:fe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};z===null?(F=z=pe,A=d):z=z.next=pe,mt.lanes|=fe,Bs|=fe}te=te.next}while(te!==null&&te!==S);z===null?A=d:z.next=F,Wn(d,i.memoizedState)||(cn=!0),i.memoizedState=d,i.baseState=A,i.baseQueue=z,u.lastRenderedState=d}if(r=u.interleaved,r!==null){v=r;do S=v.lane,mt.lanes|=S,Bs|=S,v=v.next;while(v!==r)}else v===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function gf(r){var i=Mn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var d=u.dispatch,v=u.pending,S=i.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do S=r(S,A.action),A=A.next;while(A!==v);Wn(S,i.memoizedState)||(cn=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),u.lastRenderedState=S}return[S,d]}function vg(){}function bg(r,i){var u=mt,d=Mn(),v=i(),S=!Wn(d.memoizedState,v);if(S&&(d.memoizedState=v,cn=!0),d=d.queue,yf(Cg.bind(null,u,d,r),[r]),d.getSnapshot!==i||S||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,$o(9,Sg.bind(null,u,d,v,i),void 0,null),Mt===null)throw Error(n(349));(Fs&30)!==0||wg(u,i,v)}return v}function wg(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function Sg(r,i,u,d){i.value=u,i.getSnapshot=d,Pg(i)&&Ng(r)}function Cg(r,i,u){return u(function(){Pg(i)&&Ng(r)})}function Pg(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!Wn(r,u)}catch{return!0}}function Ng(r){var i=Nr(r,1);i!==null&&Jn(i,r,1,-1)}function Eg(r){var i=ur();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:r},i.queue=r,r=r.dispatch=L2.bind(null,mt,r),[i.memoizedState,r]}function $o(r,i,u,d){return r={tag:r,create:i,destroy:u,deps:d,next:null},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.lastEffect=r.next=r):(u=i.lastEffect,u===null?i.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,i.lastEffect=r)),r}function jg(){return Mn().memoizedState}function Nl(r,i,u,d){var v=ur();mt.flags|=r,v.memoizedState=$o(1|i,u,void 0,d===void 0?null:d)}function El(r,i,u,d){var v=Mn();d=d===void 0?null:d;var S=void 0;if(_t!==null){var A=_t.memoizedState;if(S=A.destroy,d!==null&&df(d,A.deps)){v.memoizedState=$o(i,u,S,d);return}}mt.flags|=r,v.memoizedState=$o(1|i,u,S,d)}function kg(r,i){return Nl(8390656,8,r,i)}function yf(r,i){return El(2048,8,r,i)}function Tg(r,i){return El(4,2,r,i)}function Ag(r,i){return El(4,4,r,i)}function _g(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Lg(r,i,u){return u=u!=null?u.concat([r]):null,El(4,4,_g.bind(null,i,r),u)}function xf(){}function Rg(r,i){var u=Mn();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&df(i,d[1])?d[0]:(u.memoizedState=[r,i],r)}function Dg(r,i){var u=Mn();i=i===void 0?null:i;var d=u.memoizedState;return d!==null&&i!==null&&df(i,d[1])?d[0]:(r=r(),u.memoizedState=[r,i],r)}function Ig(r,i,u){return(Fs&21)===0?(r.baseState&&(r.baseState=!1,cn=!0),r.memoizedState=u):(Wn(u,i)||(u=fm(),mt.lanes|=u,Bs|=u,r.baseState=!0),i)}function A2(r,i){var u=st;st=u!==0&&4>u?u:4,r(!0);var d=ff.transition;ff.transition={};try{r(!1),i()}finally{st=u,ff.transition=d}}function Mg(){return Mn().memoizedState}function _2(r,i,u){var d=ts(r);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Og(r))Fg(i,u);else if(u=pg(r,i,u,d),u!==null){var v=tn();Jn(u,r,d,v),Bg(u,i,d)}}function L2(r,i,u){var d=ts(r),v={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Og(r))Fg(i,v);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var A=i.lastRenderedState,F=S(A,u);if(v.hasEagerState=!0,v.eagerState=F,Wn(F,A)){var z=i.interleaved;z===null?(v.next=v,sf(i)):(v.next=z.next,z.next=v),i.interleaved=v;return}}catch{}finally{}u=pg(r,i,v,d),u!==null&&(v=tn(),Jn(u,r,d,v),Bg(u,i,d))}}function Og(r){var i=r.alternate;return r===mt||i!==null&&i===mt}function Fg(r,i){Fo=Pl=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function Bg(r,i,u){if((u&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,u|=d,i.lanes=u,vc(r,u)}}var jl={readContext:In,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},R2={readContext:In,useCallback:function(r,i){return ur().memoizedState=[r,i===void 0?null:i],r},useContext:In,useEffect:kg,useImperativeHandle:function(r,i,u){return u=u!=null?u.concat([r]):null,Nl(4194308,4,_g.bind(null,i,r),u)},useLayoutEffect:function(r,i){return Nl(4194308,4,r,i)},useInsertionEffect:function(r,i){return Nl(4,2,r,i)},useMemo:function(r,i){var u=ur();return i=i===void 0?null:i,r=r(),u.memoizedState=[r,i],r},useReducer:function(r,i,u){var d=ur();return i=u!==void 0?u(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=_2.bind(null,mt,r),[d.memoizedState,r]},useRef:function(r){var i=ur();return r={current:r},i.memoizedState=r},useState:Eg,useDebugValue:xf,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=Eg(!1),i=r[0];return r=A2.bind(null,r[1]),ur().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,u){var d=mt,v=ur();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Mt===null)throw Error(n(349));(Fs&30)!==0||wg(d,i,u)}v.memoizedState=u;var S={value:u,getSnapshot:i};return v.queue=S,kg(Cg.bind(null,d,S,r),[r]),d.flags|=2048,$o(9,Sg.bind(null,d,S,u,i),void 0,null),u},useId:function(){var r=ur(),i=Mt.identifierPrefix;if(ct){var u=Pr,d=Cr;u=(d&~(1<<32-Qn(d)-1)).toString(32)+u,i=":"+i+"R"+u,u=Bo++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=T2++,i=":"+i+"r"+u.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},D2={readContext:In,useCallback:Rg,useContext:In,useEffect:yf,useImperativeHandle:Lg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Dg,useReducer:mf,useRef:jg,useState:function(){return mf(Vo)},useDebugValue:xf,useDeferredValue:function(r){var i=Mn();return Ig(i,_t.memoizedState,r)},useTransition:function(){var r=mf(Vo)[0],i=Mn().memoizedState;return[r,i]},useMutableSource:vg,useSyncExternalStore:bg,useId:Mg,unstable_isNewReconciler:!1},I2={readContext:In,useCallback:Rg,useContext:In,useEffect:yf,useImperativeHandle:Lg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:Dg,useReducer:gf,useRef:jg,useState:function(){return gf(Vo)},useDebugValue:xf,useDeferredValue:function(r){var i=Mn();return _t===null?i.memoizedState=r:Ig(i,_t.memoizedState,r)},useTransition:function(){var r=gf(Vo)[0],i=Mn().memoizedState;return[r,i]},useMutableSource:vg,useSyncExternalStore:bg,useId:Mg,unstable_isNewReconciler:!1};function Kn(r,i){if(r&&r.defaultProps){i=ye({},i),r=r.defaultProps;for(var u in r)i[u]===void 0&&(i[u]=r[u]);return i}return i}function vf(r,i,u,d){i=r.memoizedState,u=u(d,i),u=u==null?i:ye({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var kl={isMounted:function(r){return(r=r._reactInternals)?_s(r)===r:!1},enqueueSetState:function(r,i,u){r=r._reactInternals;var d=tn(),v=ts(r),S=Er(d,v);S.payload=i,u!=null&&(S.callback=u),i=Jr(r,S,v),i!==null&&(Jn(i,r,v,d),bl(i,r,v))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var d=tn(),v=ts(r),S=Er(d,v);S.tag=1,S.payload=i,u!=null&&(S.callback=u),i=Jr(r,S,v),i!==null&&(Jn(i,r,v,d),bl(i,r,v))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=tn(),d=ts(r),v=Er(u,d);v.tag=2,i!=null&&(v.callback=i),i=Jr(r,v,d),i!==null&&(Jn(i,r,d,u),bl(i,r,d))}};function Vg(r,i,u,d,v,S,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,S,A):i.prototype&&i.prototype.isPureReactComponent?!jo(u,d)||!jo(v,S):!0}function $g(r,i,u){var d=!1,v=Kr,S=i.contextType;return typeof S=="object"&&S!==null?S=In(S):(v=un(i)?Rs:Ht.current,d=i.contextTypes,S=(d=d!=null)?Ci(r,v):Kr),i=new i(u,S),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=kl,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=S),i}function Ug(r,i,u,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,d),i.state!==r&&kl.enqueueReplaceState(i,i.state,null)}function bf(r,i,u,d){var v=r.stateNode;v.props=u,v.state=r.memoizedState,v.refs={},of(r);var S=i.contextType;typeof S=="object"&&S!==null?v.context=In(S):(S=un(i)?Rs:Ht.current,v.context=Ci(r,S)),v.state=r.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(vf(r,i,S,u),v.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&kl.enqueueReplaceState(v,v.state,null),wl(r,u,v,d),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function _i(r,i){try{var u="",d=i;do u+=ze(d),d=d.return;while(d);var v=u}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:r,source:i,stack:v,digest:null}}function wf(r,i,u){return{value:r,source:null,stack:u??null,digest:i??null}}function Sf(r,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function zg(r,i,u){u=Er(-1,u),u.tag=3,u.payload={element:null};var d=i.value;return u.callback=function(){Il||(Il=!0,Of=d),Sf(r,i)},u}function qg(r,i,u){u=Er(-1,u),u.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var v=i.value;u.payload=function(){return d(v)},u.callback=function(){Sf(r,i)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){Sf(r,i),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),u}function Qg(r,i,u){var d=r.pingCache;if(d===null){d=r.pingCache=new M2;var v=new Set;d.set(i,v)}else v=d.get(i),v===void 0&&(v=new Set,d.set(i,v));v.has(u)||(v.add(u),r=Y2.bind(null,r,i,u),i.then(r,r))}function Wg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Hg(r,i,u,d,v){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Er(-1,1),i.tag=2,Jr(u,i,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var O2=M.ReactCurrentOwner,cn=!1;function en(r,i,u,d){i.child=r===null?hg(i,null,u,d):ji(i,r.child,u,d)}function Kg(r,i,u,d,v){u=u.render;var S=i.ref;return Ti(i,v),d=hf(r,i,u,d,S,v),u=pf(),r!==null&&!cn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~v,jr(r,i,v)):(ct&&u&&Gc(i),i.flags|=1,en(r,i,d,v),i.child)}function Gg(r,i,u,d,v){if(r===null){var S=u.type;return typeof S=="function"&&!qf(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=S,Yg(r,i,S,d,v)):(r=$l(u.type,null,d,i,i.mode,v),r.ref=i.ref,r.return=i,i.child=r)}if(S=r.child,(r.lanes&v)===0){var A=S.memoizedProps;if(u=u.compare,u=u!==null?u:jo,u(A,d)&&r.ref===i.ref)return jr(r,i,v)}return i.flags|=1,r=rs(S,d),r.ref=i.ref,r.return=i,i.child=r}function Yg(r,i,u,d,v){if(r!==null){var S=r.memoizedProps;if(jo(S,d)&&r.ref===i.ref)if(cn=!1,i.pendingProps=d=S,(r.lanes&v)!==0)(r.flags&131072)!==0&&(cn=!0);else return i.lanes=r.lanes,jr(r,i,v)}return Cf(r,i,u,d,v)}function Jg(r,i,u){var d=i.pendingProps,v=d.children,S=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ri,Pn),Pn|=u;else{if((u&1073741824)===0)return r=S!==null?S.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ot(Ri,Pn),Pn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=S!==null?S.baseLanes:u,ot(Ri,Pn),Pn|=d}else S!==null?(d=S.baseLanes|u,i.memoizedState=null):d=u,ot(Ri,Pn),Pn|=d;return en(r,i,v,u),i.child}function Xg(r,i){var u=i.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Cf(r,i,u,d,v){var S=un(u)?Rs:Ht.current;return S=Ci(i,S),Ti(i,v),u=hf(r,i,u,d,S,v),d=pf(),r!==null&&!cn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~v,jr(r,i,v)):(ct&&d&&Gc(i),i.flags|=1,en(r,i,u,v),i.child)}function Zg(r,i,u,d,v){if(un(u)){var S=!0;dl(i)}else S=!1;if(Ti(i,v),i.stateNode===null)Al(r,i),$g(i,u,d),bf(i,u,d,v),d=!0;else if(r===null){var A=i.stateNode,F=i.memoizedProps;A.props=F;var z=A.context,te=u.contextType;typeof te=="object"&&te!==null?te=In(te):(te=un(u)?Rs:Ht.current,te=Ci(i,te));var fe=u.getDerivedStateFromProps,pe=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function";pe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==d||z!==te)&&Ug(i,A,d,te),Yr=!1;var ce=i.memoizedState;A.state=ce,wl(i,d,A,v),z=i.memoizedState,F!==d||ce!==z||ln.current||Yr?(typeof fe=="function"&&(vf(i,u,fe,d),z=i.memoizedState),(F=Yr||Vg(i,u,F,d,ce,z,te))?(pe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=z),A.props=d,A.state=z,A.context=te,d=F):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{A=i.stateNode,mg(r,i),F=i.memoizedProps,te=i.type===i.elementType?F:Kn(i.type,F),A.props=te,pe=i.pendingProps,ce=A.context,z=u.contextType,typeof z=="object"&&z!==null?z=In(z):(z=un(u)?Rs:Ht.current,z=Ci(i,z));var we=u.getDerivedStateFromProps;(fe=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==pe||ce!==z)&&Ug(i,A,d,z),Yr=!1,ce=i.memoizedState,A.state=ce,wl(i,d,A,v);var Pe=i.memoizedState;F!==pe||ce!==Pe||ln.current||Yr?(typeof we=="function"&&(vf(i,u,we,d),Pe=i.memoizedState),(te=Yr||Vg(i,u,te,d,ce,Pe,z)||!1)?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(d,Pe,z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(d,Pe,z)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===r.memoizedProps&&ce===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&ce===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Pe),A.props=d,A.state=Pe,A.context=z,d=te):(typeof A.componentDidUpdate!="function"||F===r.memoizedProps&&ce===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===r.memoizedProps&&ce===r.memoizedState||(i.flags|=1024),d=!1)}return Pf(r,i,u,d,S,v)}function Pf(r,i,u,d,v,S){Xg(r,i);var A=(i.flags&128)!==0;if(!d&&!A)return v&&sg(i,u,!1),jr(r,i,S);d=i.stateNode,O2.current=i;var F=A&&typeof u.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&A?(i.child=ji(i,r.child,null,S),i.child=ji(i,null,F,S)):en(r,i,F,S),i.memoizedState=d.state,v&&sg(i,u,!0),i.child}function e0(r){var i=r.stateNode;i.pendingContext?ng(r,i.pendingContext,i.pendingContext!==i.context):i.context&&ng(r,i.context,!1),af(r,i.containerInfo)}function t0(r,i,u,d,v){return Ei(),Zc(v),i.flags|=256,en(r,i,u,d),i.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Ef(r){return{baseLanes:r,cachePool:null,transitions:null}}function n0(r,i,u){var d=i.pendingProps,v=pt.current,S=!1,A=(i.flags&128)!==0,F;if((F=A)||(F=r!==null&&r.memoizedState===null?!1:(v&2)!==0),F?(S=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),ot(pt,v&1),r===null)return Xc(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(A=d.children,r=d.fallback,S?(d=i.mode,S=i.child,A={mode:"hidden",children:A},(d&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=A):S=Ul(A,d,0,null),r=zs(r,d,u,null),S.return=i,r.return=i,S.sibling=r,i.child=S,i.child.memoizedState=Ef(u),i.memoizedState=Nf,r):jf(i,A));if(v=r.memoizedState,v!==null&&(F=v.dehydrated,F!==null))return F2(r,i,A,d,F,v,u);if(S){S=d.fallback,A=i.mode,v=r.child,F=v.sibling;var z={mode:"hidden",children:d.children};return(A&1)===0&&i.child!==v?(d=i.child,d.childLanes=0,d.pendingProps=z,i.deletions=null):(d=rs(v,z),d.subtreeFlags=v.subtreeFlags&14680064),F!==null?S=rs(F,S):(S=zs(S,A,u,null),S.flags|=2),S.return=i,d.return=i,d.sibling=S,i.child=d,d=S,S=i.child,A=r.child.memoizedState,A=A===null?Ef(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},S.memoizedState=A,S.childLanes=r.childLanes&~u,i.memoizedState=Nf,d}return S=r.child,r=S.sibling,d=rs(S,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=u),d.return=i,d.sibling=null,r!==null&&(u=i.deletions,u===null?(i.deletions=[r],i.flags|=16):u.push(r)),i.child=d,i.memoizedState=null,d}function jf(r,i){return i=Ul({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Tl(r,i,u,d){return d!==null&&Zc(d),ji(i,r.child,null,u),r=jf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function F2(r,i,u,d,v,S,A){if(u)return i.flags&256?(i.flags&=-257,d=wf(Error(n(422))),Tl(r,i,A,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(S=d.fallback,v=i.mode,d=Ul({mode:"visible",children:d.children},v,0,null),S=zs(S,v,A,null),S.flags|=2,d.return=i,S.return=i,d.sibling=S,i.child=d,(i.mode&1)!==0&&ji(i,r.child,null,A),i.child.memoizedState=Ef(A),i.memoizedState=Nf,S);if((i.mode&1)===0)return Tl(r,i,A,null);if(v.data==="$!"){if(d=v.nextSibling&&v.nextSibling.dataset,d)var F=d.dgst;return d=F,S=Error(n(419)),d=wf(S,d,void 0),Tl(r,i,A,d)}if(F=(A&r.childLanes)!==0,cn||F){if(d=Mt,d!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(d.suspendedLanes|A))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,Nr(r,v),Jn(d,r,v,-1))}return zf(),d=wf(Error(n(421))),Tl(r,i,A,d)}return v.data==="$?"?(i.flags|=128,i.child=r.child,i=J2.bind(null,r),v._reactRetry=i,null):(r=S.treeContext,Cn=Wr(v.nextSibling),Sn=i,ct=!0,Hn=null,r!==null&&(Rn[Dn++]=Cr,Rn[Dn++]=Pr,Rn[Dn++]=Ds,Cr=r.id,Pr=r.overflow,Ds=i),i=jf(i,d.children),i.flags|=4096,i)}function r0(r,i,u){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),rf(r.return,i,u)}function kf(r,i,u,d,v){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:v}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=u,S.tailMode=v)}function s0(r,i,u){var d=i.pendingProps,v=d.revealOrder,S=d.tail;if(en(r,i,d.children,u),d=pt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&r0(r,u,i);else if(r.tag===19)r0(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ot(pt,d),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(u=i.child,v=null;u!==null;)r=u.alternate,r!==null&&Sl(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=i.child,i.child=null):(v=u.sibling,u.sibling=null),kf(i,!1,v,u,S);break;case"backwards":for(u=null,v=i.child,i.child=null;v!==null;){if(r=v.alternate,r!==null&&Sl(r)===null){i.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}kf(i,!0,u,null,S);break;case"together":kf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Al(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function jr(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),Bs|=i.lanes,(u&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,u=rs(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=rs(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function B2(r,i,u){switch(i.tag){case 3:e0(i),Ei();break;case 5:xg(i);break;case 1:un(i.type)&&dl(i);break;case 4:af(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,v=i.memoizedProps.value;ot(xl,d._currentValue),d._currentValue=v;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(ot(pt,pt.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?n0(r,i,u):(ot(pt,pt.current&1),r=jr(r,i,u),r!==null?r.sibling:null);ot(pt,pt.current&1);break;case 19:if(d=(u&i.childLanes)!==0,(r.flags&128)!==0){if(d)return s0(r,i,u);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ot(pt,pt.current),d)break;return null;case 22:case 23:return i.lanes=0,Jg(r,i,u)}return jr(r,i,u)}var i0,Tf,o0,a0;i0=function(r,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Tf=function(){},o0=function(r,i,u,d){var v=r.memoizedProps;if(v!==d){r=i.stateNode,Os(lr.current);var S=null;switch(u){case"input":v=bn(r,v),d=bn(r,d),S=[];break;case"select":v=ye({},v,{value:void 0}),d=ye({},d,{value:void 0}),S=[];break;case"textarea":v=ne(r,v),d=ne(r,d),S=[];break;default:typeof v.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ul)}et(u,d);var A;u=null;for(te in v)if(!d.hasOwnProperty(te)&&v.hasOwnProperty(te)&&v[te]!=null)if(te==="style"){var F=v[te];for(A in F)F.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?S||(S=[]):(S=S||[]).push(te,null));for(te in d){var z=d[te];if(F=v?.[te],d.hasOwnProperty(te)&&z!==F&&(z!=null||F!=null))if(te==="style")if(F){for(A in F)!F.hasOwnProperty(A)||z&&z.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in z)z.hasOwnProperty(A)&&F[A]!==z[A]&&(u||(u={}),u[A]=z[A])}else u||(S||(S=[]),S.push(te,u)),u=z;else te==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(S=S||[]).push(te,z)):te==="children"?typeof z!="string"&&typeof z!="number"||(S=S||[]).push(te,""+z):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?(z!=null&&te==="onScroll"&&lt("scroll",r),S||F===z||(S=[])):(S=S||[]).push(te,z))}u&&(S=S||[]).push("style",u);var te=S;(i.updateQueue=te)&&(i.flags|=4)}},a0=function(r,i,u,d){u!==d&&(i.flags|=4)};function Uo(r,i){if(!ct)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Gt(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(i)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags&14680064,d|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=d,r.childLanes=u,i}function V2(r,i,u){var d=i.pendingProps;switch(Yc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return un(i.type)&&fl(),Gt(i),null;case 3:return d=i.stateNode,Ai(),ut(ln),ut(Ht),cf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(gl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(Vf(Hn),Hn=null))),Tf(r,i),Gt(i),null;case 5:lf(i);var v=Os(Oo.current);if(u=i.type,r!==null&&i.stateNode!=null)o0(r,i,u,d,v),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Gt(i),null}if(r=Os(lr.current),gl(i)){d=i.stateNode,u=i.type;var S=i.memoizedProps;switch(d[ar]=i,d[Lo]=S,r=(i.mode&1)!==0,u){case"dialog":lt("cancel",d),lt("close",d);break;case"iframe":case"object":case"embed":lt("load",d);break;case"video":case"audio":for(v=0;v<To.length;v++)lt(To[v],d);break;case"source":lt("error",d);break;case"img":case"image":case"link":lt("error",d),lt("load",d);break;case"details":lt("toggle",d);break;case"input":Ts(d,S),lt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!S.multiple},lt("invalid",d);break;case"textarea":be(d,S),lt("invalid",d)}et(u,S),v=null;for(var A in S)if(S.hasOwnProperty(A)){var F=S[A];A==="children"?typeof F=="string"?d.textContent!==F&&(S.suppressHydrationWarning!==!0&&ll(d.textContent,F,r),v=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(S.suppressHydrationWarning!==!0&&ll(d.textContent,F,r),v=["children",""+F]):o.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&lt("scroll",d)}switch(u){case"input":xr(d),fi(d,S,!0);break;case"textarea":xr(d),he(d);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(d.onclick=ul)}d=v,i.updateQueue=d,d!==null&&(i.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=je(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=A.createElement(u,{is:d.is}):(r=A.createElement(u),u==="select"&&(A=r,d.multiple?A.multiple=!0:d.size&&(A.size=d.size))):r=A.createElementNS(r,u),r[ar]=i,r[Lo]=d,i0(r,i,!1,!1),i.stateNode=r;e:{switch(A=Xe(u,d),u){case"dialog":lt("cancel",r),lt("close",r),v=d;break;case"iframe":case"object":case"embed":lt("load",r),v=d;break;case"video":case"audio":for(v=0;v<To.length;v++)lt(To[v],r);v=d;break;case"source":lt("error",r),v=d;break;case"img":case"image":case"link":lt("error",r),lt("load",r),v=d;break;case"details":lt("toggle",r),v=d;break;case"input":Ts(r,d),v=bn(r,d),lt("invalid",r);break;case"option":v=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},v=ye({},d,{value:void 0}),lt("invalid",r);break;case"textarea":be(r,d),v=ne(r,d),lt("invalid",r);break;default:v=d}et(u,v),F=v;for(S in F)if(F.hasOwnProperty(S)){var z=F[S];S==="style"?Ye(r,z):S==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&T(r,z)):S==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&U(r,z):typeof z=="number"&&U(r,""+z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?z!=null&&S==="onScroll"&&lt("scroll",r):z!=null&&k(r,S,z,A))}switch(u){case"input":xr(r),fi(r,d,!1);break;case"textarea":xr(r),he(r);break;case"option":d.value!=null&&r.setAttribute("value",""+qe(d.value));break;case"select":r.multiple=!!d.multiple,S=d.value,S!=null?J(r,!!d.multiple,S,!1):d.defaultValue!=null&&J(r,!!d.multiple,d.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=ul)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Gt(i),null;case 6:if(r&&i.stateNode!=null)a0(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(u=Os(Oo.current),Os(lr.current),gl(i)){if(d=i.stateNode,u=i.memoizedProps,d[ar]=i,(S=d.nodeValue!==u)&&(r=Sn,r!==null))switch(r.tag){case 3:ll(d.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ll(d.nodeValue,u,(r.mode&1)!==0)}S&&(i.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[ar]=i,i.stateNode=d}return Gt(i),null;case 13:if(ut(pt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&Cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)cg(),Ei(),i.flags|=98560,S=!1;else if(S=gl(i),d!==null&&d.dehydrated!==null){if(r===null){if(!S)throw Error(n(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ar]=i}else Ei(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),S=!1}else Hn!==null&&(Vf(Hn),Hn=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(pt.current&1)!==0?Lt===0&&(Lt=3):zf())),i.updateQueue!==null&&(i.flags|=4),Gt(i),null);case 4:return Ai(),Tf(r,i),r===null&&Ao(i.stateNode.containerInfo),Gt(i),null;case 10:return nf(i.type._context),Gt(i),null;case 17:return un(i.type)&&fl(),Gt(i),null;case 19:if(ut(pt),S=i.memoizedState,S===null)return Gt(i),null;if(d=(i.flags&128)!==0,A=S.rendering,A===null)if(d)Uo(S,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(A=Sl(r),A!==null){for(i.flags|=128,Uo(S,!1),d=A.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=u,u=i.child;u!==null;)S=u,r=d,S.flags&=14680066,A=S.alternate,A===null?(S.childLanes=0,S.lanes=r,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=A.childLanes,S.lanes=A.lanes,S.child=A.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=A.memoizedProps,S.memoizedState=A.memoizedState,S.updateQueue=A.updateQueue,S.type=A.type,r=A.dependencies,S.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return ot(pt,pt.current&1|2),i.child}r=r.sibling}S.tail!==null&&wt()>Di&&(i.flags|=128,d=!0,Uo(S,!1),i.lanes=4194304)}else{if(!d)if(r=Sl(A),r!==null){if(i.flags|=128,d=!0,u=r.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Uo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!ct)return Gt(i),null}else 2*wt()-S.renderingStartTime>Di&&u!==1073741824&&(i.flags|=128,d=!0,Uo(S,!1),i.lanes=4194304);S.isBackwards?(A.sibling=i.child,i.child=A):(u=S.last,u!==null?u.sibling=A:i.child=A,S.last=A)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=wt(),i.sibling=null,u=pt.current,ot(pt,d?u&1|2:u&1),i):(Gt(i),null);case 22:case 23:return Uf(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Pn&1073741824)!==0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function $2(r,i){switch(Yc(i),i.tag){case 1:return un(i.type)&&fl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ai(),ut(ln),ut(Ht),cf(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return lf(i),null;case 13:if(ut(pt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ei()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ut(pt),null;case 4:return Ai(),null;case 10:return nf(i.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var _l=!1,Yt=!1,U2=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Li(r,i){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){xt(r,i,d)}else u.current=null}function Af(r,i,u){try{u()}catch(d){xt(r,i,d)}}var l0=!1;function z2(r,i){if($c=Ja,r=Vm(),Rc(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var v=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var A=0,F=-1,z=-1,te=0,fe=0,pe=r,ce=null;t:for(;;){for(var we;pe!==u||v!==0&&pe.nodeType!==3||(F=A+v),pe!==S||d!==0&&pe.nodeType!==3||(z=A+d),pe.nodeType===3&&(A+=pe.nodeValue.length),(we=pe.firstChild)!==null;)ce=pe,pe=we;for(;;){if(pe===r)break t;if(ce===u&&++te===v&&(F=A),ce===S&&++fe===d&&(z=A),(we=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=we}u=F===-1||z===-1?null:{start:F,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Uc={focusedElem:r,selectionRange:u},Ja=!1,Se=i;Se!==null;)if(i=Se,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Se=r;else for(;Se!==null;){i=Se;try{var Pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ne=Pe.memoizedProps,St=Pe.memoizedState,Y=i.stateNode,Q=Y.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:Kn(i.type,Ne),St);Y.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){xt(i,i.return,ge)}if(r=i.sibling,r!==null){r.return=i.return,Se=r;break}Se=i.return}return Pe=l0,l0=!1,Pe}function zo(r,i,u){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&r)===r){var S=v.destroy;v.destroy=void 0,S!==void 0&&Af(i,u,S)}v=v.next}while(v!==d)}}function Ll(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&r)===r){var d=u.create;u.destroy=d()}u=u.next}while(u!==i)}}function _f(r){var i=r.ref;if(i!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof i=="function"?i(r):i.current=r}}function u0(r){var i=r.alternate;i!==null&&(r.alternate=null,u0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[ar],delete i[Lo],delete i[Wc],delete i[N2],delete i[E2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function c0(r){return r.tag===5||r.tag===3||r.tag===4}function f0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||c0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lf(r,i,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(r,i):u.insertBefore(r,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(r,u)):(i=u,i.appendChild(r)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=ul));else if(d!==4&&(r=r.child,r!==null))for(Lf(r,i,u),r=r.sibling;r!==null;)Lf(r,i,u),r=r.sibling}function Rf(r,i,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Rf(r,i,u),r=r.sibling;r!==null;)Rf(r,i,u),r=r.sibling}var Ut=null,Gn=!1;function Xr(r,i,u){for(u=u.child;u!==null;)d0(r,i,u),u=u.sibling}function d0(r,i,u){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Qa,u)}catch{}switch(u.tag){case 5:Yt||Li(u,i);case 6:var d=Ut,v=Gn;Ut=null,Xr(r,i,u),Ut=d,Gn=v,Ut!==null&&(Gn?(r=Ut,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(Gn?(r=Ut,u=u.stateNode,r.nodeType===8?Qc(r.parentNode,u):r.nodeType===1&&Qc(r,u),wo(r)):Qc(Ut,u.stateNode));break;case 4:d=Ut,v=Gn,Ut=u.stateNode.containerInfo,Gn=!0,Xr(r,i,u),Ut=d,Gn=v;break;case 0:case 11:case 14:case 15:if(!Yt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){v=d=d.next;do{var S=v,A=S.destroy;S=S.tag,A!==void 0&&((S&2)!==0||(S&4)!==0)&&Af(u,i,A),v=v.next}while(v!==d)}Xr(r,i,u);break;case 1:if(!Yt&&(Li(u,i),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(F){xt(u,i,F)}Xr(r,i,u);break;case 21:Xr(r,i,u);break;case 22:u.mode&1?(Yt=(d=Yt)||u.memoizedState!==null,Xr(r,i,u),Yt=d):Xr(r,i,u);break;default:Xr(r,i,u)}}function h0(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new U2),i.forEach(function(d){var v=X2.bind(null,r,d);u.has(d)||(u.add(d),d.then(v,v))})}}function Yn(r,i){var u=i.deletions;if(u!==null)for(var d=0;d<u.length;d++){var v=u[d];try{var S=r,A=i,F=A;e:for(;F!==null;){switch(F.tag){case 5:Ut=F.stateNode,Gn=!1;break e;case 3:Ut=F.stateNode.containerInfo,Gn=!0;break e;case 4:Ut=F.stateNode.containerInfo,Gn=!0;break e}F=F.return}if(Ut===null)throw Error(n(160));d0(S,A,v),Ut=null,Gn=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(te){xt(v,i,te)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)p0(i,r),i=i.sibling}function p0(r,i){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Yn(i,r),cr(r),d&4){try{zo(3,r,r.return),Ll(3,r)}catch(Ne){xt(r,r.return,Ne)}try{zo(5,r,r.return)}catch(Ne){xt(r,r.return,Ne)}}break;case 1:Yn(i,r),cr(r),d&512&&u!==null&&Li(u,u.return);break;case 5:if(Yn(i,r),cr(r),d&512&&u!==null&&Li(u,u.return),r.flags&32){var v=r.stateNode;try{U(v,"")}catch(Ne){xt(r,r.return,Ne)}}if(d&4&&(v=r.stateNode,v!=null)){var S=r.memoizedProps,A=u!==null?u.memoizedProps:S,F=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{F==="input"&&S.type==="radio"&&S.name!=null&&As(v,S),Xe(F,A);var te=Xe(F,S);for(A=0;A<z.length;A+=2){var fe=z[A],pe=z[A+1];fe==="style"?Ye(v,pe):fe==="dangerouslySetInnerHTML"?T(v,pe):fe==="children"?U(v,pe):k(v,fe,pe,te)}switch(F){case"input":ir(v,S);break;case"textarea":ve(v,S);break;case"select":var ce=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var we=S.value;we!=null?J(v,!!S.multiple,we,!1):ce!==!!S.multiple&&(S.defaultValue!=null?J(v,!!S.multiple,S.defaultValue,!0):J(v,!!S.multiple,S.multiple?[]:"",!1))}v[Lo]=S}catch(Ne){xt(r,r.return,Ne)}}break;case 6:if(Yn(i,r),cr(r),d&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,S=r.memoizedProps;try{v.nodeValue=S}catch(Ne){xt(r,r.return,Ne)}}break;case 3:if(Yn(i,r),cr(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{wo(i.containerInfo)}catch(Ne){xt(r,r.return,Ne)}break;case 4:Yn(i,r),cr(r);break;case 13:Yn(i,r),cr(r),v=r.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(Mf=wt())),d&4&&h0(r);break;case 22:if(fe=u!==null&&u.memoizedState!==null,r.mode&1?(Yt=(te=Yt)||fe,Yn(i,r),Yt=te):Yn(i,r),cr(r),d&8192){if(te=r.memoizedState!==null,(r.stateNode.isHidden=te)&&!fe&&(r.mode&1)!==0)for(Se=r,fe=r.child;fe!==null;){for(pe=Se=fe;Se!==null;){switch(ce=Se,we=ce.child,ce.tag){case 0:case 11:case 14:case 15:zo(4,ce,ce.return);break;case 1:Li(ce,ce.return);var Pe=ce.stateNode;if(typeof Pe.componentWillUnmount=="function"){d=ce,u=ce.return;try{i=d,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(Ne){xt(d,u,Ne)}}break;case 5:Li(ce,ce.return);break;case 22:if(ce.memoizedState!==null){y0(pe);continue}}we!==null?(we.return=ce,Se=we):y0(pe)}fe=fe.sibling}e:for(fe=null,pe=r;;){if(pe.tag===5){if(fe===null){fe=pe;try{v=pe.stateNode,te?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(F=pe.stateNode,z=pe.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=me("display",A))}catch(Ne){xt(r,r.return,Ne)}}}else if(pe.tag===6){if(fe===null)try{pe.stateNode.nodeValue=te?"":pe.memoizedProps}catch(Ne){xt(r,r.return,Ne)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===r)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===r)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===r)break e;fe===pe&&(fe=null),pe=pe.return}fe===pe&&(fe=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Yn(i,r),cr(r),d&4&&h0(r);break;case 21:break;default:Yn(i,r),cr(r)}}function cr(r){var i=r.flags;if(i&2){try{e:{for(var u=r.return;u!==null;){if(c0(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var v=d.stateNode;d.flags&32&&(U(v,""),d.flags&=-33);var S=f0(r);Rf(r,S,v);break;case 3:case 4:var A=d.stateNode.containerInfo,F=f0(r);Lf(r,F,A);break;default:throw Error(n(161))}}catch(z){xt(r,r.return,z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function q2(r,i,u){Se=r,m0(r)}function m0(r,i,u){for(var d=(r.mode&1)!==0;Se!==null;){var v=Se,S=v.child;if(v.tag===22&&d){var A=v.memoizedState!==null||_l;if(!A){var F=v.alternate,z=F!==null&&F.memoizedState!==null||Yt;F=_l;var te=Yt;if(_l=A,(Yt=z)&&!te)for(Se=v;Se!==null;)A=Se,z=A.child,A.tag===22&&A.memoizedState!==null?x0(v):z!==null?(z.return=A,Se=z):x0(v);for(;S!==null;)Se=S,m0(S),S=S.sibling;Se=v,_l=F,Yt=te}g0(r)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,Se=S):g0(r)}}function g0(r){for(;Se!==null;){var i=Se;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Yt||Ll(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Yt)if(u===null)d.componentDidMount();else{var v=i.elementType===i.type?u.memoizedProps:Kn(i.type,u.memoizedProps);d.componentDidUpdate(v,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&yg(i,S,d);break;case 3:var A=i.updateQueue;if(A!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}yg(i,A,u)}break;case 5:var F=i.stateNode;if(u===null&&i.flags&4){u=F;var z=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var te=i.alternate;if(te!==null){var fe=te.memoizedState;if(fe!==null){var pe=fe.dehydrated;pe!==null&&wo(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yt||i.flags&512&&_f(i)}catch(ce){xt(i,i.return,ce)}}if(i===r){Se=null;break}if(u=i.sibling,u!==null){u.return=i.return,Se=u;break}Se=i.return}}function y0(r){for(;Se!==null;){var i=Se;if(i===r){Se=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Se=u;break}Se=i.return}}function x0(r){for(;Se!==null;){var i=Se;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Ll(4,i)}catch(z){xt(i,u,z)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var v=i.return;try{d.componentDidMount()}catch(z){xt(i,v,z)}}var S=i.return;try{_f(i)}catch(z){xt(i,S,z)}break;case 5:var A=i.return;try{_f(i)}catch(z){xt(i,A,z)}}}catch(z){xt(i,i.return,z)}if(i===r){Se=null;break}var F=i.sibling;if(F!==null){F.return=i.return,Se=F;break}Se=i.return}}var Q2=Math.ceil,Rl=M.ReactCurrentDispatcher,Df=M.ReactCurrentOwner,On=M.ReactCurrentBatchConfig,Je=0,Mt=null,jt=null,zt=0,Pn=0,Ri=Hr(0),Lt=0,qo=null,Bs=0,Dl=0,If=0,Qo=null,fn=null,Mf=0,Di=1/0,kr=null,Il=!1,Of=null,Zr=null,Ml=!1,es=null,Ol=0,Wo=0,Ff=null,Fl=-1,Bl=0;function tn(){return(Je&6)!==0?wt():Fl!==-1?Fl:Fl=wt()}function ts(r){return(r.mode&1)===0?1:(Je&2)!==0&&zt!==0?zt&-zt:k2.transition!==null?(Bl===0&&(Bl=fm()),Bl):(r=st,r!==0||(r=window.event,r=r===void 0?16:bm(r.type)),r)}function Jn(r,i,u,d){if(50<Wo)throw Wo=0,Ff=null,Error(n(185));go(r,u,d),((Je&2)===0||r!==Mt)&&(r===Mt&&((Je&2)===0&&(Dl|=u),Lt===4&&ns(r,zt)),dn(r,d),u===1&&Je===0&&(i.mode&1)===0&&(Di=wt()+500,hl&&Gr()))}function dn(r,i){var u=r.callbackNode;kS(r,i);var d=Ka(r,r===Mt?zt:0);if(d===0)u!==null&&lm(u),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(u!=null&&lm(u),i===1)r.tag===0?j2(b0.bind(null,r)):ig(b0.bind(null,r)),C2(function(){(Je&6)===0&&Gr()}),u=null;else{switch(dm(d)){case 1:u=gc;break;case 4:u=um;break;case 16:u=qa;break;case 536870912:u=cm;break;default:u=qa}u=k0(u,v0.bind(null,r))}r.callbackPriority=i,r.callbackNode=u}}function v0(r,i){if(Fl=-1,Bl=0,(Je&6)!==0)throw Error(n(327));var u=r.callbackNode;if(Ii()&&r.callbackNode!==u)return null;var d=Ka(r,r===Mt?zt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Vl(r,d);else{i=d;var v=Je;Je|=2;var S=S0();(Mt!==r||zt!==i)&&(kr=null,Di=wt()+500,$s(r,i));do try{K2();break}catch(F){w0(r,F)}while(!0);tf(),Rl.current=S,Je=v,jt!==null?i=0:(Mt=null,zt=0,i=Lt)}if(i!==0){if(i===2&&(v=yc(r),v!==0&&(d=v,i=Bf(r,v))),i===1)throw u=qo,$s(r,0),ns(r,d),dn(r,wt()),u;if(i===6)ns(r,d);else{if(v=r.current.alternate,(d&30)===0&&!W2(v)&&(i=Vl(r,d),i===2&&(S=yc(r),S!==0&&(d=S,i=Bf(r,S))),i===1))throw u=qo,$s(r,0),ns(r,d),dn(r,wt()),u;switch(r.finishedWork=v,r.finishedLanes=d,i){case 0:case 1:throw Error(n(345));case 2:Us(r,fn,kr);break;case 3:if(ns(r,d),(d&130023424)===d&&(i=Mf+500-wt(),10<i)){if(Ka(r,0)!==0)break;if(v=r.suspendedLanes,(v&d)!==d){tn(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=qc(Us.bind(null,r,fn,kr),i);break}Us(r,fn,kr);break;case 4:if(ns(r,d),(d&4194240)===d)break;for(i=r.eventTimes,v=-1;0<d;){var A=31-Qn(d);S=1<<A,A=i[A],A>v&&(v=A),d&=~S}if(d=v,d=wt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Q2(d/1960))-d,10<d){r.timeoutHandle=qc(Us.bind(null,r,fn,kr),d);break}Us(r,fn,kr);break;case 5:Us(r,fn,kr);break;default:throw Error(n(329))}}}return dn(r,wt()),r.callbackNode===u?v0.bind(null,r):null}function Bf(r,i){var u=Qo;return r.current.memoizedState.isDehydrated&&($s(r,i).flags|=256),r=Vl(r,i),r!==2&&(i=fn,fn=u,i!==null&&Vf(i)),r}function Vf(r){fn===null?fn=r:fn.push.apply(fn,r)}function W2(r){for(var i=r;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var v=u[d],S=v.getSnapshot;v=v.value;try{if(!Wn(S(),v))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ns(r,i){for(i&=~If,i&=~Dl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var u=31-Qn(i),d=1<<u;r[u]=-1,i&=~d}}function b0(r){if((Je&6)!==0)throw Error(n(327));Ii();var i=Ka(r,0);if((i&1)===0)return dn(r,wt()),null;var u=Vl(r,i);if(r.tag!==0&&u===2){var d=yc(r);d!==0&&(i=d,u=Bf(r,d))}if(u===1)throw u=qo,$s(r,0),ns(r,i),dn(r,wt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Us(r,fn,kr),dn(r,wt()),null}function $f(r,i){var u=Je;Je|=1;try{return r(i)}finally{Je=u,Je===0&&(Di=wt()+500,hl&&Gr())}}function Vs(r){es!==null&&es.tag===0&&(Je&6)===0&&Ii();var i=Je;Je|=1;var u=On.transition,d=st;try{if(On.transition=null,st=1,r)return r()}finally{st=d,On.transition=u,Je=i,(Je&6)===0&&Gr()}}function Uf(){Pn=Ri.current,ut(Ri)}function $s(r,i){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,S2(u)),jt!==null)for(u=jt.return;u!==null;){var d=u;switch(Yc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fl();break;case 3:Ai(),ut(ln),ut(Ht),cf();break;case 5:lf(d);break;case 4:Ai();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:nf(d.type._context);break;case 22:case 23:Uf()}u=u.return}if(Mt=r,jt=r=rs(r.current,null),zt=Pn=i,Lt=0,qo=null,If=Dl=Bs=0,fn=Qo=null,Ms!==null){for(i=0;i<Ms.length;i++)if(u=Ms[i],d=u.interleaved,d!==null){u.interleaved=null;var v=d.next,S=u.pending;if(S!==null){var A=S.next;S.next=v,d.next=A}u.pending=d}Ms=null}return r}function w0(r,i){do{var u=jt;try{if(tf(),Cl.current=jl,Pl){for(var d=mt.memoizedState;d!==null;){var v=d.queue;v!==null&&(v.pending=null),d=d.next}Pl=!1}if(Fs=0,It=_t=mt=null,Fo=!1,Bo=0,Df.current=null,u===null||u.return===null){Lt=1,qo=i,jt=null;break}e:{var S=r,A=u.return,F=u,z=i;if(i=zt,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=z,fe=F,pe=fe.tag;if((fe.mode&1)===0&&(pe===0||pe===11||pe===15)){var ce=fe.alternate;ce?(fe.updateQueue=ce.updateQueue,fe.memoizedState=ce.memoizedState,fe.lanes=ce.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var we=Wg(A);if(we!==null){we.flags&=-257,Hg(we,A,F,S,i),we.mode&1&&Qg(S,te,i),i=we,z=te;var Pe=i.updateQueue;if(Pe===null){var Ne=new Set;Ne.add(z),i.updateQueue=Ne}else Pe.add(z);break e}else{if((i&1)===0){Qg(S,te,i),zf();break e}z=Error(n(426))}}else if(ct&&F.mode&1){var St=Wg(A);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Hg(St,A,F,S,i),Zc(_i(z,F));break e}}S=z=_i(z,F),Lt!==4&&(Lt=2),Qo===null?Qo=[S]:Qo.push(S),S=A;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var Y=zg(S,z,i);gg(S,Y);break e;case 1:F=z;var Q=S.type,X=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Zr===null||!Zr.has(X)))){S.flags|=65536,i&=-i,S.lanes|=i;var ge=qg(S,F,i);gg(S,ge);break e}}S=S.return}while(S!==null)}P0(u)}catch(ke){i=ke,jt===u&&u!==null&&(jt=u=u.return);continue}break}while(!0)}function S0(){var r=Rl.current;return Rl.current=jl,r===null?jl:r}function zf(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Mt===null||(Bs&268435455)===0&&(Dl&268435455)===0||ns(Mt,zt)}function Vl(r,i){var u=Je;Je|=2;var d=S0();(Mt!==r||zt!==i)&&(kr=null,$s(r,i));do try{H2();break}catch(v){w0(r,v)}while(!0);if(tf(),Je=u,Rl.current=d,jt!==null)throw Error(n(261));return Mt=null,zt=0,Lt}function H2(){for(;jt!==null;)C0(jt)}function K2(){for(;jt!==null&&!vS();)C0(jt)}function C0(r){var i=j0(r.alternate,r,Pn);r.memoizedProps=r.pendingProps,i===null?P0(r):jt=i,Df.current=null}function P0(r){var i=r;do{var u=i.alternate;if(r=i.return,(i.flags&32768)===0){if(u=V2(u,i,Pn),u!==null){jt=u;return}}else{if(u=$2(u,i),u!==null){u.flags&=32767,jt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,jt=null;return}}if(i=i.sibling,i!==null){jt=i;return}jt=i=r}while(i!==null);Lt===0&&(Lt=5)}function Us(r,i,u){var d=st,v=On.transition;try{On.transition=null,st=1,G2(r,i,u,d)}finally{On.transition=v,st=d}return null}function G2(r,i,u,d){do Ii();while(es!==null);if((Je&6)!==0)throw Error(n(327));u=r.finishedWork;var v=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var S=u.lanes|u.childLanes;if(TS(r,S),r===Mt&&(jt=Mt=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ml||(Ml=!0,k0(qa,function(){return Ii(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=On.transition,On.transition=null;var A=st;st=1;var F=Je;Je|=4,Df.current=null,z2(r,u),p0(u,r),m2(Uc),Ja=!!$c,Uc=$c=null,r.current=u,q2(u),bS(),Je=F,st=A,On.transition=S}else r.current=u;if(Ml&&(Ml=!1,es=r,Ol=v),S=r.pendingLanes,S===0&&(Zr=null),CS(u.stateNode),dn(r,wt()),i!==null)for(d=r.onRecoverableError,u=0;u<i.length;u++)v=i[u],d(v.value,{componentStack:v.stack,digest:v.digest});if(Il)throw Il=!1,r=Of,Of=null,r;return(Ol&1)!==0&&r.tag!==0&&Ii(),S=r.pendingLanes,(S&1)!==0?r===Ff?Wo++:(Wo=0,Ff=r):Wo=0,Gr(),null}function Ii(){if(es!==null){var r=dm(Ol),i=On.transition,u=st;try{if(On.transition=null,st=16>r?16:r,es===null)var d=!1;else{if(r=es,es=null,Ol=0,(Je&6)!==0)throw Error(n(331));var v=Je;for(Je|=4,Se=r.current;Se!==null;){var S=Se,A=S.child;if((Se.flags&16)!==0){var F=S.deletions;if(F!==null){for(var z=0;z<F.length;z++){var te=F[z];for(Se=te;Se!==null;){var fe=Se;switch(fe.tag){case 0:case 11:case 15:zo(8,fe,S)}var pe=fe.child;if(pe!==null)pe.return=fe,Se=pe;else for(;Se!==null;){fe=Se;var ce=fe.sibling,we=fe.return;if(u0(fe),fe===te){Se=null;break}if(ce!==null){ce.return=we,Se=ce;break}Se=we}}}var Pe=S.alternate;if(Pe!==null){var Ne=Pe.child;if(Ne!==null){Pe.child=null;do{var St=Ne.sibling;Ne.sibling=null,Ne=St}while(Ne!==null)}}Se=S}}if((S.subtreeFlags&2064)!==0&&A!==null)A.return=S,Se=A;else e:for(;Se!==null;){if(S=Se,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:zo(9,S,S.return)}var Y=S.sibling;if(Y!==null){Y.return=S.return,Se=Y;break e}Se=S.return}}var Q=r.current;for(Se=Q;Se!==null;){A=Se;var X=A.child;if((A.subtreeFlags&2064)!==0&&X!==null)X.return=A,Se=X;else e:for(A=Q;Se!==null;){if(F=Se,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Ll(9,F)}}catch(ke){xt(F,F.return,ke)}if(F===A){Se=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Se=ge;break e}Se=F.return}}if(Je=v,Gr(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Qa,r)}catch{}d=!0}return d}finally{st=u,On.transition=i}}return!1}function N0(r,i,u){i=_i(u,i),i=zg(r,i,1),r=Jr(r,i,1),i=tn(),r!==null&&(go(r,1,i),dn(r,i))}function xt(r,i,u){if(r.tag===3)N0(r,r,u);else for(;i!==null;){if(i.tag===3){N0(i,r,u);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))){r=_i(u,r),r=qg(i,r,1),i=Jr(i,r,1),r=tn(),i!==null&&(go(i,1,r),dn(i,r));break}}i=i.return}}function Y2(r,i,u){var d=r.pingCache;d!==null&&d.delete(i),i=tn(),r.pingedLanes|=r.suspendedLanes&u,Mt===r&&(zt&u)===u&&(Lt===4||Lt===3&&(zt&130023424)===zt&&500>wt()-Mf?$s(r,0):If|=u),dn(r,i)}function E0(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ha,Ha<<=1,(Ha&130023424)===0&&(Ha=4194304)));var u=tn();r=Nr(r,i),r!==null&&(go(r,i,u),dn(r,u))}function J2(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),E0(r,u)}function X2(r,i){var u=0;switch(r.tag){case 13:var d=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(i),E0(r,u)}var j0;j0=function(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps||ln.current)cn=!0;else{if((r.lanes&u)===0&&(i.flags&128)===0)return cn=!1,B2(r,i,u);cn=(r.flags&131072)!==0}else cn=!1,ct&&(i.flags&1048576)!==0&&og(i,ml,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Al(r,i),r=i.pendingProps;var v=Ci(i,Ht.current);Ti(i,u),v=hf(null,i,d,r,v,u);var S=pf();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,un(d)?(S=!0,dl(i)):S=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,of(i),v.updater=kl,i.stateNode=v,v._reactInternals=i,bf(i,d,r,u),i=Pf(null,i,d,!0,S,u)):(i.tag=0,ct&&S&&Gc(i),en(null,i,v,u),i=i.child),i;case 16:d=i.elementType;e:{switch(Al(r,i),r=i.pendingProps,v=d._init,d=v(d._payload),i.type=d,v=i.tag=e4(d),r=Kn(d,r),v){case 0:i=Cf(null,i,d,r,u);break e;case 1:i=Zg(null,i,d,r,u);break e;case 11:i=Kg(null,i,d,r,u);break e;case 14:i=Gg(null,i,d,Kn(d.type,r),u);break e}throw Error(n(306,d,""))}return i;case 0:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Kn(d,v),Cf(r,i,d,v,u);case 1:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Kn(d,v),Zg(r,i,d,v,u);case 3:e:{if(e0(i),r===null)throw Error(n(387));d=i.pendingProps,S=i.memoizedState,v=S.element,mg(r,i),wl(i,d,null,u);var A=i.memoizedState;if(d=A.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){v=_i(Error(n(423)),i),i=t0(r,i,d,u,v);break e}else if(d!==v){v=_i(Error(n(424)),i),i=t0(r,i,d,u,v);break e}else for(Cn=Wr(i.stateNode.containerInfo.firstChild),Sn=i,ct=!0,Hn=null,u=hg(i,null,d,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ei(),d===v){i=jr(r,i,u);break e}en(r,i,d,u)}i=i.child}return i;case 5:return xg(i),r===null&&Xc(i),d=i.type,v=i.pendingProps,S=r!==null?r.memoizedProps:null,A=v.children,zc(d,v)?A=null:S!==null&&zc(d,S)&&(i.flags|=32),Xg(r,i),en(r,i,A,u),i.child;case 6:return r===null&&Xc(i),null;case 13:return n0(r,i,u);case 4:return af(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=ji(i,null,d,u):en(r,i,d,u),i.child;case 11:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Kn(d,v),Kg(r,i,d,v,u);case 7:return en(r,i,i.pendingProps,u),i.child;case 8:return en(r,i,i.pendingProps.children,u),i.child;case 12:return en(r,i,i.pendingProps.children,u),i.child;case 10:e:{if(d=i.type._context,v=i.pendingProps,S=i.memoizedProps,A=v.value,ot(xl,d._currentValue),d._currentValue=A,S!==null)if(Wn(S.value,A)){if(S.children===v.children&&!ln.current){i=jr(r,i,u);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var F=S.dependencies;if(F!==null){A=S.child;for(var z=F.firstContext;z!==null;){if(z.context===d){if(S.tag===1){z=Er(-1,u&-u),z.tag=2;var te=S.updateQueue;if(te!==null){te=te.shared;var fe=te.pending;fe===null?z.next=z:(z.next=fe.next,fe.next=z),te.pending=z}}S.lanes|=u,z=S.alternate,z!==null&&(z.lanes|=u),rf(S.return,u,i),F.lanes|=u;break}z=z.next}}else if(S.tag===10)A=S.type===i.type?null:S.child;else if(S.tag===18){if(A=S.return,A===null)throw Error(n(341));A.lanes|=u,F=A.alternate,F!==null&&(F.lanes|=u),rf(A,u,i),A=S.sibling}else A=S.child;if(A!==null)A.return=S;else for(A=S;A!==null;){if(A===i){A=null;break}if(S=A.sibling,S!==null){S.return=A.return,A=S;break}A=A.return}S=A}en(r,i,v.children,u),i=i.child}return i;case 9:return v=i.type,d=i.pendingProps.children,Ti(i,u),v=In(v),d=d(v),i.flags|=1,en(r,i,d,u),i.child;case 14:return d=i.type,v=Kn(d,i.pendingProps),v=Kn(d.type,v),Gg(r,i,d,v,u);case 15:return Yg(r,i,i.type,i.pendingProps,u);case 17:return d=i.type,v=i.pendingProps,v=i.elementType===d?v:Kn(d,v),Al(r,i),i.tag=1,un(d)?(r=!0,dl(i)):r=!1,Ti(i,u),$g(i,d,v),bf(i,d,v,u),Pf(null,i,d,!0,r,u);case 19:return s0(r,i,u);case 22:return Jg(r,i,u)}throw Error(n(156,i.tag))};function k0(r,i){return am(r,i)}function Z2(r,i,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,i,u,d){return new Z2(r,i,u,d)}function qf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function e4(r){if(typeof r=="function")return qf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Z)return 11;if(r===ae)return 14}return 2}function rs(r,i){var u=r.alternate;return u===null?(u=Fn(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function $l(r,i,u,d,v,S){var A=2;if(d=r,typeof r=="function")qf(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case D:return zs(u.children,v,S,i);case O:A=8,v|=8;break;case I:return r=Fn(12,u,i,v|2),r.elementType=I,r.lanes=S,r;case re:return r=Fn(13,u,i,v),r.elementType=re,r.lanes=S,r;case G:return r=Fn(19,u,i,v),r.elementType=G,r.lanes=S,r;case de:return Ul(u,v,S,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:A=10;break e;case B:A=9;break e;case Z:A=11;break e;case ae:A=14;break e;case xe:A=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Fn(A,u,i,v),i.elementType=r,i.type=d,i.lanes=S,i}function zs(r,i,u,d){return r=Fn(7,r,d,i),r.lanes=u,r}function Ul(r,i,u,d){return r=Fn(22,r,d,i),r.elementType=de,r.lanes=u,r.stateNode={isHidden:!1},r}function Qf(r,i,u){return r=Fn(6,r,null,i),r.lanes=u,r}function Wf(r,i,u){return i=Fn(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function t4(r,i,u,d,v){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=d,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Hf(r,i,u,d,v,S,A,F,z){return r=new t4(r,i,u,F,z),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Fn(3,null,null,i),r.current=S,S.stateNode=r,S.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(S),r}function n4(r,i,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:d==null?null:""+d,children:r,containerInfo:i,implementation:u}}function T0(r){if(!r)return Kr;r=r._reactInternals;e:{if(_s(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(un(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(un(u))return rg(r,u,i)}return i}function A0(r,i,u,d,v,S,A,F,z){return r=Hf(u,d,!0,r,v,S,A,F,z),r.context=T0(null),u=r.current,d=tn(),v=ts(u),S=Er(d,v),S.callback=i??null,Jr(u,S,v),r.current.lanes=v,go(r,v,d),dn(r,d),r}function zl(r,i,u,d){var v=i.current,S=tn(),A=ts(v);return u=T0(u),i.context===null?i.context=u:i.pendingContext=u,i=Er(S,A),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=Jr(v,i,A),r!==null&&(Jn(r,v,A,S),bl(r,v,A)),A}function ql(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function Kf(r,i){_0(r,i),(r=r.alternate)&&_0(r,i)}function r4(){return null}var L0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Gf(r){this._internalRoot=r}Ql.prototype.render=Gf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));zl(r,i,null,null)},Ql.prototype.unmount=Gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Vs(function(){zl(null,r,null,null)}),i[wr]=null}};function Ql(r){this._internalRoot=r}Ql.prototype.unstable_scheduleHydration=function(r){if(r){var i=mm();r={blockedOn:null,target:r,priority:i};for(var u=0;u<zr.length&&i!==0&&i<zr[u].priority;u++);zr.splice(u,0,r),u===0&&xm(r)}};function Yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Wl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function R0(){}function s4(r,i,u,d,v){if(v){if(typeof d=="function"){var S=d;d=function(){var te=ql(A);S.call(te)}}var A=A0(i,d,r,0,null,!1,!1,"",R0);return r._reactRootContainer=A,r[wr]=A.current,Ao(r.nodeType===8?r.parentNode:r),Vs(),A}for(;v=r.lastChild;)r.removeChild(v);if(typeof d=="function"){var F=d;d=function(){var te=ql(z);F.call(te)}}var z=Hf(r,0,!1,null,null,!1,!1,"",R0);return r._reactRootContainer=z,r[wr]=z.current,Ao(r.nodeType===8?r.parentNode:r),Vs(function(){zl(i,z,u,d)}),z}function Hl(r,i,u,d,v){var S=u._reactRootContainer;if(S){var A=S;if(typeof v=="function"){var F=v;v=function(){var z=ql(A);F.call(z)}}zl(i,A,r,v)}else A=s4(u,i,r,v,d);return ql(A)}hm=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var u=mo(i.pendingLanes);u!==0&&(vc(i,u|1),dn(i,wt()),(Je&6)===0&&(Di=wt()+500,Gr()))}break;case 13:Vs(function(){var d=Nr(r,1);if(d!==null){var v=tn();Jn(d,r,1,v)}}),Kf(r,1)}},bc=function(r){if(r.tag===13){var i=Nr(r,134217728);if(i!==null){var u=tn();Jn(i,r,134217728,u)}Kf(r,134217728)}},pm=function(r){if(r.tag===13){var i=ts(r),u=Nr(r,i);if(u!==null){var d=tn();Jn(u,r,i,d)}Kf(r,i)}},mm=function(){return st},gm=function(r,i){var u=st;try{return st=r,i()}finally{st=u}},dc=function(r,i,u){switch(i){case"input":if(ir(r,u),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var d=u[i];if(d!==r&&d.form===r.form){var v=cl(d);if(!v)throw Error(n(90));vr(d),ir(d,v)}}}break;case"textarea":ve(r,u);break;case"select":i=u.value,i!=null&&J(r,!!u.multiple,i,!1)}},em=$f,tm=Vs;var i4={usingClientEntryPoint:!1,Events:[Ro,wi,cl,Xp,Zp,$f]},Ho={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o4={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=im(r),r===null?null:r.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||r4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Qa=Kl.inject(o4),or=Kl}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i4,hn.createPortal=function(r,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(i))throw Error(n(200));return n4(r,i,null,u)},hn.createRoot=function(r,i){if(!Yf(r))throw Error(n(299));var u=!1,d="",v=L0;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Hf(r,1,!1,null,null,u,!1,d,v),r[wr]=i.current,Ao(r.nodeType===8?r.parentNode:r),new Gf(i)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=im(i),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return Vs(r)},hn.hydrate=function(r,i,u){if(!Wl(i))throw Error(n(200));return Hl(null,r,i,!0,u)},hn.hydrateRoot=function(r,i,u){if(!Yf(r))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,v=!1,S="",A=L0;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),i=A0(i,null,r,1,u??null,v,!1,S,A),r[wr]=i.current,Ao(r),d)for(r=0;r<d.length;r++)u=d[r],v=u._getVersion,v=v(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,v]:i.mutableSourceEagerHydrationData.push(u,v);return new Ql(i)},hn.render=function(r,i,u){if(!Wl(i))throw Error(n(200));return Hl(null,r,i,!1,u)},hn.unmountComponentAtNode=function(r){if(!Wl(r))throw Error(n(40));return r._reactRootContainer?(Vs(function(){Hl(null,null,r,!1,function(){r._reactRootContainer=null,r[wr]=null})}),!0):!1},hn.unstable_batchedUpdates=$f,hn.unstable_renderSubtreeIntoContainer=function(r,i,u,d){if(!Wl(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Hl(r,i,u,!1,d)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var $0;function Sv(){if($0)return Zf.exports;$0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zf.exports=m4(),Zf.exports}var U0;function g4(){if(U0)return Gl;U0=1;var t=Sv();return Gl.createRoot=t.createRoot,Gl.hydrateRoot=t.hydrateRoot,Gl}var y4=g4();const x4=wv(y4);var nd={exports:{}},rd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function v4(){if(z0)return rd;z0=1;var t=_a();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,y){var P=y(),b=s({inst:{value:P,getSnapshot:y}}),x=b[0].inst,C=b[1];return a(function(){x.value=P,x.getSnapshot=y,f(x)&&C({inst:x})},[g,P,y]),o(function(){return f(x)&&C({inst:x}),g(function(){f(x)&&C({inst:x})})},[g]),l(P),P}function f(g){var y=g.getSnapshot;g=g.value;try{var P=y();return!n(g,P)}catch{return!0}}function p(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return rd.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,rd}var q0;function Cv(){return q0||(q0=1,nd.exports=v4()),nd.exports}Cv();var sd={exports:{}},id={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function b4(){if(Q0)return id;Q0=1;var t=_a(),e=Cv();function n(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var s=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,f=t.useDebugValue;return id.useSyncExternalStoreWithSelector=function(p,h,g,y,P){var b=a(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=c(function(){function E(L){if(!j){if(j=!0,k=L,L=y(L),P!==void 0&&x.hasValue){var D=x.value;if(P(D,L))return M=D}return M=L}if(D=M,s(k,L))return D;var O=y(L);return P!==void 0&&P(D,O)?(k=L,D):(k=L,M=O)}var j=!1,k,M,R=g===void 0?null:g;return[function(){return E(h())},R===null?void 0:function(){return E(R())}]},[h,g,y,P]);var C=o(p,b[0],b[1]);return l(function(){x.hasValue=!0,x.value=C},[C]),f(C),C},id}var W0;function w4(){return W0||(W0=1,sd.exports=b4()),sd.exports}var S4=w4(),C4=Sv();function P4(t){t()}let Pv=P4;const N4=t=>Pv=t,E4=()=>Pv,H0=Symbol.for("react-redux-context"),K0=typeof globalThis<"u"?globalThis:{};function j4(){var t;if(!V.createContext)return{};const e=(t=K0[H0])!=null?t:K0[H0]=new Map;let n=e.get(V.createContext);return n||(n=V.createContext(null),e.set(V.createContext,n)),n}const vs=j4();function Dh(t=vs){return function(){return V.useContext(t)}}const Nv=Dh(),k4=()=>{throw new Error("uSES not initialized!")};let Ev=k4;const T4=t=>{Ev=t},A4=(t,e)=>t===e;function _4(t=vs){const e=t===vs?Nv:Dh(t);return function(s,o={}){const{equalityFn:a=A4,stabilityCheck:l=void 0,noopCheck:c=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:f,subscription:p,getServerState:h,stabilityCheck:g,noopCheck:y}=e();V.useRef(!0);const P=V.useCallback({[s.name](x){return s(x)}}[s.name],[s,g,l]),b=Ev(p.addNestedSub,f.getState,h||f.getState,P,a);return V.useDebugValue(b),b}}const yn=_4();var od={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function L4(){if(G0)return tt;G0=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,P=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,j=t?Symbol.for("react.scope"):60119;function k(R){if(typeof R=="object"&&R!==null){var L=R.$$typeof;switch(L){case e:switch(R=R.type,R){case f:case p:case s:case a:case o:case g:return R;default:switch(R=R&&R.$$typeof,R){case c:case h:case b:case P:case l:return R;default:return L}}case n:return L}}}function M(R){return k(R)===p}return tt.AsyncMode=f,tt.ConcurrentMode=p,tt.ContextConsumer=c,tt.ContextProvider=l,tt.Element=e,tt.ForwardRef=h,tt.Fragment=s,tt.Lazy=b,tt.Memo=P,tt.Portal=n,tt.Profiler=a,tt.StrictMode=o,tt.Suspense=g,tt.isAsyncMode=function(R){return M(R)||k(R)===f},tt.isConcurrentMode=M,tt.isContextConsumer=function(R){return k(R)===c},tt.isContextProvider=function(R){return k(R)===l},tt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},tt.isForwardRef=function(R){return k(R)===h},tt.isFragment=function(R){return k(R)===s},tt.isLazy=function(R){return k(R)===b},tt.isMemo=function(R){return k(R)===P},tt.isPortal=function(R){return k(R)===n},tt.isProfiler=function(R){return k(R)===a},tt.isStrictMode=function(R){return k(R)===o},tt.isSuspense=function(R){return k(R)===g},tt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===s||R===p||R===a||R===o||R===g||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===b||R.$$typeof===P||R.$$typeof===l||R.$$typeof===c||R.$$typeof===h||R.$$typeof===C||R.$$typeof===E||R.$$typeof===j||R.$$typeof===x)},tt.typeOf=k,tt}var Y0;function R4(){return Y0||(Y0=1,od.exports=L4()),od.exports}var ad,J0;function D4(){if(J0)return ad;J0=1;var t=R4(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=s,a[t.Memo]=o;function l(b){return t.isMemo(b)?o:a[b.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function P(b,x,C){if(typeof x!="string"){if(y){var E=g(x);E&&E!==y&&P(b,E,C)}var j=f(x);p&&(j=j.concat(p(x)));for(var k=l(b),M=l(x),R=0;R<j.length;++R){var L=j[R];if(!n[L]&&!(C&&C[L])&&!(M&&M[L])&&!(k&&k[L])){var D=h(x,L);try{c(b,L,D)}catch{}}}}return b}return ad=P,ad}D4();var ld={exports:{}},nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function I4(){if(X0)return nt;X0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function x(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case t:switch(C=C.type,C){case n:case o:case s:case p:case h:return C;default:switch(C=C&&C.$$typeof,C){case c:case l:case f:case y:case g:case a:return C;default:return E}}case e:return E}}}return nt.ContextConsumer=l,nt.ContextProvider=a,nt.Element=t,nt.ForwardRef=f,nt.Fragment=n,nt.Lazy=y,nt.Memo=g,nt.Portal=e,nt.Profiler=o,nt.StrictMode=s,nt.Suspense=p,nt.SuspenseList=h,nt.isAsyncMode=function(){return!1},nt.isConcurrentMode=function(){return!1},nt.isContextConsumer=function(C){return x(C)===l},nt.isContextProvider=function(C){return x(C)===a},nt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},nt.isForwardRef=function(C){return x(C)===f},nt.isFragment=function(C){return x(C)===n},nt.isLazy=function(C){return x(C)===y},nt.isMemo=function(C){return x(C)===g},nt.isPortal=function(C){return x(C)===e},nt.isProfiler=function(C){return x(C)===o},nt.isStrictMode=function(C){return x(C)===s},nt.isSuspense=function(C){return x(C)===p},nt.isSuspenseList=function(C){return x(C)===h},nt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===o||C===s||C===p||C===h||C===P||typeof C=="object"&&C!==null&&(C.$$typeof===y||C.$$typeof===g||C.$$typeof===a||C.$$typeof===l||C.$$typeof===f||C.$$typeof===b||C.getModuleId!==void 0)},nt.typeOf=x,nt}var Z0;function M4(){return Z0||(Z0=1,ld.exports=I4()),ld.exports}M4();function O4(){const t=E4();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){let s=[],o=e;for(;o;)s.push(o),o=o.next;return s},subscribe(s){let o=!0,a=n={callback:s,next:null,prev:n};return a.prev?a.prev.next=a:e=a,function(){!o||e===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}const ey={notify(){},get:()=>[]};function F4(t,e){let n,s=ey,o=0,a=!1;function l(x){h();const C=s.subscribe(x);let E=!1;return()=>{E||(E=!0,C(),g())}}function c(){s.notify()}function f(){b.onStateChange&&b.onStateChange()}function p(){return a}function h(){o++,n||(n=t.subscribe(f),s=O4())}function g(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=ey)}function y(){a||(a=!0,h())}function P(){a&&(a=!1,g())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:p,trySubscribe:y,tryUnsubscribe:P,getListeners:()=>s};return b}const B4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V4=B4?V.useLayoutEffect:V.useEffect;function $4({store:t,context:e,children:n,serverState:s,stabilityCheck:o="once",noopCheck:a="once"}){const l=V.useMemo(()=>{const p=F4(t);return{store:t,subscription:p,getServerState:s?()=>s:void 0,stabilityCheck:o,noopCheck:a}},[t,s,o,a]),c=V.useMemo(()=>t.getState(),[t]);V4(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==t.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const f=e||vs;return V.createElement(f.Provider,{value:l},n)}function jv(t=vs){const e=t===vs?Nv:Dh(t);return function(){const{store:s}=e();return s}}const U4=jv();function z4(t=vs){const e=t===vs?U4:jv(t);return function(){return e().dispatch}}const Ns=z4();T4(S4.useSyncExternalStoreWithSelector);N4(C4.unstable_batchedUpdates);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ha.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const ty="popstate";function q4(t){t===void 0&&(t={});function e(s,o){let{pathname:a,search:l,hash:c}=s.location;return Vd("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:wu(o)}return W4(e,n,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q4(){return Math.random().toString(36).substr(2,8)}function ny(t,e){return{usr:t.state,key:t.key,idx:e}}function Vd(t,e,n,s){return n===void 0&&(n=null),ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:n,key:e&&e.key||s||Q4()})}function wu(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function W4(t,e,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,l=o.history,c=fs.Pop,f=null,p=h();p==null&&(p=0,l.replaceState(ha({},l.state,{idx:p}),""));function h(){return(l.state||{idx:null}).idx}function g(){c=fs.Pop;let C=h(),E=C==null?null:C-p;p=C,f&&f({action:c,location:x.location,delta:E})}function y(C,E){c=fs.Push;let j=Vd(x.location,C,E);p=h()+1;let k=ny(j,p),M=x.createHref(j);try{l.pushState(k,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(M)}a&&f&&f({action:c,location:x.location,delta:1})}function P(C,E){c=fs.Replace;let j=Vd(x.location,C,E);p=h();let k=ny(j,p),M=x.createHref(j);l.replaceState(k,"",M),a&&f&&f({action:c,location:x.location,delta:0})}function b(C){let E=o.location.origin!=="null"?o.location.origin:o.location.href,j=typeof C=="string"?C:wu(C);return j=j.replace(/ $/,"%20"),Pt(E,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,E)}let x={get action(){return c},get location(){return t(o,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ty,g),f=C,()=>{o.removeEventListener(ty,g),f=null}},createHref(C){return e(o,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:P,go(C){return l.go(C)}};return x}var ry;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ry||(ry={}));function H4(t,e,n){return n===void 0&&(n="/"),K4(t,e,n)}function K4(t,e,n,s){let o=typeof e=="string"?ro(e):e,a=Ih(o.pathname||"/",n);if(a==null)return null;let l=Tv(t);G4(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=aC(a);c=sC(l[f],p)}return c}function Tv(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Pt(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let p=ms([s,f.relativePath]),h=n.concat(f);a.children&&a.children.length>0&&(Pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Tv(a.children,e,h,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:nC(p,a.index),routesMeta:h})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,l);else for(let f of Av(a.path))o(a,l,f)}),e}function Av(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let l=Av(s.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function G4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Y4=/^:[\w-]+$/,J4=3,X4=2,Z4=1,eC=10,tC=-2,sy=t=>t==="*";function nC(t,e){let n=t.split("/"),s=n.length;return n.some(sy)&&(s+=tC),e&&(s+=X4),n.filter(o=>!sy(o)).reduce((o,a)=>o+(Y4.test(a)?J4:a===""?Z4:eC),s)}function rC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function sC(t,e,n){let{routesMeta:s}=t,o={},a="/",l=[];for(let c=0;c<s.length;++c){let f=s[c],p=c===s.length-1,h=a==="/"?e:e.slice(a.length)||"/",g=iC({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},h),y=f.route;if(!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:ms([a,g.pathname]),pathnameBase:fC(ms([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=ms([a,g.pathnameBase]))}return l}function iC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=oC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((p,h,g)=>{let{paramName:y,isOptional:P}=h;if(y==="*"){let x=c[g]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[g];return P&&!b?p[y]=void 0:p[y]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function oC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(s.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ih(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function lC(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:uC(n,e):e,search:dC(s),hash:hC(o)}}function uC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ud(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mh(t,e){let n=cC(t);return e?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Oh(t,e,n,s){s===void 0&&(s=!1);let o;typeof t=="string"?o=ro(t):(o=ha({},t),Pt(!o.pathname||!o.pathname.includes("?"),ud("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),ud("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),ud("#","search","hash",o)));let a=t===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!s&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}c=g>=0?e[g]:"/"}let f=lC(o,c),p=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||h)&&(f.pathname+="/"),f}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),fC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _v=["post","put","patch","delete"];new Set(_v);const mC=["get",..._v];new Set(mC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pa.apply(this,arguments)}const Fh=V.createContext(null),gC=V.createContext(null),Es=V.createContext(null),Wu=V.createContext(null),Br=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Lv=V.createContext(null);function yC(t,e){let{relative:n}=e===void 0?{}:e;so()||Pt(!1);let{basename:s,navigator:o}=V.useContext(Es),{hash:a,pathname:l,search:c}=Dv(t,{relative:n}),f=l;return s!=="/"&&(f=l==="/"?s:ms([s,l])),o.createHref({pathname:f,search:c,hash:a})}function so(){return V.useContext(Wu)!=null}function ii(){return so()||Pt(!1),V.useContext(Wu).location}function Rv(t){V.useContext(Es).static||V.useLayoutEffect(t)}function Hu(){let{isDataRoute:t}=V.useContext(Br);return t?LC():xC()}function xC(){so()||Pt(!1);let t=V.useContext(Fh),{basename:e,future:n,navigator:s}=V.useContext(Es),{matches:o}=V.useContext(Br),{pathname:a}=ii(),l=JSON.stringify(Mh(o,n.v7_relativeSplatPath)),c=V.useRef(!1);return Rv(()=>{c.current=!0}),V.useCallback(function(p,h){if(h===void 0&&(h={}),!c.current)return;if(typeof p=="number"){s.go(p);return}let g=Oh(p,JSON.parse(l),a,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ms([e,g.pathname])),(h.replace?s.replace:s.push)(g,h.state,h)},[e,s,l,a,t])}const vC=V.createContext(null);function bC(t){let e=V.useContext(Br).outlet;return e&&V.createElement(vC.Provider,{value:t},e)}function Dv(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=V.useContext(Es),{matches:o}=V.useContext(Br),{pathname:a}=ii(),l=JSON.stringify(Mh(o,s.v7_relativeSplatPath));return V.useMemo(()=>Oh(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function wC(t,e){return SC(t,e)}function SC(t,e,n,s){so()||Pt(!1);let{navigator:o}=V.useContext(Es),{matches:a}=V.useContext(Br),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=ii(),h;if(e){var g;let C=typeof e=="string"?ro(e):e;f==="/"||(g=C.pathname)!=null&&g.startsWith(f)||Pt(!1),h=C}else h=p;let y=h.pathname||"/",P=y;if(f!=="/"){let C=f.replace(/^\//,"").split("/");P="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=H4(t,{pathname:P}),x=jC(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:ms([f,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:ms([f,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,s);return e&&x?V.createElement(Wu.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fs.Pop}},x):x}function CC(){let t=_C(),e=pC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,null)}const PC=V.createElement(CC,null);class NC extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Br.Provider,{value:this.props.routeContext},V.createElement(Lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EC(t){let{routeContext:e,match:n,children:s}=t,o=V.useContext(Fh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Br.Provider,{value:e},s)}function jC(t,e,n,s){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(o=n)==null?void 0:o.errors;if(c!=null){let h=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);h>=0||Pt(!1),l=l.slice(0,Math.min(l.length,h+1))}let f=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<l.length;h++){let g=l[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=h),g.route.id){let{loaderData:y,errors:P}=n,b=g.route.loader&&y[g.route.id]===void 0&&(!P||P[g.route.id]===void 0);if(g.route.lazy||b){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((h,g,y)=>{let P,b=!1,x=null,C=null;n&&(P=c&&g.route.id?c[g.route.id]:void 0,x=g.route.errorElement||PC,f&&(p<0&&y===0?(RC("route-fallback"),b=!0,C=null):p===y&&(b=!0,C=g.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),j=()=>{let k;return P?k=x:b?k=C:g.route.Component?k=V.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=h,V.createElement(EC,{match:g,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?V.createElement(NC,{location:n.location,revalidation:n.revalidation,component:x,error:P,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}var Iv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Iv||{}),Mv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mv||{});function kC(t){let e=V.useContext(Fh);return e||Pt(!1),e}function TC(t){let e=V.useContext(gC);return e||Pt(!1),e}function AC(t){let e=V.useContext(Br);return e||Pt(!1),e}function Ov(t){let e=AC(),n=e.matches[e.matches.length-1];return n.route.id||Pt(!1),n.route.id}function _C(){var t;let e=V.useContext(Lv),n=TC(),s=Ov();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function LC(){let{router:t}=kC(Iv.UseNavigateStable),e=Ov(Mv.UseNavigateStable),n=V.useRef(!1);return Rv(()=>{n.current=!0}),V.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,pa({fromRouteId:e},a)))},[t,e])}const iy={};function RC(t,e,n){iy[t]||(iy[t]=!0)}function DC(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Tr(t){let{to:e,replace:n,state:s,relative:o}=t;so()||Pt(!1);let{future:a,static:l}=V.useContext(Es),{matches:c}=V.useContext(Br),{pathname:f}=ii(),p=Hu(),h=Oh(e,Mh(c,a.v7_relativeSplatPath),f,o==="path"),g=JSON.stringify(h);return V.useEffect(()=>p(JSON.parse(g),{replace:n,state:s,relative:o}),[p,g,o,n,s]),null}function IC(t){return bC(t.context)}function En(t){Pt(!1)}function MC(t){let{basename:e="/",children:n=null,location:s,navigationType:o=fs.Pop,navigator:a,static:l=!1,future:c}=t;so()&&Pt(!1);let f=e.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:f,navigator:a,static:l,future:pa({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof s=="string"&&(s=ro(s));let{pathname:h="/",search:g="",hash:y="",state:P=null,key:b="default"}=s,x=V.useMemo(()=>{let C=Ih(h,f);return C==null?null:{location:{pathname:C,search:g,hash:y,state:P,key:b},navigationType:o}},[f,h,g,y,P,b,o]);return x==null?null:V.createElement(Es.Provider,{value:p},V.createElement(Wu.Provider,{children:n,value:x}))}function OC(t){let{children:e,location:n}=t;return wC($d(e),n)}new Promise(()=>{});function $d(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(s,o)=>{if(!V.isValidElement(s))return;let a=[...e,o];if(s.type===V.Fragment){n.push.apply(n,$d(s.props.children,a));return}s.type!==En&&Pt(!1),!s.props.index||!s.props.children||Pt(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=$d(s.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ud.apply(this,arguments)}function FC(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function BC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!BC(t)}const $C=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UC="6";try{window.__reactRouterVersion=UC}catch{}const zC="startTransition",oy=d4[zC];function qC(t){let{basename:e,children:n,future:s,window:o}=t,a=V.useRef();a.current==null&&(a.current=q4({window:o,v5Compat:!0}));let l=a.current,[c,f]=V.useState({action:l.action,location:l.location}),{v7_startTransition:p}=s||{},h=V.useCallback(g=>{p&&oy?oy(()=>f(g)):f(g)},[f,p]);return V.useLayoutEffect(()=>l.listen(h),[l,h]),V.useEffect(()=>DC(s),[s]),V.createElement(MC,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}const QC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=V.forwardRef(function(e,n){let{onClick:s,relative:o,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:h,viewTransition:g}=e,y=FC(e,$C),{basename:P}=V.useContext(Es),b,x=!1;if(typeof p=="string"&&WC.test(p)&&(b=p,QC))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),R=Ih(M.pathname,P);M.origin===k.origin&&R!=null?p=R+M.search+M.hash:x=!0}catch{}let C=yC(p,{relative:o}),E=HC(p,{replace:l,state:c,target:f,preventScrollReset:h,relative:o,viewTransition:g});function j(k){s&&s(k),k.defaultPrevented||E(k)}return V.createElement("a",Ud({},y,{href:b||C,onClick:x||a?s:j,ref:n,target:f}))});var ay;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ay||(ay={}));var ly;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ly||(ly={}));function HC(t,e){let{target:n,replace:s,state:o,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=Hu(),p=ii(),h=Dv(t,{relative:l});return V.useCallback(g=>{if(VC(g,n)){g.preventDefault();let y=s!==void 0?s:wu(p)===wu(h);f(t,{replace:y,state:o,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,h,s,o,n,t,a,l,c])}let KC={data:""},GC=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||KC,YC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JC=/\/\*[^]*?\*\/|  +/g,uy=/\n+/g,ls=(t,e)=>{let n="",s="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":s+=a[1]=="f"?ls(l,a):a+"{"+ls(l,a[1]=="k"?"":e)+"}":typeof l=="object"?s+=ls(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ls.p?ls.p(a,l):a+":"+l+";")}return n+(e&&o?e+"{"+o+"}":o)+s},Ar={},Fv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Fv(t[n]);return e}return t},XC=(t,e,n,s,o)=>{let a=Fv(t),l=Ar[a]||(Ar[a]=(f=>{let p=0,h=11;for(;p<f.length;)h=101*h+f.charCodeAt(p++)>>>0;return"go"+h})(a));if(!Ar[l]){let f=a!==t?t:(p=>{let h,g,y=[{}];for(;h=YC.exec(p.replace(JC,""));)h[4]?y.shift():h[3]?(g=h[3].replace(uy," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][h[1]]=h[2].replace(uy," ").trim();return y[0]})(t);Ar[l]=ls(o?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&Ar.g?Ar.g:null;return n&&(Ar.g=Ar[l]),((f,p,h,g)=>{g?p.data=p.data.replace(g,f):p.data.indexOf(f)===-1&&(p.data=h?f+p.data:p.data+f)})(Ar[l],e,s,c),l},ZC=(t,e,n)=>t.reduce((s,o,a)=>{let l=e[a];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":ls(c,""):c===!1?"":c}return s+o+(l??"")},"");function Ku(t){let e=this||{},n=t.call?t(e.p):t;return XC(n.unshift?n.raw?ZC(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,GC(e.target),e.g,e.o,e.k)}let Bv,zd,qd;Ku.bind({g:1});let Ir=Ku.bind({k:1});function eP(t,e,n,s){ls.p=e,Bv=t,zd=n,qd=s}function js(t,e){let n=this||{};return function(){let s=arguments;function o(a,l){let c=Object.assign({},a),f=c.className||o.className;n.p=Object.assign({theme:zd&&zd()},c),n.o=/ *go\d+/.test(f),c.className=Ku.apply(n,s)+(f?" "+f:"");let p=t;return t[0]&&(p=c.as||t,delete c.as),qd&&p[0]&&qd(c),Bv(p,c)}return o}}var tP=t=>typeof t=="function",Su=(t,e)=>tP(t)?t(e):t,nP=(()=>{let t=0;return()=>(++t).toString()})(),Vv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rP=20,$v=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rP)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return $v(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},iu=[],Gs={toasts:[],pausedAt:void 0},oi=t=>{Gs=$v(Gs,t),iu.forEach(e=>{e(Gs)})},sP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iP=(t={})=>{let[e,n]=V.useState(Gs),s=V.useRef(Gs);V.useEffect(()=>(s.current!==Gs&&n(Gs),iu.push(n),()=>{let a=iu.indexOf(n);a>-1&&iu.splice(a,1)}),[]);let o=e.toasts.map(a=>{var l,c,f;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||t?.removeDelay,duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||t?.duration||sP[a.type],style:{...t.style,...(f=t[a.type])==null?void 0:f.style,...a.style}}});return{...e,toasts:o}},oP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||nP()}),La=t=>(e,n)=>{let s=oP(e,t,n);return oi({type:2,toast:s}),s.id},rn=(t,e)=>La("blank")(t,e);rn.error=La("error");rn.success=La("success");rn.loading=La("loading");rn.custom=La("custom");rn.dismiss=t=>{oi({type:3,toastId:t})};rn.remove=t=>oi({type:4,toastId:t});rn.promise=(t,e,n)=>{let s=rn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let a=e.success?Su(e.success,o):void 0;return a?rn.success(a,{id:s,...n,...n?.success}):rn.dismiss(s),o}).catch(o=>{let a=e.error?Su(e.error,o):void 0;a?rn.error(a,{id:s,...n,...n?.error}):rn.dismiss(s)}),t};var aP=(t,e)=>{oi({type:1,toast:{id:t,height:e}})},lP=()=>{oi({type:5,time:Date.now()})},na=new Map,uP=1e3,cP=(t,e=uP)=>{if(na.has(t))return;let n=setTimeout(()=>{na.delete(t),oi({type:4,toastId:t})},e);na.set(t,n)},fP=t=>{let{toasts:e,pausedAt:n}=iP(t);V.useEffect(()=>{if(n)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let f=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(f<0){c.visible&&rn.dismiss(c.id);return}return setTimeout(()=>rn.dismiss(c.id),f)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,n]);let s=V.useCallback(()=>{n&&oi({type:6,time:Date.now()})},[n]),o=V.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:f=8,defaultPosition:p}=l||{},h=e.filter(P=>(P.position||p)===(a.position||p)&&P.height),g=h.findIndex(P=>P.id===a.id),y=h.filter((P,b)=>b<g&&P.visible).length;return h.filter(P=>P.visible).slice(...c?[y+1]:[0,y]).reduce((P,b)=>P+(b.height||0)+f,0)},[e]);return V.useEffect(()=>{e.forEach(a=>{if(a.dismissed)cP(a.id,a.removeDelay);else{let l=na.get(a.id);l&&(clearTimeout(l),na.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:aP,startPause:lP,endPause:s,calculateOffset:o}}},dP=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,hP=Ir`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pP=Ir`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mP=js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${hP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gP=Ir`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yP=js("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gP} 1s linear infinite;
`,xP=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vP=Ir`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bP=js("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wP=js("div")`
  position: absolute;
`,SP=js("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CP=Ir`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PP=js("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NP=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?V.createElement(PP,null,e):e:n==="blank"?null:V.createElement(SP,null,V.createElement(yP,{...s}),n!=="loading"&&V.createElement(wP,null,n==="error"?V.createElement(mP,{...s}):V.createElement(bP,{...s})))},EP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kP="0%{opacity:0;} 100%{opacity:1;}",TP="0%{opacity:1;} 100%{opacity:0;}",AP=js("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_P=js("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LP=(t,e)=>{let n=t.includes("top")?1:-1,[s,o]=Vv()?[kP,TP]:[EP(n),jP(n)];return{animation:e?`${Ir(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ir(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RP=V.memo(({toast:t,position:e,style:n,children:s})=>{let o=t.height?LP(t.position||e||"top-center",t.visible):{opacity:0},a=V.createElement(NP,{toast:t}),l=V.createElement(_P,{...t.ariaProps},Su(t.message,t));return V.createElement(AP,{className:t.className,style:{...o,...n,...t.style}},typeof s=="function"?s({icon:a,message:l}):V.createElement(V.Fragment,null,a,l))});eP(V.createElement);var DP=({id:t,className:e,style:n,onHeightUpdate:s,children:o})=>{let a=V.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;s(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return V.createElement("div",{ref:a,className:e,style:n},o)},IP=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},MP=Ku`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yl=16,OP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:o,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:f}=fP(n);return V.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Yl,left:Yl,right:Yl,bottom:Yl,pointerEvents:"none",...a},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},c.map(p=>{let h=p.position||e,g=f.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),y=IP(h,g);return V.createElement(DP,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?MP:"",style:y},p.type==="custom"?Su(p.message,p):o?o(p):V.createElement(RP,{toast:p,position:h}))}))},Cu=rn,FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=(t,e)=>{const n=V.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:c,...f},p)=>V.createElement("svg",{ref:p,...FP,width:o,height:o,stroke:s,strokeWidth:l?Number(a)*24/Number(o):a,className:`lucide lucide-${BP(t)}`,...f},[...e.map(([h,g])=>V.createElement(h,g)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${t}`,n};var Et=VP;const cy=Et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$P=Et("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Bh=Et("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),UP=Et("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ma=Et("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ga=Et("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Uv=Et("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Qd=Et("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Wd=Et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),zP=Et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),zv=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),qP=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Vh=Et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),QP=Et("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Hd=Et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qv=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),WP=Et("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),fy=Et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ds=Et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),HP=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Pu=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dy=()=>typeof window<"u"&&window.innerWidth<=600,sn=({sparkColor:t="#00D4FF",sparkSize:e=10,sparkRadius:n=15,sparkCount:s=8,duration:o=400,easing:a="ease-out",extraScale:l=1,children:c})=>{const f=V.useRef(null),p=V.useRef([]),h=V.useRef(null),[g,y]=V.useState(dy()),P=()=>g?{sparkSize:e*1.5,sparkRadius:n*1.5,sparkCount:Math.max(10,s),duration:o*1.2}:{sparkSize:e,sparkRadius:n,sparkCount:s,duration:o};V.useEffect(()=>{const j=()=>y(dy());return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),V.useEffect(()=>{const j=f.current;if(!j)return;const k=j.parentElement;if(!k)return;let M;const R=()=>{const{width:O,height:I}=k.getBoundingClientRect();(j.width!==O||j.height!==I)&&(j.width=O,j.height=I)},L=()=>{clearTimeout(M),M=setTimeout(R,100)},D=new ResizeObserver(L);return D.observe(k),R(),()=>{D.disconnect(),clearTimeout(M)}},[]);const b=V.useCallback(j=>{switch(a){case"linear":return j;case"ease-in":return j*j;case"ease-in-out":return j<.5?2*j*j:-1+(4-2*j)*j;default:return j*(2-j)}},[a]);V.useEffect(()=>{const j=f.current;if(!j)return;const k=j.getContext("2d");if(!k)return;let M;const R=L=>{h.current||(h.current=L),k.clearRect(0,0,j.width,j.height);const{sparkSize:D,sparkRadius:O,duration:I}=P();p.current=p.current.filter(H=>{const B=L-H.startTime;if(B>=I)return!1;const Z=B/I,re=b(Z),G=re*O*l,ae=D*(1-re),xe=H.x+G*Math.cos(H.angle),de=H.y+G*Math.sin(H.angle),se=H.x+(G+ae)*Math.cos(H.angle),ue=H.y+(G+ae)*Math.sin(H.angle);return k.strokeStyle=t,k.lineWidth=2,k.beginPath(),k.moveTo(xe,de),k.lineTo(se,ue),k.stroke(),!0}),M=requestAnimationFrame(R)};return M=requestAnimationFrame(R),()=>{cancelAnimationFrame(M)}},[t,e,n,s,o,b,l,g]);const x=(j,k)=>{const{sparkCount:M}=P(),R=performance.now(),L=Array.from({length:M},(D,O)=>({x:j,y:k,angle:2*Math.PI*O/M,startTime:R}));p.current.push(...L)},C=j=>{const k=f.current;if(!k)return;const M=k.getBoundingClientRect(),R=j.clientX-M.left,L=j.clientY-M.top;x(R,L)},E=j=>{const k=f.current;if(!k)return;const M=k.getBoundingClientRect(),R=j.touches[0];if(!R)return;const L=R.clientX-M.left,D=R.clientY-M.top;x(L,D)};return m.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},onClick:C,onTouchStart:E,children:[m.jsx("canvas",{ref:f,style:{width:"100%",height:"100%",display:"block",userSelect:"none",position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:500}}),c]})};function Zn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function bs(t){return!!t&&!!t[dt]}function Mr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var o=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===n3}(t)||Array.isArray(t)||!!t[vy]||!!(!((e=t.constructor)===null||e===void 0)&&e[vy])||$h(t)||Uh(t))}function ni(t,e,n){n===void 0&&(n=!1),io(t)===0?(n?Object.keys:Ki)(t).forEach(function(s){n&&typeof s=="symbol"||e(s,t[s],t)}):t.forEach(function(s,o){return e(o,s,t)})}function io(t){var e=t[dt];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:$h(t)?2:Uh(t)?3:0}function Hi(t,e){return io(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function KP(t,e){return io(t)===2?t.get(e):t[e]}function Qv(t,e,n){var s=io(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function Wv(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function $h(t){return e3&&t instanceof Map}function Uh(t){return t3&&t instanceof Set}function Ws(t){return t.o||t.t}function zh(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Kv(t);delete e[dt];for(var n=Ki(e),s=0;s<n.length;s++){var o=n[s],a=e[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function qh(t,e){return e===void 0&&(e=!1),Qh(t)||bs(t)||!Mr(t)||(io(t)>1&&(t.set=t.add=t.clear=t.delete=GP),Object.freeze(t),e&&ni(t,function(n,s){return qh(s,!0)},!0)),t}function GP(){Zn(2)}function Qh(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function pr(t){var e=Jd[t];return e||Zn(18,t),e}function YP(t,e){Jd[t]||(Jd[t]=e)}function Kd(){return ya}function cd(t,e){e&&(pr("Patches"),t.u=[],t.s=[],t.v=e)}function Nu(t){Gd(t),t.p.forEach(JP),t.p=null}function Gd(t){t===ya&&(ya=t.l)}function hy(t){return ya={p:[],l:ya,h:t,m:!0,_:0}}function JP(t){var e=t[dt];e.i===0||e.i===1?e.j():e.g=!0}function fd(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||pr("ES5").S(e,t,s),s?(n[dt].P&&(Nu(e),Zn(4)),Mr(t)&&(t=Eu(e,t),e.l||ju(e,t)),e.u&&pr("Patches").M(n[dt].t,t,e.u,e.s)):t=Eu(e,n,[]),Nu(e),e.u&&e.v(e.u,e.s),t!==Hv?t:void 0}function Eu(t,e,n){if(Qh(e))return e;var s=e[dt];if(!s)return ni(e,function(c,f){return py(t,s,e,c,f,n)},!0),e;if(s.A!==t)return e;if(!s.P)return ju(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var o=s.i===4||s.i===5?s.o=zh(s.k):s.o,a=o,l=!1;s.i===3&&(a=new Set(o),o.clear(),l=!0),ni(a,function(c,f){return py(t,s,o,c,f,n,l)}),ju(t,o,!1),n&&t.u&&pr("Patches").N(s,n,t.u,t.s)}return s.o}function py(t,e,n,s,o,a,l){if(bs(o)){var c=Eu(t,o,a&&e&&e.i!==3&&!Hi(e.R,s)?a.concat(s):void 0);if(Qv(n,s,c),!bs(c))return;t.m=!1}else l&&n.add(o);if(Mr(o)&&!Qh(o)){if(!t.h.D&&t._<1)return;Eu(t,o),e&&e.A.l||ju(t,o)}}function ju(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&qh(e,n)}function dd(t,e){var n=t[dt];return(n?Ws(n):t)[e]}function my(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function us(t){t.P||(t.P=!0,t.l&&us(t.l))}function hd(t){t.o||(t.o=zh(t.t))}function Yd(t,e,n){var s=$h(e)?pr("MapSet").F(e,n):Uh(e)?pr("MapSet").T(e,n):t.O?function(o,a){var l=Array.isArray(o),c={i:l?1:0,A:a?a.A:Kd(),P:!1,I:!1,R:{},l:a,t:o,k:null,o:null,j:null,C:!1},f=c,p=xa;l&&(f=[c],p=ea);var h=Proxy.revocable(f,p),g=h.revoke,y=h.proxy;return c.k=y,c.j=g,y}(e,n):pr("ES5").J(e,n);return(n?n.A:Kd()).p.push(s),s}function XP(t){return bs(t)||Zn(22,t),function e(n){if(!Mr(n))return n;var s,o=n[dt],a=io(n);if(o){if(!o.P&&(o.i<4||!pr("ES5").K(o)))return o.t;o.I=!0,s=gy(n,a),o.I=!1}else s=gy(n,a);return ni(s,function(l,c){o&&KP(o.t,l)===c||Qv(s,l,e(c))}),a===3?new Set(s):s}(t)}function gy(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return zh(t)}function ZP(){function t(a,l){var c=o[a];return c?c.enumerable=l:o[a]=c={configurable:!0,enumerable:l,get:function(){var f=this[dt];return xa.get(f,a)},set:function(f){var p=this[dt];xa.set(p,a,f)}},c}function e(a){for(var l=a.length-1;l>=0;l--){var c=a[l][dt];if(!c.P)switch(c.i){case 5:s(c)&&us(c);break;case 4:n(c)&&us(c)}}}function n(a){for(var l=a.t,c=a.k,f=Ki(c),p=f.length-1;p>=0;p--){var h=f[p];if(h!==dt){var g=l[h];if(g===void 0&&!Hi(l,h))return!0;var y=c[h],P=y&&y[dt];if(P?P.t!==g:!Wv(y,g))return!0}}var b=!!l[dt];return f.length!==Ki(l).length+(b?0:1)}function s(a){var l=a.k;if(l.length!==a.t.length)return!0;var c=Object.getOwnPropertyDescriptor(l,l.length-1);if(c&&!c.get)return!0;for(var f=0;f<l.length;f++)if(!l.hasOwnProperty(f))return!0;return!1}var o={};YP("ES5",{J:function(a,l){var c=Array.isArray(a),f=function(h,g){if(h){for(var y=Array(g.length),P=0;P<g.length;P++)Object.defineProperty(y,""+P,t(P,!0));return y}var b=Kv(g);delete b[dt];for(var x=Ki(b),C=0;C<x.length;C++){var E=x[C];b[E]=t(E,h||!!b[E].enumerable)}return Object.create(Object.getPrototypeOf(g),b)}(c,a),p={i:c?5:4,A:l?l.A:Kd(),P:!1,I:!1,R:{},l,t:a,k:f,o:null,g:!1,C:!1};return Object.defineProperty(f,dt,{value:p,writable:!0}),f},S:function(a,l,c){c?bs(l)&&l[dt].A===a&&e(a.p):(a.u&&function f(p){if(p&&typeof p=="object"){var h=p[dt];if(h){var g=h.t,y=h.k,P=h.R,b=h.i;if(b===4)ni(y,function(k){k!==dt&&(g[k]!==void 0||Hi(g,k)?P[k]||f(y[k]):(P[k]=!0,us(h)))}),ni(g,function(k){y[k]!==void 0||Hi(y,k)||(P[k]=!1,us(h))});else if(b===5){if(s(h)&&(us(h),P.length=!0),y.length<g.length)for(var x=y.length;x<g.length;x++)P[x]=!1;else for(var C=g.length;C<y.length;C++)P[C]=!0;for(var E=Math.min(y.length,g.length),j=0;j<E;j++)y.hasOwnProperty(j)||(P[j]=!0),P[j]===void 0&&f(y[j])}}}}(a.p[0]),e(a.p))},K:function(a){return a.i===4?n(a):s(a)}})}var yy,ya,Wh=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",e3=typeof Map<"u",t3=typeof Set<"u",xy=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Hv=Wh?Symbol.for("immer-nothing"):((yy={})["immer-nothing"]=!0,yy),vy=Wh?Symbol.for("immer-draftable"):"__$immer_draftable",dt=Wh?Symbol.for("immer-state"):"__$immer_state",n3=""+Object.prototype.constructor,Ki=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Kv=Object.getOwnPropertyDescriptors||function(t){var e={};return Ki(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Jd={},xa={get:function(t,e){if(e===dt)return t;var n=Ws(t);if(!Hi(n,e))return function(o,a,l){var c,f=my(a,l);return f?"value"in f?f.value:(c=f.get)===null||c===void 0?void 0:c.call(o.k):void 0}(t,n,e);var s=n[e];return t.I||!Mr(s)?s:s===dd(t.t,e)?(hd(t),t.o[e]=Yd(t.A.h,s,t)):s},has:function(t,e){return e in Ws(t)},ownKeys:function(t){return Reflect.ownKeys(Ws(t))},set:function(t,e,n){var s=my(Ws(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var o=dd(Ws(t),e),a=o?.[dt];if(a&&a.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Wv(n,o)&&(n!==void 0||Hi(t.t,e)))return!0;hd(t),us(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return dd(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,hd(t),us(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ws(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Zn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Zn(12)}},ea={};ni(xa,function(t,e){ea[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ea.deleteProperty=function(t,e){return ea.set.call(this,t,e,void 0)},ea.set=function(t,e,n){return xa.set.call(this,t[0],e,n,t[0])};var r3=function(){function t(n){var s=this;this.O=xy,this.D=!0,this.produce=function(o,a,l){if(typeof o=="function"&&typeof a!="function"){var c=a;a=o;var f=s;return function(x){var C=this;x===void 0&&(x=c);for(var E=arguments.length,j=Array(E>1?E-1:0),k=1;k<E;k++)j[k-1]=arguments[k];return f.produce(x,function(M){var R;return(R=a).call.apply(R,[C,M].concat(j))})}}var p;if(typeof a!="function"&&Zn(6),l!==void 0&&typeof l!="function"&&Zn(7),Mr(o)){var h=hy(s),g=Yd(s,o,void 0),y=!0;try{p=a(g),y=!1}finally{y?Nu(h):Gd(h)}return typeof Promise<"u"&&p instanceof Promise?p.then(function(x){return cd(h,l),fd(x,h)},function(x){throw Nu(h),x}):(cd(h,l),fd(p,h))}if(!o||typeof o!="object"){if((p=a(o))===void 0&&(p=o),p===Hv&&(p=void 0),s.D&&qh(p,!0),l){var P=[],b=[];pr("Patches").M(o,p,P,b),l(P,b)}return p}Zn(21,o)},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(p){for(var h=arguments.length,g=Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return s.produceWithPatches(p,function(P){return o.apply(void 0,[P].concat(g))})};var l,c,f=s.produce(o,a,function(p,h){l=p,c=h});return typeof Promise<"u"&&f instanceof Promise?f.then(function(p){return[p,l,c]}):[f,l,c]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Mr(n)||Zn(8),bs(n)&&(n=XP(n));var s=hy(this),o=Yd(this,n,void 0);return o[dt].C=!0,Gd(s),o},e.finishDraft=function(n,s){var o=n&&n[dt],a=o.A;return cd(a,s),fd(void 0,a)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!xy&&Zn(20),this.O=n},e.applyPatches=function(n,s){var o;for(o=s.length-1;o>=0;o--){var a=s[o];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}o>-1&&(s=s.slice(o+1));var l=pr("Patches").$;return bs(n)?l(n,s):this.produce(n,function(c){return l(c,s)})},t}(),_n=new r3,Gv=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseProxies.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function s3(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(va(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i3(t){var e=s3(t,"string");return va(e)=="symbol"?e:e+""}function o3(t,e,n){return(e=i3(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?by(Object(n),!0).forEach(function(s){o3(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Jt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Sy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),pd=function(){return Math.random().toString(36).substring(7).split("").join(".")},ku={INIT:"@@redux/INIT"+pd(),REPLACE:"@@redux/REPLACE"+pd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pd()}};function a3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Yv(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(Yv)(t,e)}if(typeof t!="function")throw new Error(Jt(2));var o=t,a=e,l=[],c=l,f=!1;function p(){c===l&&(c=l.slice())}function h(){if(f)throw new Error(Jt(3));return a}function g(x){if(typeof x!="function")throw new Error(Jt(4));if(f)throw new Error(Jt(5));var C=!0;return p(),c.push(x),function(){if(C){if(f)throw new Error(Jt(6));C=!1,p();var j=c.indexOf(x);c.splice(j,1),l=null}}}function y(x){if(!a3(x))throw new Error(Jt(7));if(typeof x.type>"u")throw new Error(Jt(8));if(f)throw new Error(Jt(9));try{f=!0,a=o(a,x)}finally{f=!1}for(var C=l=c,E=0;E<C.length;E++){var j=C[E];j()}return x}function P(x){if(typeof x!="function")throw new Error(Jt(10));o=x,y({type:ku.REPLACE})}function b(){var x,C=g;return x={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Jt(11));function k(){j.next&&j.next(h())}k();var M=C(k);return{unsubscribe:M}}},x[Sy]=function(){return this},x}return y({type:ku.INIT}),s={dispatch:y,subscribe:g,getState:h,replaceReducer:P},s[Sy]=b,s}function l3(t){Object.keys(t).forEach(function(e){var n=t[e],s=n(void 0,{type:ku.INIT});if(typeof s>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:ku.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function u3(t){for(var e=Object.keys(t),n={},s=0;s<e.length;s++){var o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}var a=Object.keys(n),l;try{l3(n)}catch(c){l=c}return function(f,p){if(f===void 0&&(f={}),l)throw l;for(var h=!1,g={},y=0;y<a.length;y++){var P=a[y],b=n[P],x=f[P],C=b(x,p);if(typeof C>"u")throw p&&p.type,new Error(Jt(14));g[P]=C,h=h||C!==x}return h=h||a.length!==Object.keys(f).length,h?g:f}}function Tu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,o){return function(){return s(o.apply(void 0,arguments))}})}function c3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var o=s.apply(void 0,arguments),a=function(){throw new Error(Jt(15))},l={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=e.map(function(f){return f(l)});return a=Tu.apply(void 0,c)(o.dispatch),wy(wy({},o),{},{dispatch:a})}}}function Jv(t){var e=function(s){var o=s.dispatch,a=s.getState;return function(l){return function(c){return typeof c=="function"?c(o,a,t):l(c)}}};return e}var Xd=Jv();Xd.withExtraArgument=Jv;var Xv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),f3=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(p){return function(h){return f([p,h])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(h){p=[6,h],o=0}finally{s=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Xi=function(t,e){for(var n=0,s=e.length,o=t.length;n<s;n++,o++)t[o]=e[n];return t},d3=Object.defineProperty,h3=Object.defineProperties,p3=Object.getOwnPropertyDescriptors,Cy=Object.getOwnPropertySymbols,m3=Object.prototype.hasOwnProperty,g3=Object.prototype.propertyIsEnumerable,Py=function(t,e,n){return e in t?d3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},gs=function(t,e){for(var n in e||(e={}))m3.call(e,n)&&Py(t,n,e[n]);if(Cy)for(var s=0,o=Cy(e);s<o.length;s++){var n=o[s];g3.call(e,n)&&Py(t,n,e[n])}return t},md=function(t,e){return h3(t,p3(e))},y3=function(t,e,n){return new Promise(function(s,o){var a=function(f){try{c(n.next(f))}catch(p){o(p)}},l=function(f){try{c(n.throw(f))}catch(p){o(p)}},c=function(f){return f.done?s(f.value):Promise.resolve(f.value).then(a,l)};c((n=n.apply(t,e)).next())})},x3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tu:Tu.apply(null,arguments)};function v3(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function ys(t,e){function n(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(e){var a=e.apply(void 0,s);if(!a)throw new Error("prepareAction did not return an object");return gs(gs({type:t,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:t,payload:s[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(s){return s.type===t},n}var b3=function(t){Xv(e,t);function e(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xi([void 0],n.concat(this))))},e}(Array),w3=function(t){Xv(e,t);function e(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Xi([void 0],n[0].concat(this)))):new(e.bind.apply(e,Xi([void 0],n.concat(this))))},e}(Array);function Zd(t){return Mr(t)?Gv(t,function(){}):t}function S3(t){return typeof t=="boolean"}function C3(){return function(e){return P3(e)}}function P3(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var s=new b3;return n&&(S3(n)?s.push(Xd):s.push(Xd.withExtraArgument(n.extraArgument))),s}function N3(t){var e=C3(),n=t||{},s=n.reducer,o=s===void 0?void 0:s,a=n.middleware,l=a===void 0?e():a,c=n.devTools,f=c===void 0?!0:c,p=n.preloadedState,h=p===void 0?void 0:p,g=n.enhancers,y=g===void 0?void 0:g,P;if(typeof o=="function")P=o;else if(v3(o))P=u3(o);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var b=l;typeof b=="function"&&(b=b(e));var x=c3.apply(void 0,b),C=Tu;f&&(C=x3(gs({trace:!1},typeof f=="object"&&f)));var E=new w3(x),j=E;Array.isArray(y)?j=Xi([x],y):typeof y=="function"&&(j=y(E));var k=C.apply(void 0,j);return Yv(P,h,k)}function Zv(t){var e={},n=[],s,o={addCase:function(a,l){var c=typeof a=="string"?a:a.type;if(!c)throw new Error("`builder.addCase` cannot be called with an empty action type");if(c in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[c]=l,o},addMatcher:function(a,l){return n.push({matcher:a,reducer:l}),o},addDefaultCase:function(a){return s=a,o}};return t(o),[e,n,s]}function E3(t){return typeof t=="function"}function j3(t,e,n,s){n===void 0&&(n=[]);var o=typeof e=="function"?Zv(e):[e,n,s],a=o[0],l=o[1],c=o[2],f;if(E3(t))f=function(){return Zd(t())};else{var p=Zd(t);f=function(){return p}}function h(g,y){g===void 0&&(g=f());var P=Xi([a[y.type]],l.filter(function(b){var x=b.matcher;return x(y)}).map(function(b){var x=b.reducer;return x}));return P.filter(function(b){return!!b}).length===0&&(P=[c]),P.reduce(function(b,x){if(x)if(bs(b)){var C=b,E=x(C,y);return E===void 0?b:E}else{if(Mr(b))return Gv(b,function(j){return x(j,y)});var E=x(b,y);if(E===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}return b},g)}return h.getInitialState=f,h}function k3(t,e){return t+"/"+e}function Gu(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n=typeof t.initialState=="function"?t.initialState:Zd(t.initialState),s=t.reducers||{},o=Object.keys(s),a={},l={},c={};o.forEach(function(h){var g=s[h],y=k3(e,h),P,b;"reducer"in g?(P=g.reducer,b=g.prepare):P=g,a[h]=P,l[y]=P,c[h]=b?ys(y,b):ys(y)});function f(){var h=typeof t.extraReducers=="function"?Zv(t.extraReducers):[t.extraReducers],g=h[0],y=g===void 0?{}:g,P=h[1],b=P===void 0?[]:P,x=h[2],C=x===void 0?void 0:x,E=gs(gs({},y),l);return j3(n,function(j){for(var k in E)j.addCase(k,E[k]);for(var M=0,R=b;M<R.length;M++){var L=R[M];j.addMatcher(L.matcher,L.reducer)}C&&j.addDefaultCase(C)})}var p;return{name:e,reducer:function(h,g){return p||(p=f()),p(h,g)},actions:c,caseReducers:a,getInitialState:function(){return p||(p=f()),p.getInitialState()}}}var T3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A3=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=T3[Math.random()*64|0];return e},_3=["name","message","stack","code"],gd=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Ny=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),L3=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,s=_3;n<s.length;n++){var o=s[n];typeof t[o]=="string"&&(e[o]=t[o])}return e}return{message:String(t)}},rr=function(){function t(e,n,s){var o=ys(e+"/fulfilled",function(p,h,g,y){return{payload:p,meta:md(gs({},y||{}),{arg:g,requestId:h,requestStatus:"fulfilled"})}}),a=ys(e+"/pending",function(p,h,g){return{payload:void 0,meta:md(gs({},g||{}),{arg:h,requestId:p,requestStatus:"pending"})}}),l=ys(e+"/rejected",function(p,h,g,y,P){return{payload:y,error:(s&&s.serializeError||L3)(p||"Rejected"),meta:md(gs({},P||{}),{arg:g,requestId:h,rejectedWithValue:!!y,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"})}}),c=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return p.prototype.abort=function(){},p}();function f(p){return function(h,g,y){var P=s?.idGenerator?s.idGenerator(p):A3(),b=new c,x;function C(j){x=j,b.abort()}var E=function(){return y3(this,null,function(){var j,k,M,R,L,D,O;return f3(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),R=(j=s?.condition)==null?void 0:j.call(s,p,{getState:g,extra:y}),D3(R)?[4,R]:[3,2];case 1:R=I.sent(),I.label=2;case 2:if(R===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(H,B){return b.signal.addEventListener("abort",function(){return B({name:"AbortError",message:x||"Aborted"})})}),h(a(P,p,(k=s?.getPendingMeta)==null?void 0:k.call(s,{requestId:P,arg:p},{getState:g,extra:y}))),[4,Promise.race([L,Promise.resolve(n(p,{dispatch:h,getState:g,extra:y,requestId:P,signal:b.signal,abort:C,rejectWithValue:function(H,B){return new gd(H,B)},fulfillWithValue:function(H,B){return new Ny(H,B)}})).then(function(H){if(H instanceof gd)throw H;return H instanceof Ny?o(H.payload,P,p,H.meta):o(H,P,p)})])];case 3:return M=I.sent(),[3,5];case 4:return D=I.sent(),M=D instanceof gd?l(null,P,p,D.payload,D.meta):l(D,P,p),[3,5];case 5:return O=s&&!s.dispatchConditionRejection&&l.match(M)&&M.meta.condition,O||h(M),[2,M]}})})}();return Object.assign(E,{abort:C,requestId:P,arg:p,unwrap:function(){return E.then(R3)}})}}return Object.assign(f,{pending:a,rejected:l,fulfilled:o,typePrefix:e})}return t.withTypes=function(){return t},t}();function R3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function D3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Hh="listenerMiddleware";ys(Hh+"/add");ys(Hh+"/removeAll");ys(Hh+"/remove");var Ey;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ZP();const I3={isLoading:!1,modal:{isOpen:!1,type:null,data:null},sidebar:{isOpen:!1},notifications:[]},e1=Gu({name:"ui",initialState:I3,reducers:{setLoading:(t,e)=>{t.isLoading=e.payload},openModal:(t,e)=>{t.modal.isOpen=!0,t.modal.type=e.payload.type,t.modal.data=e.payload.data||null},closeModal:t=>{t.modal.isOpen=!1,t.modal.type=null,t.modal.data=null},toggleSidebar:t=>{t.sidebar.isOpen=!t.sidebar.isOpen},addNotification:(t,e)=>{const n=Math.random().toString(36).substr(2,9);t.notifications.push({id:n,...e.payload})},removeNotification:(t,e)=>{t.notifications=t.notifications.filter(n=>n.id!==e.payload)}}}),{toggleSidebar:t1}=e1.actions,M3=e1.reducer,O3=({isOpen:t})=>{const e=ii(),n=Ns(),s=[{name:"Dashboard",href:"/dashboard",icon:Qd},{name:"Profile",href:"/profile",icon:ds},{name:"My Skills",href:"/skills",icon:Bh},{name:"Browse Skills",href:"/browse",icon:qv},{name:"Swap Requests",href:"/swap-requests",icon:Vh},{name:"Swap History",href:"/swap-history",icon:Uv}],o=l=>e.pathname===l,a=()=>{n(t1())};return m.jsxs(m.Fragment,{children:[t&&m.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",onClick:a,children:m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),m.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-72 sm:w-80 discord-sidebar shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 lg:w-64
        ${t?"translate-x-0":"-translate-x-full"}
      `,children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 border-b border-[#2c2f33]",children:[m.jsx("h1",{className:"text-lg sm:text-xl font-bold text-[#7289da]",children:"CONDuit"}),m.jsx("button",{className:"lg:hidden p-2 rounded-md text-[#b9bbbe] hover:text-[#ffffff] hover:bg-[#2c2f33] transition-all duration-200 touch-manipulation discord-focus",onClick:a,"aria-label":"Close sidebar",children:m.jsx(Pu,{className:"h-5 w-5"})})]}),m.jsx("nav",{className:"mt-6 px-3 flex-1 overflow-y-auto discord-scrollbar",children:m.jsx("div",{className:"space-y-2",children:s.map(l=>{const c=l.icon;return m.jsx(sn,{sparkColor:o(l.href)?"#7289da":"#b9bbbe",sparkSize:6,sparkRadius:15,sparkCount:4,duration:300,children:m.jsxs(Qt,{to:l.href,onClick:a,className:`
                      nav-item ${o(l.href)?"active":""} discord-focus
                    `,children:[m.jsx(c,{className:`
                      mr-3 h-5 w-5 transition-colors duration-200
                      ${o(l.href)?"text-white":"text-[#b9bbbe] group-hover:text-[#ffffff]"}
                    `}),l.name]})},l.name)})})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-[#2c2f33] bg-[#2B2D31]",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"h-10 w-10 bg-[#7289da] rounded-full flex items-center justify-center",children:m.jsx(ds,{className:"h-5 w-5 text-white"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("p",{className:"text-sm font-medium text-[#ffffff]",children:"Skill Exchange"}),m.jsx("p",{className:"text-xs text-[#b9bbbe]",children:"Connect & Learn"})]})]})})]})]})},F3=()=>{const t=yn(e=>e.ui?.sidebar?.isOpen??!1);return m.jsxs("div",{className:"flex h-screen bg-[#313338]",children:[m.jsx(O3,{isOpen:t}),m.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:m.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-[#313338] pt-20 sm:pt-24 discord-scrollbar",children:m.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6",children:m.jsx(IC,{})})})})]})};var B3=Object.create,oo=Object.defineProperty,V3=Object.getOwnPropertyDescriptor,$3=Object.getOwnPropertyNames,U3=Object.getPrototypeOf,z3=Object.prototype.hasOwnProperty,q3=(t,e,n)=>e in t?oo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>oo(t,"name",{value:e,configurable:!0}),vn=(t,e)=>()=>(t&&(e=t(t=0)),e),Ue=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),sr=(t,e)=>{for(var n in e)oo(t,n,{get:e[n],enumerable:!0})},n1=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $3(e))!z3.call(t,o)&&o!==n&&oo(t,o,{get:()=>e[o],enumerable:!(s=V3(e,o))||s.enumerable});return t},ai=(t,e,n)=>(n=t!=null?B3(U3(t)):{},n1(e||!t||!t.__esModule?oo(n,"default",{value:t,enumerable:!0}):n,t)),Vt=t=>n1(oo({},"__esModule",{value:!0}),t),Fe=(t,e,n)=>q3(t,typeof e!="symbol"?e+"":e,n),Q3=Ue(t=>{Te(),t.byteLength=f,t.toByteArray=h,t.fromByteArray=P;var e=[],n=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,l=o.length;a<l;++a)e[a]=o[a],n[o.charCodeAt(a)]=a;var a,l;n[45]=62,n[95]=63;function c(b){var x=b.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=b.indexOf("=");C===-1&&(C=x);var E=C===x?0:4-C%4;return[C,E]}_(c,"getLens");function f(b){var x=c(b),C=x[0],E=x[1];return(C+E)*3/4-E}_(f,"byteLength");function p(b,x,C){return(x+C)*3/4-C}_(p,"_byteLength");function h(b){var x,C=c(b),E=C[0],j=C[1],k=new s(p(b,E,j)),M=0,R=j>0?E-4:E,L;for(L=0;L<R;L+=4)x=n[b.charCodeAt(L)]<<18|n[b.charCodeAt(L+1)]<<12|n[b.charCodeAt(L+2)]<<6|n[b.charCodeAt(L+3)],k[M++]=x>>16&255,k[M++]=x>>8&255,k[M++]=x&255;return j===2&&(x=n[b.charCodeAt(L)]<<2|n[b.charCodeAt(L+1)]>>4,k[M++]=x&255),j===1&&(x=n[b.charCodeAt(L)]<<10|n[b.charCodeAt(L+1)]<<4|n[b.charCodeAt(L+2)]>>2,k[M++]=x>>8&255,k[M++]=x&255),k}_(h,"toByteArray");function g(b){return e[b>>18&63]+e[b>>12&63]+e[b>>6&63]+e[b&63]}_(g,"tripletToBase64");function y(b,x,C){for(var E,j=[],k=x;k<C;k+=3)E=(b[k]<<16&16711680)+(b[k+1]<<8&65280)+(b[k+2]&255),j.push(g(E));return j.join("")}_(y,"encodeChunk");function P(b){for(var x,C=b.length,E=C%3,j=[],k=16383,M=0,R=C-E;M<R;M+=k)j.push(y(b,M,M+k>R?R:M+k));return E===1?(x=b[C-1],j.push(e[x>>2]+e[x<<4&63]+"==")):E===2&&(x=(b[C-2]<<8)+b[C-1],j.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),j.join("")}_(P,"fromByteArray")}),W3=Ue(t=>{Te(),t.read=function(e,n,s,o,a){var l,c,f=a*8-o-1,p=(1<<f)-1,h=p>>1,g=-7,y=s?a-1:0,P=s?-1:1,b=e[n+y];for(y+=P,l=b&(1<<-g)-1,b>>=-g,g+=f;g>0;l=l*256+e[n+y],y+=P,g-=8);for(c=l&(1<<-g)-1,l>>=-g,g+=o;g>0;c=c*256+e[n+y],y+=P,g-=8);if(l===0)l=1-h;else{if(l===p)return c?NaN:(b?-1:1)*(1/0);c=c+Math.pow(2,o),l=l-h}return(b?-1:1)*c*Math.pow(2,l-o)},t.write=function(e,n,s,o,a,l){var c,f,p,h=l*8-a-1,g=(1<<h)-1,y=g>>1,P=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=o?0:l-1,x=o?1:-1,C=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,c=g):(c=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+y>=1?n+=P/p:n+=P*Math.pow(2,1-y),n*p>=2&&(c++,p/=2),c+y>=g?(f=0,c=g):c+y>=1?(f=(n*p-1)*Math.pow(2,a),c=c+y):(f=n*Math.pow(2,y-1)*Math.pow(2,a),c=0));a>=8;e[s+b]=f&255,b+=x,f/=256,a-=8);for(c=c<<a|f,h+=a;h>0;e[s+b]=c&255,b+=x,c/=256,h-=8);e[s+b-x]|=C*128}}),H3=Ue(t=>{Te();var e=Q3(),n=W3(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=j,t.INSPECT_MAX_BYTES=50;var o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let w=new Uint8Array(1),N={foo:_(function(){return 42},"foo")};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(w,N),w.foo()===42}catch{return!1}}_(a,"typedArraySupport"),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:_(function(){if(c.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:_(function(){if(c.isBuffer(this))return this.byteOffset},"get")});function l(w){if(w>o)throw new RangeError('The value "'+w+'" is invalid for option "size"');let N=new Uint8Array(w);return Object.setPrototypeOf(N,c.prototype),N}_(l,"createBuffer");function c(w,N,T){if(typeof w=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(w)}return f(w,N,T)}_(c,"Buffer"),c.poolSize=8192;function f(w,N,T){if(typeof w=="string")return y(w,N);if(ArrayBuffer.isView(w))return b(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(ne(w,ArrayBuffer)||w&&ne(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(w,SharedArrayBuffer)||w&&ne(w.buffer,SharedArrayBuffer)))return x(w,N,T);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let U=w.valueOf&&w.valueOf();if(U!=null&&U!==w)return c.from(U,N,T);let K=C(w);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return c.from(w[Symbol.toPrimitive]("string"),N,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}_(f,"from"),c.from=function(w,N,T){return f(w,N,T)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function p(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}_(p,"assertSize");function h(w,N,T){return p(w),w<=0?l(w):N!==void 0?typeof T=="string"?l(w).fill(N,T):l(w).fill(N):l(w)}_(h,"alloc"),c.alloc=function(w,N,T){return h(w,N,T)};function g(w){return p(w),l(w<0?0:E(w)|0)}_(g,"allocUnsafe"),c.allocUnsafe=function(w){return g(w)},c.allocUnsafeSlow=function(w){return g(w)};function y(w,N){if((typeof N!="string"||N==="")&&(N="utf8"),!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N);let T=k(w,N)|0,U=l(T),K=U.write(w,N);return K!==T&&(U=U.slice(0,K)),U}_(y,"fromString");function P(w){let N=w.length<0?0:E(w.length)|0,T=l(N);for(let U=0;U<N;U+=1)T[U]=w[U]&255;return T}_(P,"fromArrayLike");function b(w){if(ne(w,Uint8Array)){let N=new Uint8Array(w);return x(N.buffer,N.byteOffset,N.byteLength)}return P(w)}_(b,"fromArrayView");function x(w,N,T){if(N<0||w.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<N+(T||0))throw new RangeError('"length" is outside of buffer bounds');let U;return N===void 0&&T===void 0?U=new Uint8Array(w):T===void 0?U=new Uint8Array(w,N):U=new Uint8Array(w,N,T),Object.setPrototypeOf(U,c.prototype),U}_(x,"fromArrayBuffer");function C(w){if(c.isBuffer(w)){let N=E(w.length)|0,T=l(N);return T.length===0||w.copy(T,0,0,N),T}if(w.length!==void 0)return typeof w.length!="number"||be(w.length)?l(0):P(w);if(w.type==="Buffer"&&Array.isArray(w.data))return P(w.data)}_(C,"fromObject");function E(w){if(w>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return w|0}_(E,"checked");function j(w){return+w!=w&&(w=0),c.alloc(+w)}_(j,"SlowBuffer"),c.isBuffer=_(function(w){return w!=null&&w._isBuffer===!0&&w!==c.prototype},"isBuffer"),c.compare=_(function(w,N){if(ne(w,Uint8Array)&&(w=c.from(w,w.offset,w.byteLength)),ne(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(w)||!c.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===N)return 0;let T=w.length,U=N.length;for(let K=0,ie=Math.min(T,U);K<ie;++K)if(w[K]!==N[K]){T=w[K],U=N[K];break}return T<U?-1:U<T?1:0},"compare"),c.isEncoding=_(function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),c.concat=_(function(w,N){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return c.alloc(0);let T;if(N===void 0)for(N=0,T=0;T<w.length;++T)N+=w[T].length;let U=c.allocUnsafe(N),K=0;for(T=0;T<w.length;++T){let ie=w[T];if(ne(ie,Uint8Array))K+ie.length>U.length?(c.isBuffer(ie)||(ie=c.from(ie)),ie.copy(U,K)):Uint8Array.prototype.set.call(U,ie,K);else if(c.isBuffer(ie))ie.copy(U,K);else throw new TypeError('"list" argument must be an Array of Buffers');K+=ie.length}return U},"concat");function k(w,N){if(c.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||ne(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);let T=w.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&T===0)return 0;let K=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return ir(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return $(w).length;default:if(K)return U?-1:ir(w).length;N=(""+N).toLowerCase(),K=!0}}_(k,"byteLength"),c.byteLength=k;function M(w,N,T){let U=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,N>>>=0,T<=N))return"";for(w||(w="utf8");;)switch(w){case"hex":return ue(this,N,T);case"utf8":case"utf-8":return G(this,N,T);case"ascii":return de(this,N,T);case"latin1":case"binary":return se(this,N,T);case"base64":return re(this,N,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,N,T);default:if(U)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),U=!0}}_(M,"slowToString"),c.prototype._isBuffer=!0;function R(w,N,T){let U=w[N];w[N]=w[T],w[T]=U}_(R,"swap"),c.prototype.swap16=_(function(){let w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<w;N+=2)R(this,N,N+1);return this},"swap16"),c.prototype.swap32=_(function(){let w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<w;N+=4)R(this,N,N+3),R(this,N+1,N+2);return this},"swap32"),c.prototype.swap64=_(function(){let w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<w;N+=8)R(this,N,N+7),R(this,N+1,N+6),R(this,N+2,N+5),R(this,N+3,N+4);return this},"swap64"),c.prototype.toString=_(function(){let w=this.length;return w===0?"":arguments.length===0?G(this,0,w):M.apply(this,arguments)},"toString"),c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=_(function(w){if(!c.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:c.compare(this,w)===0},"equals"),c.prototype.inspect=_(function(){let w="",N=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(w+=" ... "),"<Buffer "+w+">"},"inspect"),s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=_(function(w,N,T,U,K){if(ne(w,Uint8Array)&&(w=c.from(w,w.offset,w.byteLength)),!c.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(N===void 0&&(N=0),T===void 0&&(T=w?w.length:0),U===void 0&&(U=0),K===void 0&&(K=this.length),N<0||T>w.length||U<0||K>this.length)throw new RangeError("out of range index");if(U>=K&&N>=T)return 0;if(U>=K)return-1;if(N>=T)return 1;if(N>>>=0,T>>>=0,U>>>=0,K>>>=0,this===w)return 0;let ie=K-U,me=T-N,Ye=Math.min(ie,me),yt=this.slice(U,K),et=w.slice(N,T);for(let Xe=0;Xe<Ye;++Xe)if(yt[Xe]!==et[Xe]){ie=yt[Xe],me=et[Xe];break}return ie<me?-1:me<ie?1:0},"compare");function L(w,N,T,U,K){if(w.length===0)return-1;if(typeof T=="string"?(U=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,be(T)&&(T=K?0:w.length-1),T<0&&(T=w.length+T),T>=w.length){if(K)return-1;T=w.length-1}else if(T<0)if(K)T=0;else return-1;if(typeof N=="string"&&(N=c.from(N,U)),c.isBuffer(N))return N.length===0?-1:D(w,N,T,U,K);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(w,N,T):Uint8Array.prototype.lastIndexOf.call(w,N,T):D(w,[N],T,U,K);throw new TypeError("val must be string, number or Buffer")}_(L,"bidirectionalIndexOf");function D(w,N,T,U,K){let ie=1,me=w.length,Ye=N.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(w.length<2||N.length<2)return-1;ie=2,me/=2,Ye/=2,T/=2}function yt(Xe,it){return ie===1?Xe[it]:Xe.readUInt16BE(it*ie)}_(yt,"read");let et;if(K){let Xe=-1;for(et=T;et<me;et++)if(yt(w,et)===yt(N,Xe===-1?0:et-Xe)){if(Xe===-1&&(Xe=et),et-Xe+1===Ye)return Xe*ie}else Xe!==-1&&(et-=et-Xe),Xe=-1}else for(T+Ye>me&&(T=me-Ye),et=T;et>=0;et--){let Xe=!0;for(let it=0;it<Ye;it++)if(yt(w,et+it)!==yt(N,it)){Xe=!1;break}if(Xe)return et}return-1}_(D,"arrayIndexOf"),c.prototype.includes=_(function(w,N,T){return this.indexOf(w,N,T)!==-1},"includes"),c.prototype.indexOf=_(function(w,N,T){return L(this,w,N,T,!0)},"indexOf"),c.prototype.lastIndexOf=_(function(w,N,T){return L(this,w,N,T,!1)},"lastIndexOf");function O(w,N,T,U){T=Number(T)||0;let K=w.length-T;U?(U=Number(U),U>K&&(U=K)):U=K;let ie=N.length;U>ie/2&&(U=ie/2);let me;for(me=0;me<U;++me){let Ye=parseInt(N.substr(me*2,2),16);if(be(Ye))return me;w[T+me]=Ye}return me}_(O,"hexWrite");function I(w,N,T,U){return J(ir(N,w.length-T),w,T,U)}_(I,"utf8Write");function H(w,N,T,U){return J(fi(N),w,T,U)}_(H,"asciiWrite");function B(w,N,T,U){return J($(N),w,T,U)}_(B,"base64Write");function Z(w,N,T,U){return J(br(N,w.length-T),w,T,U)}_(Z,"ucs2Write"),c.prototype.write=_(function(w,N,T,U){if(N===void 0)U="utf8",T=this.length,N=0;else if(T===void 0&&typeof N=="string")U=N,T=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(T)?(T=T>>>0,U===void 0&&(U="utf8")):(U=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let K=this.length-N;if((T===void 0||T>K)&&(T=K),w.length>0&&(T<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let ie=!1;for(;;)switch(U){case"hex":return O(this,w,N,T);case"utf8":case"utf-8":return I(this,w,N,T);case"ascii":case"latin1":case"binary":return H(this,w,N,T);case"base64":return B(this,w,N,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,w,N,T);default:if(ie)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),ie=!0}},"write"),c.prototype.toJSON=_(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function re(w,N,T){return N===0&&T===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(N,T))}_(re,"base64Slice");function G(w,N,T){T=Math.min(w.length,T);let U=[],K=N;for(;K<T;){let ie=w[K],me=null,Ye=ie>239?4:ie>223?3:ie>191?2:1;if(K+Ye<=T){let yt,et,Xe,it;switch(Ye){case 1:ie<128&&(me=ie);break;case 2:yt=w[K+1],(yt&192)===128&&(it=(ie&31)<<6|yt&63,it>127&&(me=it));break;case 3:yt=w[K+1],et=w[K+2],(yt&192)===128&&(et&192)===128&&(it=(ie&15)<<12|(yt&63)<<6|et&63,it>2047&&(it<55296||it>57343)&&(me=it));break;case 4:yt=w[K+1],et=w[K+2],Xe=w[K+3],(yt&192)===128&&(et&192)===128&&(Xe&192)===128&&(it=(ie&15)<<18|(yt&63)<<12|(et&63)<<6|Xe&63,it>65535&&it<1114112&&(me=it))}}me===null?(me=65533,Ye=1):me>65535&&(me-=65536,U.push(me>>>10&1023|55296),me=56320|me&1023),U.push(me),K+=Ye}return xe(U)}_(G,"utf8Slice");var ae=4096;function xe(w){let N=w.length;if(N<=ae)return String.fromCharCode.apply(String,w);let T="",U=0;for(;U<N;)T+=String.fromCharCode.apply(String,w.slice(U,U+=ae));return T}_(xe,"decodeCodePointsArray");function de(w,N,T){let U="";T=Math.min(w.length,T);for(let K=N;K<T;++K)U+=String.fromCharCode(w[K]&127);return U}_(de,"asciiSlice");function se(w,N,T){let U="";T=Math.min(w.length,T);for(let K=N;K<T;++K)U+=String.fromCharCode(w[K]);return U}_(se,"latin1Slice");function ue(w,N,T){let U=w.length;(!N||N<0)&&(N=0),(!T||T<0||T>U)&&(T=U);let K="";for(let ie=N;ie<T;++ie)K+=ve[w[ie]];return K}_(ue,"hexSlice");function ye(w,N,T){let U=w.slice(N,T),K="";for(let ie=0;ie<U.length-1;ie+=2)K+=String.fromCharCode(U[ie]+U[ie+1]*256);return K}_(ye,"utf16leSlice"),c.prototype.slice=_(function(w,N){let T=this.length;w=~~w,N=N===void 0?T:~~N,w<0?(w+=T,w<0&&(w=0)):w>T&&(w=T),N<0?(N+=T,N<0&&(N=0)):N>T&&(N=T),N<w&&(N=w);let U=this.subarray(w,N);return Object.setPrototypeOf(U,c.prototype),U},"slice");function q(w,N,T){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+N>T)throw new RangeError("Trying to access beyond buffer length")}_(q,"checkOffset"),c.prototype.readUintLE=c.prototype.readUIntLE=_(function(w,N,T){w=w>>>0,N=N>>>0,T||q(w,N,this.length);let U=this[w],K=1,ie=0;for(;++ie<N&&(K*=256);)U+=this[w+ie]*K;return U},"readUIntLE"),c.prototype.readUintBE=c.prototype.readUIntBE=_(function(w,N,T){w=w>>>0,N=N>>>0,T||q(w,N,this.length);let U=this[w+--N],K=1;for(;N>0&&(K*=256);)U+=this[w+--N]*K;return U},"readUIntBE"),c.prototype.readUint8=c.prototype.readUInt8=_(function(w,N){return w=w>>>0,N||q(w,1,this.length),this[w]},"readUInt8"),c.prototype.readUint16LE=c.prototype.readUInt16LE=_(function(w,N){return w=w>>>0,N||q(w,2,this.length),this[w]|this[w+1]<<8},"readUInt16LE"),c.prototype.readUint16BE=c.prototype.readUInt16BE=_(function(w,N){return w=w>>>0,N||q(w,2,this.length),this[w]<<8|this[w+1]},"readUInt16BE"),c.prototype.readUint32LE=c.prototype.readUInt32LE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},"readUInt32LE"),c.prototype.readUint32BE=c.prototype.readUInt32BE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},"readUInt32BE"),c.prototype.readBigUInt64LE=he(_(function(w){w=w>>>0,an(w,"offset");let N=this[w],T=this[w+7];(N===void 0||T===void 0)&&bn(w,this.length-8);let U=N+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,K=this[++w]+this[++w]*2**8+this[++w]*2**16+T*2**24;return BigInt(U)+(BigInt(K)<<BigInt(32))},"readBigUInt64LE")),c.prototype.readBigUInt64BE=he(_(function(w){w=w>>>0,an(w,"offset");let N=this[w],T=this[w+7];(N===void 0||T===void 0)&&bn(w,this.length-8);let U=N*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],K=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+T;return(BigInt(U)<<BigInt(32))+BigInt(K)},"readBigUInt64BE")),c.prototype.readIntLE=_(function(w,N,T){w=w>>>0,N=N>>>0,T||q(w,N,this.length);let U=this[w],K=1,ie=0;for(;++ie<N&&(K*=256);)U+=this[w+ie]*K;return K*=128,U>=K&&(U-=Math.pow(2,8*N)),U},"readIntLE"),c.prototype.readIntBE=_(function(w,N,T){w=w>>>0,N=N>>>0,T||q(w,N,this.length);let U=N,K=1,ie=this[w+--U];for(;U>0&&(K*=256);)ie+=this[w+--U]*K;return K*=128,ie>=K&&(ie-=Math.pow(2,8*N)),ie},"readIntBE"),c.prototype.readInt8=_(function(w,N){return w=w>>>0,N||q(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},"readInt8"),c.prototype.readInt16LE=_(function(w,N){w=w>>>0,N||q(w,2,this.length);let T=this[w]|this[w+1]<<8;return T&32768?T|4294901760:T},"readInt16LE"),c.prototype.readInt16BE=_(function(w,N){w=w>>>0,N||q(w,2,this.length);let T=this[w+1]|this[w]<<8;return T&32768?T|4294901760:T},"readInt16BE"),c.prototype.readInt32LE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},"readInt32LE"),c.prototype.readInt32BE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},"readInt32BE"),c.prototype.readBigInt64LE=he(_(function(w){w=w>>>0,an(w,"offset");let N=this[w],T=this[w+7];(N===void 0||T===void 0)&&bn(w,this.length-8);let U=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(T<<24);return(BigInt(U)<<BigInt(32))+BigInt(N+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)},"readBigInt64LE")),c.prototype.readBigInt64BE=he(_(function(w){w=w>>>0,an(w,"offset");let N=this[w],T=this[w+7];(N===void 0||T===void 0)&&bn(w,this.length-8);let U=(N<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(U)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+T)},"readBigInt64BE")),c.prototype.readFloatLE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),n.read(this,w,!0,23,4)},"readFloatLE"),c.prototype.readFloatBE=_(function(w,N){return w=w>>>0,N||q(w,4,this.length),n.read(this,w,!1,23,4)},"readFloatBE"),c.prototype.readDoubleLE=_(function(w,N){return w=w>>>0,N||q(w,8,this.length),n.read(this,w,!0,52,8)},"readDoubleLE"),c.prototype.readDoubleBE=_(function(w,N){return w=w>>>0,N||q(w,8,this.length),n.read(this,w,!1,52,8)},"readDoubleBE");function oe(w,N,T,U,K,ie){if(!c.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>K||N<ie)throw new RangeError('"value" argument is out of bounds');if(T+U>w.length)throw new RangeError("Index out of range")}_(oe,"checkInt"),c.prototype.writeUintLE=c.prototype.writeUIntLE=_(function(w,N,T,U){if(w=+w,N=N>>>0,T=T>>>0,!U){let me=Math.pow(2,8*T)-1;oe(this,w,N,T,me,0)}let K=1,ie=0;for(this[N]=w&255;++ie<T&&(K*=256);)this[N+ie]=w/K&255;return N+T},"writeUIntLE"),c.prototype.writeUintBE=c.prototype.writeUIntBE=_(function(w,N,T,U){if(w=+w,N=N>>>0,T=T>>>0,!U){let me=Math.pow(2,8*T)-1;oe(this,w,N,T,me,0)}let K=T-1,ie=1;for(this[N+K]=w&255;--K>=0&&(ie*=256);)this[N+K]=w/ie&255;return N+T},"writeUIntBE"),c.prototype.writeUint8=c.prototype.writeUInt8=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,1,255,0),this[N]=w&255,N+1},"writeUInt8"),c.prototype.writeUint16LE=c.prototype.writeUInt16LE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,2,65535,0),this[N]=w&255,this[N+1]=w>>>8,N+2},"writeUInt16LE"),c.prototype.writeUint16BE=c.prototype.writeUInt16BE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,2,65535,0),this[N]=w>>>8,this[N+1]=w&255,N+2},"writeUInt16BE"),c.prototype.writeUint32LE=c.prototype.writeUInt32LE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,4,4294967295,0),this[N+3]=w>>>24,this[N+2]=w>>>16,this[N+1]=w>>>8,this[N]=w&255,N+4},"writeUInt32LE"),c.prototype.writeUint32BE=c.prototype.writeUInt32BE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,4,4294967295,0),this[N]=w>>>24,this[N+1]=w>>>16,this[N+2]=w>>>8,this[N+3]=w&255,N+4},"writeUInt32BE");function De(w,N,T,U,K){vr(N,U,K,w,T,7);let ie=Number(N&BigInt(4294967295));w[T++]=ie,ie=ie>>8,w[T++]=ie,ie=ie>>8,w[T++]=ie,ie=ie>>8,w[T++]=ie;let me=Number(N>>BigInt(32)&BigInt(4294967295));return w[T++]=me,me=me>>8,w[T++]=me,me=me>>8,w[T++]=me,me=me>>8,w[T++]=me,T}_(De,"wrtBigUInt64LE");function Ve(w,N,T,U,K){vr(N,U,K,w,T,7);let ie=Number(N&BigInt(4294967295));w[T+7]=ie,ie=ie>>8,w[T+6]=ie,ie=ie>>8,w[T+5]=ie,ie=ie>>8,w[T+4]=ie;let me=Number(N>>BigInt(32)&BigInt(4294967295));return w[T+3]=me,me=me>>8,w[T+2]=me,me=me>>8,w[T+1]=me,me=me>>8,w[T]=me,T+8}_(Ve,"wrtBigUInt64BE"),c.prototype.writeBigUInt64LE=he(_(function(w,N=0){return De(this,w,N,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),c.prototype.writeBigUInt64BE=he(_(function(w,N=0){return Ve(this,w,N,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),c.prototype.writeIntLE=_(function(w,N,T,U){if(w=+w,N=N>>>0,!U){let Ye=Math.pow(2,8*T-1);oe(this,w,N,T,Ye-1,-Ye)}let K=0,ie=1,me=0;for(this[N]=w&255;++K<T&&(ie*=256);)w<0&&me===0&&this[N+K-1]!==0&&(me=1),this[N+K]=(w/ie>>0)-me&255;return N+T},"writeIntLE"),c.prototype.writeIntBE=_(function(w,N,T,U){if(w=+w,N=N>>>0,!U){let Ye=Math.pow(2,8*T-1);oe(this,w,N,T,Ye-1,-Ye)}let K=T-1,ie=1,me=0;for(this[N+K]=w&255;--K>=0&&(ie*=256);)w<0&&me===0&&this[N+K+1]!==0&&(me=1),this[N+K]=(w/ie>>0)-me&255;return N+T},"writeIntBE"),c.prototype.writeInt8=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,1,127,-128),w<0&&(w=255+w+1),this[N]=w&255,N+1},"writeInt8"),c.prototype.writeInt16LE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,2,32767,-32768),this[N]=w&255,this[N+1]=w>>>8,N+2},"writeInt16LE"),c.prototype.writeInt16BE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,2,32767,-32768),this[N]=w>>>8,this[N+1]=w&255,N+2},"writeInt16BE"),c.prototype.writeInt32LE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,4,2147483647,-2147483648),this[N]=w&255,this[N+1]=w>>>8,this[N+2]=w>>>16,this[N+3]=w>>>24,N+4},"writeInt32LE"),c.prototype.writeInt32BE=_(function(w,N,T){return w=+w,N=N>>>0,T||oe(this,w,N,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[N]=w>>>24,this[N+1]=w>>>16,this[N+2]=w>>>8,this[N+3]=w&255,N+4},"writeInt32BE"),c.prototype.writeBigInt64LE=he(_(function(w,N=0){return De(this,w,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),c.prototype.writeBigInt64BE=he(_(function(w,N=0){return Ve(this,w,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ze(w,N,T,U,K,ie){if(T+U>w.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}_(ze,"checkIEEE754");function Qe(w,N,T,U,K){return N=+N,T=T>>>0,K||ze(w,N,T,4),n.write(w,N,T,U,23,4),T+4}_(Qe,"writeFloat"),c.prototype.writeFloatLE=_(function(w,N,T){return Qe(this,w,N,!0,T)},"writeFloatLE"),c.prototype.writeFloatBE=_(function(w,N,T){return Qe(this,w,N,!1,T)},"writeFloatBE");function Ke(w,N,T,U,K){return N=+N,T=T>>>0,K||ze(w,N,T,8),n.write(w,N,T,U,52,8),T+8}_(Ke,"writeDouble"),c.prototype.writeDoubleLE=_(function(w,N,T){return Ke(this,w,N,!0,T)},"writeDoubleLE"),c.prototype.writeDoubleBE=_(function(w,N,T){return Ke(this,w,N,!1,T)},"writeDoubleBE"),c.prototype.copy=_(function(w,N,T,U){if(!c.isBuffer(w))throw new TypeError("argument should be a Buffer");if(T||(T=0),!U&&U!==0&&(U=this.length),N>=w.length&&(N=w.length),N||(N=0),U>0&&U<T&&(U=T),U===T||w.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),w.length-N<U-T&&(U=w.length-N+T);let K=U-T;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,T,U):Uint8Array.prototype.set.call(w,this.subarray(T,U),N),K},"copy"),c.prototype.fill=_(function(w,N,T,U){if(typeof w=="string"){if(typeof N=="string"?(U=N,N=0,T=this.length):typeof T=="string"&&(U=T,T=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!c.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(w.length===1){let ie=w.charCodeAt(0);(U==="utf8"&&ie<128||U==="latin1")&&(w=ie)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(N<0||this.length<N||this.length<T)throw new RangeError("Out of range index");if(T<=N)return this;N=N>>>0,T=T===void 0?this.length:T>>>0,w||(w=0);let K;if(typeof w=="number")for(K=N;K<T;++K)this[K]=w;else{let ie=c.isBuffer(w)?w:c.from(w,U),me=ie.length;if(me===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(K=0;K<T-N;++K)this[K+N]=ie[K%me]}return this},"fill");var qe={};function Ge(w,N,T){var U;qe[w]=(U=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}},_(U,"NodeError"),U)}_(Ge,"E"),Ge("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ge("ERR_INVALID_ARG_TYPE",function(w,N){return`The "${w}" argument must be of type number. Received type ${typeof N}`},TypeError),Ge("ERR_OUT_OF_RANGE",function(w,N,T){let U=`The value of "${w}" is out of range.`,K=T;return Number.isInteger(T)&&Math.abs(T)>2**32?K=bt(String(T)):typeof T=="bigint"&&(K=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(K=bt(K)),K+="n"),U+=` It must be ${N}. Received ${K}`,U},RangeError);function bt(w){let N="",T=w.length,U=w[0]==="-"?1:0;for(;T>=U+4;T-=3)N=`_${w.slice(T-3,T)}${N}`;return`${w.slice(0,T)}${N}`}_(bt,"addNumericalSeparator");function xr(w,N,T){an(N,"offset"),(w[N]===void 0||w[N+T]===void 0)&&bn(N,w.length-(T+1))}_(xr,"checkBounds");function vr(w,N,T,U,K,ie){if(w>T||w<N){let me=typeof N=="bigint"?"n":"",Ye;throw ie>3?N===0||N===BigInt(0)?Ye=`>= 0${me} and < 2${me} ** ${(ie+1)*8}${me}`:Ye=`>= -(2${me} ** ${(ie+1)*8-1}${me}) and < 2 ** ${(ie+1)*8-1}${me}`:Ye=`>= ${N}${me} and <= ${T}${me}`,new qe.ERR_OUT_OF_RANGE("value",Ye,w)}xr(U,K,ie)}_(vr,"checkIntBI");function an(w,N){if(typeof w!="number")throw new qe.ERR_INVALID_ARG_TYPE(N,"number",w)}_(an,"validateNumber");function bn(w,N,T){throw Math.floor(w)!==w?(an(w,T),new qe.ERR_OUT_OF_RANGE(T||"offset","an integer",w)):N<0?new qe.ERR_BUFFER_OUT_OF_BOUNDS:new qe.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${N}`,w)}_(bn,"boundsError");var Ts=/[^+/0-9A-Za-z-_]/g;function As(w){if(w=w.split("=")[0],w=w.trim().replace(Ts,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}_(As,"base64clean");function ir(w,N){N=N||1/0;let T,U=w.length,K=null,ie=[];for(let me=0;me<U;++me){if(T=w.charCodeAt(me),T>55295&&T<57344){if(!K){if(T>56319){(N-=3)>-1&&ie.push(239,191,189);continue}else if(me+1===U){(N-=3)>-1&&ie.push(239,191,189);continue}K=T;continue}if(T<56320){(N-=3)>-1&&ie.push(239,191,189),K=T;continue}T=(K-55296<<10|T-56320)+65536}else K&&(N-=3)>-1&&ie.push(239,191,189);if(K=null,T<128){if((N-=1)<0)break;ie.push(T)}else if(T<2048){if((N-=2)<0)break;ie.push(T>>6|192,T&63|128)}else if(T<65536){if((N-=3)<0)break;ie.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((N-=4)<0)break;ie.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return ie}_(ir,"utf8ToBytes");function fi(w){let N=[];for(let T=0;T<w.length;++T)N.push(w.charCodeAt(T)&255);return N}_(fi,"asciiToBytes");function br(w,N){let T,U,K,ie=[];for(let me=0;me<w.length&&!((N-=2)<0);++me)T=w.charCodeAt(me),U=T>>8,K=T%256,ie.push(K),ie.push(U);return ie}_(br,"utf16leToBytes");function $(w){return e.toByteArray(As(w))}_($,"base64ToBytes");function J(w,N,T,U){let K;for(K=0;K<U&&!(K+T>=N.length||K>=w.length);++K)N[K+T]=w[K];return K}_(J,"blitBuffer");function ne(w,N){return w instanceof N||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===N.name}_(ne,"isInstance");function be(w){return w!==w}_(be,"numberIsNaN");var ve=function(){let w="0123456789abcdef",N=new Array(256);for(let T=0;T<16;++T){let U=T*16;for(let K=0;K<16;++K)N[U+K]=w[T]+w[K]}return N}();function he(w){return typeof BigInt>"u"?je:w}_(he,"defineBigIntMethod");function je(){throw new Error("BigInt not supported")}_(je,"BufferBigIntNotDefined")}),Yu,Kh,Me,$e,Te=vn(()=>{Yu=globalThis,Kh=globalThis.setImmediate??(t=>setTimeout(t,0)),Me=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:H3().Buffer,$e=globalThis.process??{},$e.env??($e.env={});try{$e.nextTick(()=>{})}catch{let t=Promise.resolve();$e.nextTick=t.then.bind(t)}}),li=Ue((t,e)=>{Te();var n=typeof Reflect=="object"?Reflect:null,s=n&&typeof n.apply=="function"?n.apply:_(function(L,D,O){return Function.prototype.apply.call(L,D,O)},"ReflectApply"),o;n&&typeof n.ownKeys=="function"?o=n.ownKeys:Object.getOwnPropertySymbols?o=_(function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))},"ReflectOwnKeys"):o=_(function(L){return Object.getOwnPropertyNames(L)},"ReflectOwnKeys");function a(L){console&&console.warn&&console.warn(L)}_(a,"ProcessEmitWarning");var l=Number.isNaN||_(function(L){return L!==L},"NumberIsNaN");function c(){c.init.call(this)}_(c,"EventEmitter"),e.exports=c,e.exports.once=k,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var f=10;function p(L){if(typeof L!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}_(p,"checkListener"),Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:_(function(){return f},"get"),set:_(function(L){if(typeof L!="number"||L<0||l(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");f=L},"set")}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=_(function(L){if(typeof L!="number"||L<0||l(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},"setMaxListeners");function h(L){return L._maxListeners===void 0?c.defaultMaxListeners:L._maxListeners}_(h,"_getMaxListeners"),c.prototype.getMaxListeners=_(function(){return h(this)},"getMaxListeners"),c.prototype.emit=_(function(L){for(var D=[],O=1;O<arguments.length;O++)D.push(arguments[O]);var I=L==="error",H=this._events;if(H!==void 0)I=I&&H.error===void 0;else if(!I)return!1;if(I){var B;if(D.length>0&&(B=D[0]),B instanceof Error)throw B;var Z=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw Z.context=B,Z}var re=H[L];if(re===void 0)return!1;if(typeof re=="function")s(re,this,D);else for(var G=re.length,ae=C(re,G),O=0;O<G;++O)s(ae[O],this,D);return!0},"emit");function g(L,D,O,I){var H,B,Z;if(p(O),B=L._events,B===void 0?(B=L._events=Object.create(null),L._eventsCount=0):(B.newListener!==void 0&&(L.emit("newListener",D,O.listener?O.listener:O),B=L._events),Z=B[D]),Z===void 0)Z=B[D]=O,++L._eventsCount;else if(typeof Z=="function"?Z=B[D]=I?[O,Z]:[Z,O]:I?Z.unshift(O):Z.push(O),H=h(L),H>0&&Z.length>H&&!Z.warned){Z.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=L,re.type=D,re.count=Z.length,a(re)}return L}_(g,"_addListener"),c.prototype.addListener=_(function(L,D){return g(this,L,D,!1)},"addListener"),c.prototype.on=c.prototype.addListener,c.prototype.prependListener=_(function(L,D){return g(this,L,D,!0)},"prependListener");function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}_(y,"onceWrapper");function P(L,D,O){var I={fired:!1,wrapFn:void 0,target:L,type:D,listener:O},H=y.bind(I);return H.listener=O,I.wrapFn=H,H}_(P,"_onceWrap"),c.prototype.once=_(function(L,D){return p(D),this.on(L,P(this,L,D)),this},"once"),c.prototype.prependOnceListener=_(function(L,D){return p(D),this.prependListener(L,P(this,L,D)),this},"prependOnceListener"),c.prototype.removeListener=_(function(L,D){var O,I,H,B,Z;if(p(D),I=this._events,I===void 0)return this;if(O=I[L],O===void 0)return this;if(O===D||O.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete I[L],I.removeListener&&this.emit("removeListener",L,O.listener||D));else if(typeof O!="function"){for(H=-1,B=O.length-1;B>=0;B--)if(O[B]===D||O[B].listener===D){Z=O[B].listener,H=B;break}if(H<0)return this;H===0?O.shift():E(O,H),O.length===1&&(I[L]=O[0]),I.removeListener!==void 0&&this.emit("removeListener",L,Z||D)}return this},"removeListener"),c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=_(function(L){var D,O,I;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[L]),this;if(arguments.length===0){var H=Object.keys(O),B;for(I=0;I<H.length;++I)B=H[I],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=O[L],typeof D=="function")this.removeListener(L,D);else if(D!==void 0)for(I=D.length-1;I>=0;I--)this.removeListener(L,D[I]);return this},"removeAllListeners");function b(L,D,O){var I=L._events;if(I===void 0)return[];var H=I[D];return H===void 0?[]:typeof H=="function"?O?[H.listener||H]:[H]:O?j(H):C(H,H.length)}_(b,"_listeners"),c.prototype.listeners=_(function(L){return b(this,L,!0)},"listeners"),c.prototype.rawListeners=_(function(L){return b(this,L,!1)},"rawListeners"),c.listenerCount=function(L,D){return typeof L.listenerCount=="function"?L.listenerCount(D):x.call(L,D)},c.prototype.listenerCount=x;function x(L){var D=this._events;if(D!==void 0){var O=D[L];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}_(x,"listenerCount"),c.prototype.eventNames=_(function(){return this._eventsCount>0?o(this._events):[]},"eventNames");function C(L,D){for(var O=new Array(D),I=0;I<D;++I)O[I]=L[I];return O}_(C,"arrayClone");function E(L,D){for(;D+1<L.length;D++)L[D]=L[D+1];L.pop()}_(E,"spliceOne");function j(L){for(var D=new Array(L.length),O=0;O<D.length;++O)D[O]=L[O].listener||L[O];return D}_(j,"unwrapListeners");function k(L,D){return new Promise(function(O,I){function H(Z){L.removeListener(D,B),I(Z)}_(H,"errorListener");function B(){typeof L.removeListener=="function"&&L.removeListener("error",H),O([].slice.call(arguments))}_(B,"resolver"),R(L,D,B,{once:!0}),D!=="error"&&M(L,H,{once:!0})})}_(k,"once");function M(L,D,O){typeof L.on=="function"&&R(L,"error",D,O)}_(M,"addErrorHandlerIfEventEmitter");function R(L,D,O,I){if(typeof L.on=="function")I.once?L.once(D,O):L.on(D,O);else if(typeof L.addEventListener=="function")L.addEventListener(D,_(function H(B){I.once&&L.removeEventListener(D,H),O(B)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L)}_(R,"eventTargetAgnosticAddListener")}),r1={};sr(r1,{Socket:()=>ba,isIP:()=>s1});function s1(t){return 0}var jy,yd,Go,ba,Ra=vn(()=>{Te(),jy=ai(li(),1),_(s1,"isIP"),yd=/^[^.]+\./,Go=class _e extends jy.EventEmitter{constructor(){super(...arguments),Fe(this,"opts",{}),Fe(this,"connecting",!1),Fe(this,"pending",!0),Fe(this,"writable",!0),Fe(this,"encrypted",!1),Fe(this,"authorized",!1),Fe(this,"destroyed",!1),Fe(this,"ws",null),Fe(this,"writeBuffer"),Fe(this,"tlsState",0),Fe(this,"tlsRead"),Fe(this,"tlsWrite")}static get poolQueryViaFetch(){return _e.opts.poolQueryViaFetch??_e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){_e.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return _e.opts.fetchEndpoint??_e.defaults.fetchEndpoint}static set fetchEndpoint(e){_e.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return _e.opts.fetchFunction??_e.defaults.fetchFunction}static set fetchFunction(e){_e.opts.fetchFunction=e}static get webSocketConstructor(){return _e.opts.webSocketConstructor??_e.defaults.webSocketConstructor}static set webSocketConstructor(e){_e.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??_e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return _e.opts.wsProxy??_e.defaults.wsProxy}static set wsProxy(e){_e.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??_e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return _e.opts.coalesceWrites??_e.defaults.coalesceWrites}static set coalesceWrites(e){_e.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??_e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return _e.opts.useSecureWebSocket??_e.defaults.useSecureWebSocket}static set useSecureWebSocket(e){_e.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??_e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return _e.opts.forceDisablePgSSL??_e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){_e.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??_e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return _e.opts.disableSNI??_e.defaults.disableSNI}static set disableSNI(e){_e.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??_e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get disableWarningInBrowsers(){return _e.opts.disableWarningInBrowsers??_e.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(e){_e.opts.disableWarningInBrowsers=e}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??_e.disableWarningInBrowsers}set disableWarningInBrowsers(e){this.opts.disableWarningInBrowsers=e}static get pipelineConnect(){return _e.opts.pipelineConnect??_e.defaults.pipelineConnect}static set pipelineConnect(e){_e.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??_e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return _e.opts.subtls??_e.defaults.subtls}static set subtls(e){_e.opts.subtls=e}get subtls(){return this.opts.subtls??_e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return _e.opts.pipelineTLS??_e.defaults.pipelineTLS}static set pipelineTLS(e){_e.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??_e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return _e.opts.rootCerts??_e.defaults.rootCerts}static set rootCerts(e){_e.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??_e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,n){let s=this.wsProxy;if(s===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof s=="function"?s(e,n):`${s}?address=${e}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,n,s){this.connecting=!0,s&&this.once("connect",s);let o=_(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),a=_((c,f=!1)=>{c.binaryType="arraybuffer",c.addEventListener("error",p=>{this.emit("error",p),this.emit("close")}),c.addEventListener("message",p=>{if(this.tlsState===0){let h=Me.from(p.data);this.emit("data",h)}}),c.addEventListener("close",()=>{this.emit("close")}),f?o():c.addEventListener("open",o)},"configureWebSocket"),l;try{l=this.wsProxyAddrForHost(n,typeof e=="string"?parseInt(e,10):e)}catch(c){this.emit("error",c),this.emit("close");return}try{let c=(this.useSecureWebSocket?"wss:":"ws:")+"//"+l;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(c),a(this.ws);else try{this.ws=new WebSocket(c),a(this.ws)}catch{this.ws=new __unstable_WebSocket(c),a(this.ws)}}catch(c){let f=(this.useSecureWebSocket?"https:":"http:")+"//"+l;fetch(f,{headers:{Upgrade:"websocket"}}).then(p=>{if(this.ws=p.webSocket,this.ws==null)throw c;this.ws.accept(),a(this.ws,!0)}).catch(p=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${p}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),s=new this.subtls.WebSocketReadQueue(this.ws),o=s.read.bind(s),a=this.rawWrite.bind(this),{read:l,write:c}=await this.subtls.startTls(e,n,o,a,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=l,this.tlsWrite=c,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let n=Me.from(e);this.emit("data",n)}}}rawWrite(e){if(!this.coalesceWrites){this.ws&&this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+e.length);n.set(this.writeBuffer),n.set(e,this.writeBuffer.length),this.writeBuffer=n}}write(e,n="utf8",s=o=>{}){return e.length===0?(s(),!0):(typeof e=="string"&&(e=Me.from(e,n)),this.tlsState===0?(this.rawWrite(e),s()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,n,s)}):(this.tlsWrite(e),s()),!0)}end(e=Me.alloc(0),n="utf8",s=()=>{}){return this.write(e,n,()=>{this.ws.close(),s()}),this}destroy(){return this.destroyed=!0,this.end()}},_(Go,"Socket"),Fe(Go,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:_((t,e,n)=>{let s;return n?.jwtAuth?s=t.replace(yd,"apiauth."):s=t.replace(yd,"api."),"https://"+s+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:_(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Fe(Go,"opts",{}),ba=Go}),i1={};sr(i1,{parse:()=>Gh});function Gh(t,e=!1){let{protocol:n}=new URL(t),s="http:"+t.substring(n.length),{username:o,password:a,host:l,hostname:c,port:f,pathname:p,search:h,searchParams:g,hash:y}=new URL(s);a=decodeURIComponent(a),o=decodeURIComponent(o),p=decodeURIComponent(p);let P=o+":"+a,b=e?Object.fromEntries(g.entries()):h;return{href:t,protocol:n,auth:P,username:o,password:a,host:l,hostname:c,port:f,pathname:p,search:h,query:b,hash:y}}var o1=vn(()=>{Te(),_(Gh,"parse")}),a1=Ue(t=>{Te(),t.parse=function(o,a){return new n(o,a).parse()};var e=class l1{constructor(a,l){this.source=a,this.transform=l||s,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var a=this.source[this.position++];return a==="\\"?{value:this.source[this.position++],escaped:!0}:{value:a,escaped:!1}}record(a){this.recorded.push(a)}newEntry(a){var l;(this.recorded.length>0||a)&&(l=this.recorded.join(""),l==="NULL"&&!a&&(l=null),l!==null&&(l=this.transform(l)),this.entries.push(l),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var a=this.nextCharacter();if(a.value==="=")break}}parse(a){var l,c,f;for(this.consumeDimensions();!this.isEof();)if(l=this.nextCharacter(),l.value==="{"&&!f)this.dimension++,this.dimension>1&&(c=new l1(this.source.substr(this.position-1),this.transform),this.entries.push(c.parse(!0)),this.position+=c.position-2);else if(l.value==="}"&&!f){if(this.dimension--,!this.dimension&&(this.newEntry(),a))return this.entries}else l.value==='"'&&!l.escaped?(f&&this.newEntry(!0),f=!f):l.value===","&&!f?this.newEntry():this.record(l.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};_(e,"ArrayParser");var n=e;function s(o){return o}_(s,"identity")}),u1=Ue((t,e)=>{Te();var n=a1();e.exports={create:_(function(s,o){return{parse:_(function(){return n.parse(s,o)},"parse")}},"create")}}),K3=Ue((t,e)=>{Te();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,s=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,a=/^-?infinity$/;e.exports=_(function(h){if(a.test(h))return Number(h.replace("i","I"));var g=n.exec(h);if(!g)return l(h)||null;var y=!!g[8],P=parseInt(g[1],10);y&&(P=f(P));var b=parseInt(g[2],10)-1,x=g[3],C=parseInt(g[4],10),E=parseInt(g[5],10),j=parseInt(g[6],10),k=g[7];k=k?1e3*parseFloat(k):0;var M,R=c(h);return R!=null?(M=new Date(Date.UTC(P,b,x,C,E,j,k)),p(P)&&M.setUTCFullYear(P),R!==0&&M.setTime(M.getTime()-R)):(M=new Date(P,b,x,C,E,j,k),p(P)&&M.setFullYear(P)),M},"parseDate");function l(h){var g=s.exec(h);if(g){var y=parseInt(g[1],10),P=!!g[4];P&&(y=f(y));var b=parseInt(g[2],10)-1,x=g[3],C=new Date(y,b,x);return p(y)&&C.setFullYear(y),C}}_(l,"getDate");function c(h){if(h.endsWith("+00"))return 0;var g=o.exec(h.split(" ")[1]);if(g){var y=g[1];if(y==="Z")return 0;var P=y==="-"?-1:1,b=parseInt(g[2],10)*3600+parseInt(g[3]||0,10)*60+parseInt(g[4]||0,10);return b*P*1e3}}_(c,"timeZoneOffset");function f(h){return-(h-1)}_(f,"bcYearToNegativeYear");function p(h){return h>=0&&h<100}_(p,"is0To99")}),G3=Ue((t,e)=>{Te(),e.exports=s;var n=Object.prototype.hasOwnProperty;function s(o){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)n.call(l,c)&&(o[c]=l[c])}return o}_(s,"extend")}),Y3=Ue((t,e)=>{Te();var n=G3();e.exports=s;function s(j){if(!(this instanceof s))return new s(j);n(this,E(j))}_(s,"PostgresInterval");var o=["seconds","minutes","hours","days","months","years"];s.prototype.toPostgres=function(){var j=o.filter(this.hasOwnProperty,this);return this.milliseconds&&j.indexOf("seconds")<0&&j.push("seconds"),j.length===0?"0":j.map(function(k){var M=this[k]||0;return k==="seconds"&&this.milliseconds&&(M=(M+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),M+" "+k},this).join(" ")};var a={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},l=["years","months","days"],c=["hours","minutes","seconds"];s.prototype.toISOString=s.prototype.toISO=function(){var j=l.map(M,this).join(""),k=c.map(M,this).join("");return"P"+j+"T"+k;function M(R){var L=this[R]||0;return R==="seconds"&&this.milliseconds&&(L=(L+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),L+a[R]}};var f="([+-]?\\d+)",p=f+"\\s+years?",h=f+"\\s+mons?",g=f+"\\s+days?",y="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",P=new RegExp([p,h,g,y].map(function(j){return"("+j+")?"}).join("\\s*")),b={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},x=["hours","minutes","seconds","milliseconds"];function C(j){var k=j+"000000".slice(j.length);return parseInt(k,10)/1e3}_(C,"parseMilliseconds");function E(j){if(!j)return{};var k=P.exec(j),M=k[8]==="-";return Object.keys(b).reduce(function(R,L){var D=b[L],O=k[D];return!O||(O=L==="milliseconds"?C(O):parseInt(O,10),!O)||(M&&~x.indexOf(L)&&(O*=-1),R[L]=O),R},{})}_(E,"parse")}),J3=Ue((t,e)=>{Te(),e.exports=_(function(n){if(/^\\x/.test(n))return new Me(n.substr(2),"hex");for(var s="",o=0;o<n.length;)if(n[o]!=="\\")s+=n[o],++o;else if(/[0-7]{3}/.test(n.substr(o+1,3)))s+=String.fromCharCode(parseInt(n.substr(o+1,3),8)),o+=4;else{for(var a=1;o+a<n.length&&n[o+a]==="\\";)a++;for(var l=0;l<Math.floor(a/2);++l)s+="\\";o+=Math.floor(a/2)*2}return new Me(s,"binary")},"parseBytea")}),X3=Ue((t,e)=>{Te();var n=a1(),s=u1(),o=K3(),a=Y3(),l=J3();function c(I){return _(function(H){return H===null?H:I(H)},"nullAllowed")}_(c,"allowNull");function f(I){return I===null?I:I==="TRUE"||I==="t"||I==="true"||I==="y"||I==="yes"||I==="on"||I==="1"}_(f,"parseBool");function p(I){return I?n.parse(I,f):null}_(p,"parseBoolArray");function h(I){return parseInt(I,10)}_(h,"parseBaseTenInt");function g(I){return I?n.parse(I,c(h)):null}_(g,"parseIntegerArray");function y(I){return I?n.parse(I,c(function(H){return M(H).trim()})):null}_(y,"parseBigIntegerArray");var P=_(function(I){if(!I)return null;var H=s.create(I,function(B){return B!==null&&(B=L(B)),B});return H.parse()},"parsePointArray"),b=_(function(I){if(!I)return null;var H=s.create(I,function(B){return B!==null&&(B=parseFloat(B)),B});return H.parse()},"parseFloatArray"),x=_(function(I){if(!I)return null;var H=s.create(I);return H.parse()},"parseStringArray"),C=_(function(I){if(!I)return null;var H=s.create(I,function(B){return B!==null&&(B=o(B)),B});return H.parse()},"parseDateArray"),E=_(function(I){if(!I)return null;var H=s.create(I,function(B){return B!==null&&(B=a(B)),B});return H.parse()},"parseIntervalArray"),j=_(function(I){return I?n.parse(I,c(l)):null},"parseByteAArray"),k=_(function(I){return parseInt(I,10)},"parseInteger"),M=_(function(I){var H=String(I);return/^\d+$/.test(H)?H:I},"parseBigInteger"),R=_(function(I){return I?n.parse(I,c(JSON.parse)):null},"parseJsonArray"),L=_(function(I){return I[0]!=="("?null:(I=I.substring(1,I.length-1).split(","),{x:parseFloat(I[0]),y:parseFloat(I[1])})},"parsePoint"),D=_(function(I){if(I[0]!=="<"&&I[1]!=="(")return null;for(var H="(",B="",Z=!1,re=2;re<I.length-1;re++){if(Z||(H+=I[re]),I[re]===")"){Z=!0;continue}else if(!Z)continue;I[re]!==","&&(B+=I[re])}var G=L(H);return G.radius=parseFloat(B),G},"parseCircle"),O=_(function(I){I(20,M),I(21,k),I(23,k),I(26,k),I(700,parseFloat),I(701,parseFloat),I(16,f),I(1082,o),I(1114,o),I(1184,o),I(600,L),I(651,x),I(718,D),I(1e3,p),I(1001,j),I(1005,g),I(1007,g),I(1028,g),I(1016,y),I(1017,P),I(1021,b),I(1022,b),I(1231,b),I(1014,x),I(1015,x),I(1008,x),I(1009,x),I(1040,x),I(1041,x),I(1115,C),I(1182,C),I(1185,C),I(1186,a),I(1187,E),I(17,l),I(114,JSON.parse.bind(JSON)),I(3802,JSON.parse.bind(JSON)),I(199,R),I(3807,R),I(3907,x),I(2951,x),I(791,x),I(1183,x),I(1270,x)},"init");e.exports={init:O}}),Z3=Ue((t,e)=>{Te();var n=1e6;function s(o){var a=o.readInt32BE(0),l=o.readUInt32BE(4),c="";a<0&&(a=~a+(l===0),l=~l+1>>>0,c="-");var f="",p,h,g,y,P,b;{if(p=a%n,a=a/n>>>0,h=4294967296*p+l,l=h/n>>>0,g=""+(h-n*l),l===0&&a===0)return c+g+f;for(y="",P=6-g.length,b=0;b<P;b++)y+="0";f=y+g+f}{if(p=a%n,a=a/n>>>0,h=4294967296*p+l,l=h/n>>>0,g=""+(h-n*l),l===0&&a===0)return c+g+f;for(y="",P=6-g.length,b=0;b<P;b++)y+="0";f=y+g+f}{if(p=a%n,a=a/n>>>0,h=4294967296*p+l,l=h/n>>>0,g=""+(h-n*l),l===0&&a===0)return c+g+f;for(y="",P=6-g.length,b=0;b<P;b++)y+="0";f=y+g+f}return p=a%n,h=4294967296*p+l,g=""+h%n,c+g+f}_(s,"readInt8"),e.exports=s}),eN=Ue((t,e)=>{Te();var n=Z3(),s=_(function(x,C,E,j,k){E=E||0,j=j||!1,k=k||function(Z,re,G){return Z*Math.pow(2,G)+re};var M=E>>3,R=_(function(Z){return j?~Z&255:Z},"inv"),L=255,D=8-E%8;C<D&&(L=255<<8-C&255,D=C),E&&(L=L>>E%8);var O=0;E%8+C>=8&&(O=k(0,R(x[M])&L,D));for(var I=C+E>>3,H=M+1;H<I;H++)O=k(O,R(x[H]),8);var B=(C+E)%8;return B>0&&(O=k(O,R(x[I])>>8-B,B)),O},"parseBits"),o=_(function(x,C,E){var j=Math.pow(2,E-1)-1,k=s(x,1),M=s(x,E,1);if(M===0)return 0;var R=1,L=_(function(O,I,H){O===0&&(O=1);for(var B=1;B<=H;B++)R/=2,(I&1<<H-B)>0&&(O+=R);return O},"parsePrecisionBits"),D=s(x,C,E+1,!1,L);return M==Math.pow(2,E+1)-1?D===0?k===0?1/0:-1/0:NaN:(k===0?1:-1)*Math.pow(2,M-j)*D},"parseFloatFromBits"),a=_(function(x){return s(x,1)==1?-1*(s(x,15,1,!0)+1):s(x,15,1)},"parseInt16"),l=_(function(x){return s(x,1)==1?-1*(s(x,31,1,!0)+1):s(x,31,1)},"parseInt32"),c=_(function(x){return o(x,23,8)},"parseFloat32"),f=_(function(x){return o(x,52,11)},"parseFloat64"),p=_(function(x){var C=s(x,16,32);if(C==49152)return NaN;for(var E=Math.pow(1e4,s(x,16,16)),j=0,k=[],M=s(x,16),R=0;R<M;R++)j+=s(x,16,64+16*R)*E,E/=1e4;var L=Math.pow(10,s(x,16,48));return(C===0?1:-1)*Math.round(j*L)/L},"parseNumeric"),h=_(function(x,C){var E=s(C,1),j=s(C,63,1),k=new Date((E===0?1:-1)*j/1e3+9466848e5);return x||k.setTime(k.getTime()+k.getTimezoneOffset()*6e4),k.usec=j%1e3,k.getMicroSeconds=function(){return this.usec},k.setMicroSeconds=function(M){this.usec=M},k.getUTCMicroSeconds=function(){return this.usec},k},"parseDate"),g=_(function(x){for(var C=s(x,32),E=s(x,32,32),j=s(x,32,64),k=96,M=[],R=0;R<C;R++)M[R]=s(x,32,k),k+=32,k+=32;var L=_(function(O){var I=s(x,32,k);if(k+=32,I==4294967295)return null;var H;if(O==23||O==20)return H=s(x,I*8,k),k+=I*8,H;if(O==25)return H=x.toString(this.encoding,k>>3,(k+=I<<3)>>3),H;console.log("ERROR: ElementType not implemented: "+O)},"parseElement"),D=_(function(O,I){var H=[],B;if(O.length>1){var Z=O.shift();for(B=0;B<Z;B++)H[B]=D(O,I);O.unshift(Z)}else for(B=0;B<O[0];B++)H[B]=L(I);return H},"parse");return D(M,j)},"parseArray"),y=_(function(x){return x.toString("utf8")},"parseText"),P=_(function(x){return x===null?null:s(x,8)>0},"parseBool"),b=_(function(x){x(20,n),x(21,a),x(23,l),x(26,l),x(1700,p),x(700,c),x(701,f),x(16,P),x(1114,h.bind(null,!1)),x(1184,h.bind(null,!0)),x(1e3,g),x(1007,g),x(1016,g),x(1008,g),x(1009,g),x(25,y)},"init");e.exports={init:b}}),tN=Ue((t,e)=>{Te(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),Ju=Ue(t=>{Te();var e=X3(),n=eN(),s=u1(),o=tN();t.getTypeParser=c,t.setTypeParser=f,t.arrayParser=s,t.builtins=o;var a={text:{},binary:{}};function l(p){return String(p)}_(l,"noParse");function c(p,h){return h=h||"text",a[h]&&a[h][p]||l}_(c,"getTypeParser");function f(p,h,g){typeof h=="function"&&(g=h,h="text"),a[h][p]=g}_(f,"setTypeParser"),e.init(function(p,h){a.text[p]=h}),n.init(function(p,h){a.binary[p]=h})}),Yh=Ue((t,e)=>{Te();var n=Ju();function s(o){this._types=o||n,this.text={},this.binary={}}_(s,"TypeOverrides"),s.prototype.getOverrides=function(o){switch(o){case"text":return this.text;case"binary":return this.binary;default:return{}}},s.prototype.setTypeParser=function(o,a,l){typeof a=="function"&&(l=a,a="text"),this.getOverrides(a)[o]=l},s.prototype.getTypeParser=function(o,a){return a=a||"text",this.getOverrides(a)[o]||this._types.getTypeParser(o,a)},e.exports=s});function ra(t){let e=1779033703,n=3144134277,s=1013904242,o=2773480762,a=1359893119,l=2600822924,c=528734635,f=1541459225,p=0,h=0,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=_((j,k)=>j>>>k|j<<32-k,"rrot"),P=new Uint32Array(64),b=new Uint8Array(64),x=_(()=>{for(let H=0,B=0;H<16;H++,B+=4)P[H]=b[B]<<24|b[B+1]<<16|b[B+2]<<8|b[B+3];for(let H=16;H<64;H++){let B=y(P[H-15],7)^y(P[H-15],18)^P[H-15]>>>3,Z=y(P[H-2],17)^y(P[H-2],19)^P[H-2]>>>10;P[H]=P[H-16]+B+P[H-7]+Z|0}let j=e,k=n,M=s,R=o,L=a,D=l,O=c,I=f;for(let H=0;H<64;H++){let B=y(L,6)^y(L,11)^y(L,25),Z=L&D^~L&O,re=I+B+Z+g[H]+P[H]|0,G=y(j,2)^y(j,13)^y(j,22),ae=j&k^j&M^k&M,xe=G+ae|0;I=O,O=D,D=L,L=R+re|0,R=M,M=k,k=j,j=re+xe|0}e=e+j|0,n=n+k|0,s=s+M|0,o=o+R|0,a=a+L|0,l=l+D|0,c=c+O|0,f=f+I|0,h=0},"process"),C=_(j=>{typeof j=="string"&&(j=new TextEncoder().encode(j));for(let k=0;k<j.length;k++)b[h++]=j[k],h===64&&x();p+=j.length},"add"),E=_(()=>{if(b[h++]=128,h==64&&x(),h+8>64){for(;h<64;)b[h++]=0;x()}for(;h<58;)b[h++]=0;let j=p*8;b[h++]=j/1099511627776&255,b[h++]=j/4294967296&255,b[h++]=j>>>24,b[h++]=j>>>16&255,b[h++]=j>>>8&255,b[h++]=j&255,x();let k=new Uint8Array(32);return k[0]=e>>>24,k[1]=e>>>16&255,k[2]=e>>>8&255,k[3]=e&255,k[4]=n>>>24,k[5]=n>>>16&255,k[6]=n>>>8&255,k[7]=n&255,k[8]=s>>>24,k[9]=s>>>16&255,k[10]=s>>>8&255,k[11]=s&255,k[12]=o>>>24,k[13]=o>>>16&255,k[14]=o>>>8&255,k[15]=o&255,k[16]=a>>>24,k[17]=a>>>16&255,k[18]=a>>>8&255,k[19]=a&255,k[20]=l>>>24,k[21]=l>>>16&255,k[22]=l>>>8&255,k[23]=l&255,k[24]=c>>>24,k[25]=c>>>16&255,k[26]=c>>>8&255,k[27]=c&255,k[28]=f>>>24,k[29]=f>>>16&255,k[30]=f>>>8&255,k[31]=f&255,k},"digest");return t===void 0?{add:C,digest:E}:(C(t),E())}var nN=vn(()=>{Te(),_(ra,"sha256")}),_r,eh,rN=vn(()=>{Te(),_r=class Vn{constructor(){Fe(this,"_dataLength",0),Fe(this,"_bufferLength",0),Fe(this,"_state",new Int32Array(4)),Fe(this,"_buffer",new ArrayBuffer(68)),Fe(this,"_buffer8"),Fe(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,n=!1){return this.onePassHasher.start().appendByteArray(e).end(n)}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){let n=Vn.hexChars,s=Vn.hexOut,o,a,l,c;for(c=0;c<4;c+=1)for(a=c*8,o=e[c],l=0;l<8;l+=2)s[a+1+l]=n.charAt(o&15),o>>>=4,s[a+0+l]=n.charAt(o&15),o>>>=4;return s.join("")}static _md5cycle(e,n){let s=e[0],o=e[1],a=e[2],l=e[3];s+=(o&a|~o&l)+n[0]-680876936|0,s=(s<<7|s>>>25)+o|0,l+=(s&o|~s&a)+n[1]-389564586|0,l=(l<<12|l>>>20)+s|0,a+=(l&s|~l&o)+n[2]+606105819|0,a=(a<<17|a>>>15)+l|0,o+=(a&l|~a&s)+n[3]-1044525330|0,o=(o<<22|o>>>10)+a|0,s+=(o&a|~o&l)+n[4]-176418897|0,s=(s<<7|s>>>25)+o|0,l+=(s&o|~s&a)+n[5]+1200080426|0,l=(l<<12|l>>>20)+s|0,a+=(l&s|~l&o)+n[6]-1473231341|0,a=(a<<17|a>>>15)+l|0,o+=(a&l|~a&s)+n[7]-45705983|0,o=(o<<22|o>>>10)+a|0,s+=(o&a|~o&l)+n[8]+1770035416|0,s=(s<<7|s>>>25)+o|0,l+=(s&o|~s&a)+n[9]-1958414417|0,l=(l<<12|l>>>20)+s|0,a+=(l&s|~l&o)+n[10]-42063|0,a=(a<<17|a>>>15)+l|0,o+=(a&l|~a&s)+n[11]-1990404162|0,o=(o<<22|o>>>10)+a|0,s+=(o&a|~o&l)+n[12]+1804603682|0,s=(s<<7|s>>>25)+o|0,l+=(s&o|~s&a)+n[13]-40341101|0,l=(l<<12|l>>>20)+s|0,a+=(l&s|~l&o)+n[14]-1502002290|0,a=(a<<17|a>>>15)+l|0,o+=(a&l|~a&s)+n[15]+1236535329|0,o=(o<<22|o>>>10)+a|0,s+=(o&l|a&~l)+n[1]-165796510|0,s=(s<<5|s>>>27)+o|0,l+=(s&a|o&~a)+n[6]-1069501632|0,l=(l<<9|l>>>23)+s|0,a+=(l&o|s&~o)+n[11]+643717713|0,a=(a<<14|a>>>18)+l|0,o+=(a&s|l&~s)+n[0]-373897302|0,o=(o<<20|o>>>12)+a|0,s+=(o&l|a&~l)+n[5]-701558691|0,s=(s<<5|s>>>27)+o|0,l+=(s&a|o&~a)+n[10]+38016083|0,l=(l<<9|l>>>23)+s|0,a+=(l&o|s&~o)+n[15]-660478335|0,a=(a<<14|a>>>18)+l|0,o+=(a&s|l&~s)+n[4]-405537848|0,o=(o<<20|o>>>12)+a|0,s+=(o&l|a&~l)+n[9]+568446438|0,s=(s<<5|s>>>27)+o|0,l+=(s&a|o&~a)+n[14]-1019803690|0,l=(l<<9|l>>>23)+s|0,a+=(l&o|s&~o)+n[3]-187363961|0,a=(a<<14|a>>>18)+l|0,o+=(a&s|l&~s)+n[8]+1163531501|0,o=(o<<20|o>>>12)+a|0,s+=(o&l|a&~l)+n[13]-1444681467|0,s=(s<<5|s>>>27)+o|0,l+=(s&a|o&~a)+n[2]-51403784|0,l=(l<<9|l>>>23)+s|0,a+=(l&o|s&~o)+n[7]+1735328473|0,a=(a<<14|a>>>18)+l|0,o+=(a&s|l&~s)+n[12]-1926607734|0,o=(o<<20|o>>>12)+a|0,s+=(o^a^l)+n[5]-378558|0,s=(s<<4|s>>>28)+o|0,l+=(s^o^a)+n[8]-2022574463|0,l=(l<<11|l>>>21)+s|0,a+=(l^s^o)+n[11]+1839030562|0,a=(a<<16|a>>>16)+l|0,o+=(a^l^s)+n[14]-35309556|0,o=(o<<23|o>>>9)+a|0,s+=(o^a^l)+n[1]-1530992060|0,s=(s<<4|s>>>28)+o|0,l+=(s^o^a)+n[4]+1272893353|0,l=(l<<11|l>>>21)+s|0,a+=(l^s^o)+n[7]-155497632|0,a=(a<<16|a>>>16)+l|0,o+=(a^l^s)+n[10]-1094730640|0,o=(o<<23|o>>>9)+a|0,s+=(o^a^l)+n[13]+681279174|0,s=(s<<4|s>>>28)+o|0,l+=(s^o^a)+n[0]-358537222|0,l=(l<<11|l>>>21)+s|0,a+=(l^s^o)+n[3]-722521979|0,a=(a<<16|a>>>16)+l|0,o+=(a^l^s)+n[6]+76029189|0,o=(o<<23|o>>>9)+a|0,s+=(o^a^l)+n[9]-640364487|0,s=(s<<4|s>>>28)+o|0,l+=(s^o^a)+n[12]-421815835|0,l=(l<<11|l>>>21)+s|0,a+=(l^s^o)+n[15]+530742520|0,a=(a<<16|a>>>16)+l|0,o+=(a^l^s)+n[2]-995338651|0,o=(o<<23|o>>>9)+a|0,s+=(a^(o|~l))+n[0]-198630844|0,s=(s<<6|s>>>26)+o|0,l+=(o^(s|~a))+n[7]+1126891415|0,l=(l<<10|l>>>22)+s|0,a+=(s^(l|~o))+n[14]-1416354905|0,a=(a<<15|a>>>17)+l|0,o+=(l^(a|~s))+n[5]-57434055|0,o=(o<<21|o>>>11)+a|0,s+=(a^(o|~l))+n[12]+1700485571|0,s=(s<<6|s>>>26)+o|0,l+=(o^(s|~a))+n[3]-1894986606|0,l=(l<<10|l>>>22)+s|0,a+=(s^(l|~o))+n[10]-1051523|0,a=(a<<15|a>>>17)+l|0,o+=(l^(a|~s))+n[1]-2054922799|0,o=(o<<21|o>>>11)+a|0,s+=(a^(o|~l))+n[8]+1873313359|0,s=(s<<6|s>>>26)+o|0,l+=(o^(s|~a))+n[15]-30611744|0,l=(l<<10|l>>>22)+s|0,a+=(s^(l|~o))+n[6]-1560198380|0,a=(a<<15|a>>>17)+l|0,o+=(l^(a|~s))+n[13]+1309151649|0,o=(o<<21|o>>>11)+a|0,s+=(a^(o|~l))+n[4]-145523070|0,s=(s<<6|s>>>26)+o|0,l+=(o^(s|~a))+n[11]-1120210379|0,l=(l<<10|l>>>22)+s|0,a+=(s^(l|~o))+n[2]+718787259|0,a=(a<<15|a>>>17)+l|0,o+=(l^(a|~s))+n[9]-343485551|0,o=(o<<21|o>>>11)+a|0,e[0]=s+e[0]|0,e[1]=o+e[1]|0,e[2]=a+e[2]|0,e[3]=l+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Vn.stateIdentity),this}appendStr(e){let n=this._buffer8,s=this._buffer32,o=this._bufferLength,a,l;for(l=0;l<e.length;l+=1){if(a=e.charCodeAt(l),a<128)n[o++]=a;else if(a<2048)n[o++]=(a>>>6)+192,n[o++]=a&63|128;else if(a<55296||a>56319)n[o++]=(a>>>12)+224,n[o++]=a>>>6&63|128,n[o++]=a&63|128;else{if(a=(a-55296)*1024+(e.charCodeAt(++l)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[o++]=(a>>>18)+240,n[o++]=a>>>12&63|128,n[o++]=a>>>6&63|128,n[o++]=a&63|128}o>=64&&(this._dataLength+=64,Vn._md5cycle(this._state,s),o-=64,s[0]=s[16])}return this._bufferLength=o,this}appendAsciiStr(e){let n=this._buffer8,s=this._buffer32,o=this._bufferLength,a,l=0;for(;;){for(a=Math.min(e.length-l,64-o);a--;)n[o++]=e.charCodeAt(l++);if(o<64)break;this._dataLength+=64,Vn._md5cycle(this._state,s),o=0}return this._bufferLength=o,this}appendByteArray(e){let n=this._buffer8,s=this._buffer32,o=this._bufferLength,a,l=0;for(;;){for(a=Math.min(e.length-l,64-o);a--;)n[o++]=e[l++];if(o<64)break;this._dataLength+=64,Vn._md5cycle(this._state,s),o=0}return this._bufferLength=o,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let n=e.buffer,s=e.state,o=this._state,a;for(this._dataLength=e.length,this._bufferLength=e.buflen,o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],a=0;a<n.length;a+=1)this._buffer8[a]=n.charCodeAt(a)}end(e=!1){let n=this._bufferLength,s=this._buffer8,o=this._buffer32,a=(n>>2)+1;this._dataLength+=n;let l=this._dataLength*8;if(s[n]=128,s[n+1]=s[n+2]=s[n+3]=0,o.set(Vn.buffer32Identity.subarray(a),a),n>55&&(Vn._md5cycle(this._state,o),o.set(Vn.buffer32Identity)),l<=4294967295)o[14]=l;else{let c=l.toString(16).match(/(.*?)(.{0,8})$/);if(c===null)return;let f=parseInt(c[2],16),p=parseInt(c[1],16)||0;o[14]=f,o[15]=p}return Vn._md5cycle(this._state,o),e?this._state:Vn._hex(this._state)}},_(_r,"Md5"),Fe(_r,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Fe(_r,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Fe(_r,"hexChars","0123456789abcdef"),Fe(_r,"hexOut",[]),Fe(_r,"onePassHasher",new _r),eh=_r}),Jh={};sr(Jh,{createHash:()=>f1,createHmac:()=>d1,randomBytes:()=>c1});function c1(t){return crypto.getRandomValues(Me.alloc(t))}function f1(t){if(t==="sha256")return{update:_(function(e){return{digest:_(function(){return Me.from(ra(e))},"digest")}},"update")};if(t==="md5")return{update:_(function(e){return{digest:_(function(){return typeof e=="string"?eh.hashStr(e):eh.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function d1(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:_(function(n){return{digest:_(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof n=="string"&&(n=new TextEncoder().encode(n));let s=e.length;if(s>64)e=ra(e);else if(s<64){let f=new Uint8Array(64);f.set(e),e=f}let o=new Uint8Array(64),a=new Uint8Array(64);for(let f=0;f<64;f++)o[f]=54^e[f],a[f]=92^e[f];let l=new Uint8Array(n.length+64);l.set(o,0),l.set(n,64);let c=new Uint8Array(96);return c.set(a,0),c.set(ra(l),64),Me.from(ra(c))},"digest")}},"update")}}var h1=vn(()=>{Te(),nN(),rN(),_(c1,"randomBytes"),_(f1,"createHash"),_(d1,"createHmac")}),Xu=Ue((t,e)=>{Te(),e.exports={host:"localhost",user:$e.platform==="win32"?$e.env.USERNAME:$e.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=Ju(),s=n.getTypeParser(20,"text"),o=n.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(a){n.setTypeParser(20,"text",a?n.getTypeParser(23,"text"):s),n.setTypeParser(1016,"text",a?n.getTypeParser(1007,"text"):o)})}),Zu=Ue((t,e)=>{Te();var n=(h1(),Vt(Jh)),s=Xu();function o(b){var x=b.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+x+'"'}_(o,"escapeElement");function a(b){for(var x="{",C=0;C<b.length;C++)C>0&&(x=x+","),b[C]===null||typeof b[C]>"u"?x=x+"NULL":Array.isArray(b[C])?x=x+a(b[C]):b[C]instanceof Me?x+="\\\\x"+b[C].toString("hex"):x+=o(l(b[C]));return x=x+"}",x}_(a,"arrayString");var l=_(function(b,x){if(b==null)return null;if(b instanceof Me)return b;if(ArrayBuffer.isView(b)){var C=Me.from(b.buffer,b.byteOffset,b.byteLength);return C.length===b.byteLength?C:C.slice(b.byteOffset,b.byteOffset+b.byteLength)}return b instanceof Date?s.parseInputDatesAsUTC?h(b):p(b):Array.isArray(b)?a(b):typeof b=="object"?c(b,x):b.toString()},"prepareValue");function c(b,x){if(b&&typeof b.toPostgres=="function"){if(x=x||[],x.indexOf(b)!==-1)throw new Error('circular reference detected while preparing "'+b+'" for query');return x.push(b),l(b.toPostgres(l),x)}return JSON.stringify(b)}_(c,"prepareObject");function f(b,x){for(b=""+b;b.length<x;)b="0"+b;return b}_(f,"pad");function p(b){var x=-b.getTimezoneOffset(),C=b.getFullYear(),E=C<1;E&&(C=Math.abs(C)+1);var j=f(C,4)+"-"+f(b.getMonth()+1,2)+"-"+f(b.getDate(),2)+"T"+f(b.getHours(),2)+":"+f(b.getMinutes(),2)+":"+f(b.getSeconds(),2)+"."+f(b.getMilliseconds(),3);return x<0?(j+="-",x*=-1):j+="+",j+=f(Math.floor(x/60),2)+":"+f(x%60,2),E&&(j+=" BC"),j}_(p,"dateToString");function h(b){var x=b.getUTCFullYear(),C=x<1;C&&(x=Math.abs(x)+1);var E=f(x,4)+"-"+f(b.getUTCMonth()+1,2)+"-"+f(b.getUTCDate(),2)+"T"+f(b.getUTCHours(),2)+":"+f(b.getUTCMinutes(),2)+":"+f(b.getUTCSeconds(),2)+"."+f(b.getUTCMilliseconds(),3);return E+="+00:00",C&&(E+=" BC"),E}_(h,"dateToStringUTC");function g(b,x,C){return b=typeof b=="string"?{text:b}:b,x&&(typeof x=="function"?b.callback=x:b.values=x),C&&(b.callback=C),b}_(g,"normalizeQueryConfig");var y=_(function(b){return n.createHash("md5").update(b,"utf-8").digest("hex")},"md5"),P=_(function(b,x,C){var E=y(x+b),j=y(Me.concat([Me.from(E),C]));return"md5"+j},"postgresMd5PasswordHash");e.exports={prepareValue:_(function(b){return l(b)},"prepareValueWrapper"),normalizeQueryConfig:g,postgresMd5PasswordHash:P,md5:y}}),Da={};sr(Da,{default:()=>p1});var p1,ec=vn(()=>{Te(),p1={}}),sN=Ue((t,e)=>{Te();var n=(h1(),Vt(Jh));function s(x){if(x.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let C=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:C,response:"n,,n=*,r="+C,message:"SASLInitialResponse"}}_(s,"startSession");function o(x,C,E){if(x.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof C!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof E!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let j=p(E);if(j.nonce.startsWith(x.clientNonce)){if(j.nonce.length===x.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var k=Me.from(j.salt,"base64"),M=b(C,k,j.iteration),R=P(M,"Client Key"),L=y(R),D="n=*,r="+x.clientNonce,O="r="+j.nonce+",s="+j.salt+",i="+j.iteration,I="c=biws,r="+j.nonce,H=D+","+O+","+I,B=P(L,H),Z=g(R,B),re=Z.toString("base64"),G=P(M,"Server Key"),ae=P(G,H);x.message="SASLResponse",x.serverSignature=ae.toString("base64"),x.response=I+",p="+re}_(o,"continueSession");function a(x,C){if(x.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof C!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:E}=h(C);if(E!==x.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}_(a,"finalizeSession");function l(x){if(typeof x!="string")throw new TypeError("SASL: text must be a string");return x.split("").map((C,E)=>x.charCodeAt(E)).every(C=>C>=33&&C<=43||C>=45&&C<=126)}_(l,"isPrintableChars");function c(x){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(x)}_(c,"isBase64");function f(x){if(typeof x!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(x.split(",").map(C=>{if(!/^.=/.test(C))throw new Error("SASL: Invalid attribute pair entry");let E=C[0],j=C.substring(2);return[E,j]}))}_(f,"parseAttributePairs");function p(x){let C=f(x),E=C.get("r");if(E){if(!l(E))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let j=C.get("s");if(j){if(!c(j))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let k=C.get("i");if(k){if(!/^[1-9][0-9]*$/.test(k))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let M=parseInt(k,10);return{nonce:E,salt:j,iteration:M}}_(p,"parseServerFirstMessage");function h(x){let C=f(x).get("v");if(C){if(!c(C))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:C}}_(h,"parseServerFinalMessage");function g(x,C){if(!Me.isBuffer(x))throw new TypeError("first argument must be a Buffer");if(!Me.isBuffer(C))throw new TypeError("second argument must be a Buffer");if(x.length!==C.length)throw new Error("Buffer lengths must match");if(x.length===0)throw new Error("Buffers cannot be empty");return Me.from(x.map((E,j)=>x[j]^C[j]))}_(g,"xorBuffers");function y(x){return n.createHash("sha256").update(x).digest()}_(y,"sha256");function P(x,C){return n.createHmac("sha256",x).update(C).digest()}_(P,"hmacSha256");function b(x,C,E){for(var j=P(x,Me.concat([C,Me.from([0,0,0,1])])),k=j,M=0;M<E-1;M++)j=P(x,j),k=g(k,j);return k}_(b,"Hi"),e.exports={startSession:s,continueSession:o,finalizeSession:a}}),Xh={};sr(Xh,{join:()=>m1});function m1(...t){return t.join("/")}var g1=vn(()=>{Te(),_(m1,"join")}),Zh={};sr(Zh,{stat:()=>y1});function y1(t,e){e(new Error("No filesystem"))}var x1=vn(()=>{Te(),_(y1,"stat")}),ep={};sr(ep,{default:()=>v1});var v1,b1=vn(()=>{Te(),v1={}}),w1={};sr(w1,{StringDecoder:()=>S1});var xd,S1,iN=vn(()=>{Te(),xd=class{constructor(e){Fe(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},_(xd,"StringDecoder"),S1=xd}),oN=Ue((t,e)=>{Te();var{Transform:n}=(b1(),Vt(ep)),{StringDecoder:s}=(iN(),Vt(w1)),o=Symbol("last"),a=Symbol("decoder");function l(g,y,P){let b;if(this.overflow){if(b=this[a].write(g).split(this.matcher),b.length===1)return P();b.shift(),this.overflow=!1}else this[o]+=this[a].write(g),b=this[o].split(this.matcher);this[o]=b.pop();for(let x=0;x<b.length;x++)try{f(this,this.mapper(b[x]))}catch(C){return P(C)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){P(new Error("maximum buffer reached"));return}P()}_(l,"transform");function c(g){if(this[o]+=this[a].end(),this[o])try{f(this,this.mapper(this[o]))}catch(y){return g(y)}g()}_(c,"flush");function f(g,y){y!==void 0&&g.push(y)}_(f,"push");function p(g){return g}_(p,"noop");function h(g,y,P){switch(g=g||/\r?\n/,y=y||p,P=P||{},arguments.length){case 1:typeof g=="function"?(y=g,g=/\r?\n/):typeof g=="object"&&!(g instanceof RegExp)&&!g[Symbol.split]&&(P=g,g=/\r?\n/);break;case 2:typeof g=="function"?(P=y,y=g,g=/\r?\n/):typeof y=="object"&&(P=y,y=p)}P=Object.assign({},P),P.autoDestroy=!0,P.transform=l,P.flush=c,P.readableObjectMode=!0;let b=new n(P);return b[o]="",b[a]=new s("utf8"),b.matcher=g,b.mapper=y,b.maxLength=P.maxLength,b.skipOverflow=P.skipOverflow||!1,b.overflow=!1,b._destroy=function(x,C){this._writableState.errorEmitted=!1,C(x)},b}_(h,"split"),e.exports=h}),aN=Ue((t,e)=>{Te();var n=(g1(),Vt(Xh)),s=(b1(),Vt(ep)).Stream,o=oN(),a=(ec(),Vt(Da)),l=5432,c=$e.platform==="win32",f=$e.stderr,p=56,h=7,g=61440,y=32768;function P(R){return(R&g)==y}_(P,"isRegFile");var b=["host","port","database","user","password"],x=b.length,C=b[x-1];function E(){var R=f instanceof s&&f.writable===!0;if(R){var L=Array.prototype.slice.call(arguments).concat(`
`);f.write(a.format.apply(a,L))}}_(E,"warn"),Object.defineProperty(e.exports,"isWin",{get:_(function(){return c},"get"),set:_(function(R){c=R},"set")}),e.exports.warnTo=function(R){var L=f;return f=R,L},e.exports.getFileName=function(R){var L=R||$e.env,D=L.PGPASSFILE||(c?n.join(L.APPDATA||"./","postgresql","pgpass.conf"):n.join(L.HOME||"./",".pgpass"));return D},e.exports.usePgPass=function(R,L){return Object.prototype.hasOwnProperty.call($e.env,"PGPASSWORD")?!1:c?!0:(L=L||"<unkn>",P(R.mode)?R.mode&(p|h)?(E('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',L),!1):!0:(E('WARNING: password file "%s" is not a plain file',L),!1))};var j=e.exports.match=function(R,L){return b.slice(0,-1).reduce(function(D,O,I){return I==1&&Number(R[O]||l)===Number(L[O])?D&&!0:D&&(L[O]==="*"||L[O]===R[O])},!0)};e.exports.getPassword=function(R,L,D){var O,I=L.pipe(o());function H(re){var G=k(re);G&&M(G)&&j(R,G)&&(O=G[C],I.end())}_(H,"onLine");var B=_(function(){L.destroy(),D(O)},"onEnd"),Z=_(function(re){L.destroy(),E("WARNING: error on reading file: %s",re),D(void 0)},"onErr");L.on("error",Z),I.on("data",H).on("end",B).on("error",Z)};var k=e.exports.parseLine=function(R){if(R.length<11||R.match(/^\s+#/))return null;for(var L="",D="",O=0,I=0,H=0,B={},Z=!1,re=_(function(ae,xe,de){var se=R.substring(xe,de);Object.hasOwnProperty.call($e.env,"PGPASS_NO_DEESCAPE")||(se=se.replace(/\\([:\\])/g,"$1")),B[b[ae]]=se},"addToObj"),G=0;G<R.length-1;G+=1){if(L=R.charAt(G+1),D=R.charAt(G),Z=O==x-1,Z){re(O,I);break}G>=0&&L==":"&&D!=="\\"&&(re(O,I,G+1),I=G+2,O+=1)}return B=Object.keys(B).length===x?B:null,B},M=e.exports.isValidEntry=function(R){for(var L={0:function(B){return B.length>0},1:function(B){return B==="*"?!0:(B=Number(B),isFinite(B)&&B>0&&B<9007199254740992&&Math.floor(B)===B)},2:function(B){return B.length>0},3:function(B){return B.length>0},4:function(B){return B.length>0}},D=0;D<b.length;D+=1){var O=L[D],I=R[b[D]]||"",H=O(I);if(!H)return!1}return!0}}),lN=Ue((t,e)=>{Te(),g1(),Vt(Xh);var n=(x1(),Vt(Zh)),s=aN();e.exports=function(o,a){var l=s.getFileName();n.stat(l,function(c,f){if(c||!s.usePgPass(f,l))return a(void 0);var p=n.createReadStream(l);s.getPassword(o,p,a)})},e.exports.warnTo=s.warnTo}),C1={};sr(C1,{default:()=>P1});var P1,uN=vn(()=>{Te(),P1={}}),cN=Ue((t,e)=>{Te();var n=(o1(),Vt(i1)),s=(x1(),Vt(Zh));function o(a){if(a.charAt(0)==="/"){var c=a.split(" ");return{host:c[0],database:c[1]}}var l=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(a)?encodeURI(a).replace(/\%25(\d\d)/g,"%$1"):a,!0),c=l.query;for(var f in c)Array.isArray(c[f])&&(c[f]=c[f][c[f].length-1]);var p=(l.auth||":").split(":");if(c.user=p[0],c.password=p.splice(1).join(":"),c.port=l.port,l.protocol=="socket:")return c.host=decodeURI(l.pathname),c.database=l.query.db,c.client_encoding=l.query.encoding,c;c.host||(c.host=l.hostname);var h=l.pathname;if(!c.host&&h&&/^%2f/i.test(h)){var g=h.split("/");c.host=decodeURIComponent(g[0]),h=g.splice(1).join("/")}switch(h&&h.charAt(0)==="/"&&(h=h.slice(1)||null),c.database=h&&decodeURI(h),(c.ssl==="true"||c.ssl==="1")&&(c.ssl=!0),c.ssl==="0"&&(c.ssl=!1),(c.sslcert||c.sslkey||c.sslrootcert||c.sslmode)&&(c.ssl={}),c.sslcert&&(c.ssl.cert=s.readFileSync(c.sslcert).toString()),c.sslkey&&(c.ssl.key=s.readFileSync(c.sslkey).toString()),c.sslrootcert&&(c.ssl.ca=s.readFileSync(c.sslrootcert).toString()),c.sslmode){case"disable":{c.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{c.ssl.rejectUnauthorized=!1;break}}return c}_(o,"parse"),e.exports=o,o.parse=o}),tp=Ue((t,e)=>{Te();var n=(uN(),Vt(C1)),s=Xu(),o=cN().parse,a=_(function(g,y,P){return P===void 0?P=$e.env["PG"+g.toUpperCase()]:P===!1||(P=$e.env[P]),y[g]||P||s[g]},"val"),l=_(function(){switch($e.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return s.ssl},"readSSLConfigFromEnvironment"),c=_(function(g){return"'"+(""+g).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),f=_(function(g,y,P){var b=y[P];b!=null&&g.push(P+"="+c(b))},"add"),p=class{constructor(y){y=typeof y=="string"?o(y):y||{},y.connectionString&&(y=Object.assign({},y,o(y.connectionString))),this.user=a("user",y),this.database=a("database",y),this.database===void 0&&(this.database=this.user),this.port=parseInt(a("port",y),10),this.host=a("host",y),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:a("password",y)}),this.binary=a("binary",y),this.options=a("options",y),this.ssl=typeof y.ssl>"u"?l():y.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=a("client_encoding",y),this.replication=a("replication",y),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=a("application_name",y,"PGAPPNAME"),this.fallback_application_name=a("fallback_application_name",y,!1),this.statement_timeout=a("statement_timeout",y,!1),this.lock_timeout=a("lock_timeout",y,!1),this.idle_in_transaction_session_timeout=a("idle_in_transaction_session_timeout",y,!1),this.query_timeout=a("query_timeout",y,!1),y.connectionTimeoutMillis===void 0?this.connect_timeout=$e.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(y.connectionTimeoutMillis/1e3),y.keepAlive===!1?this.keepalives=0:y.keepAlive===!0&&(this.keepalives=1),typeof y.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(y.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(y){var P=[];f(P,this,"user"),f(P,this,"password"),f(P,this,"port"),f(P,this,"application_name"),f(P,this,"fallback_application_name"),f(P,this,"connect_timeout"),f(P,this,"options");var b=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(f(P,b,"sslmode"),f(P,b,"sslca"),f(P,b,"sslkey"),f(P,b,"sslcert"),f(P,b,"sslrootcert"),this.database&&P.push("dbname="+c(this.database)),this.replication&&P.push("replication="+c(this.replication)),this.host&&P.push("host="+c(this.host)),this.isDomainSocket)return y(null,P.join(" "));this.client_encoding&&P.push("client_encoding="+c(this.client_encoding)),n.lookup(this.host,function(x,C){return x?y(x,null):(P.push("hostaddr="+c(C)),y(null,P.join(" ")))})}};_(p,"ConnectionParameters");var h=p;e.exports=h}),fN=Ue((t,e)=>{Te();var n=Ju(),s=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,o=class{constructor(c,f){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=f,this.RowCtor=null,this.rowAsArray=c==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(c){var f;c.text?f=s.exec(c.text):f=s.exec(c.command),f&&(this.command=f[1],f[3]?(this.oid=parseInt(f[2],10),this.rowCount=parseInt(f[3],10)):f[2]&&(this.rowCount=parseInt(f[2],10)))}_parseRowAsArray(c){for(var f=new Array(c.length),p=0,h=c.length;p<h;p++){var g=c[p];g!==null?f[p]=this._parsers[p](g):f[p]=null}return f}parseRow(c){for(var f={},p=0,h=c.length;p<h;p++){var g=c[p],y=this.fields[p].name;g!==null?f[y]=this._parsers[p](g):f[y]=null}return f}addRow(c){this.rows.push(c)}addFields(c){this.fields=c,this.fields.length&&(this._parsers=new Array(c.length));for(var f=0;f<c.length;f++){var p=c[f];this._types?this._parsers[f]=this._types.getTypeParser(p.dataTypeID,p.format||"text"):this._parsers[f]=n.getTypeParser(p.dataTypeID,p.format||"text")}}};_(o,"Result");var a=o;e.exports=a}),dN=Ue((t,e)=>{Te();var{EventEmitter:n}=li(),s=fN(),o=Zu(),a=class extends n{constructor(f,p,h){super(),f=o.normalizeQueryConfig(f,p,h),this.text=f.text,this.values=f.values,this.rows=f.rows,this.types=f.types,this.name=f.name,this.binary=f.binary,this.portal=f.portal||"",this.callback=f.callback,this._rowMode=f.rowMode,$e.domain&&f.callback&&(this.callback=$e.domain.bind(f.callback)),this._result=new s(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new s(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(f){this._checkForMultirow(),this._result.addFields(f.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(f){let p;if(!this._canceledDueToError){try{p=this._result.parseRow(f.fields)}catch(h){this._canceledDueToError=h;return}this.emit("row",p,this._result),this._accumulateRows&&this._result.addRow(p)}}handleCommandComplete(f,p){this._checkForMultirow(),this._result.addCommandComplete(f),this.rows&&p.sync()}handleEmptyQuery(f){this.rows&&f.sync()}handleError(f,p){if(this._canceledDueToError&&(f=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(f);this.emit("error",f)}handleReadyForQuery(f){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,f);if(this.callback)try{this.callback(null,this._results)}catch(p){$e.nextTick(()=>{throw p})}this.emit("end",this._results)}submit(f){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let p=f.parsedStatements[this.name];return this.text&&p&&this.text!==p?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(f):f.query(this.text),null)}hasBeenParsed(f){return this.name&&f.parsedStatements[this.name]}handlePortalSuspended(f){this._getRows(f,this.rows)}_getRows(f,p){f.execute({portal:this.portal,rows:p}),p?f.flush():f.sync()}prepare(f){this.isPreparedStatement=!0,this.hasBeenParsed(f)||f.parse({text:this.text,name:this.name,types:this.types});try{f.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:o.prepareValue})}catch(p){this.handleError(p,f);return}f.describe({type:"P",name:this.portal||""}),this._getRows(f,this.rows)}handleCopyInResponse(f){f.sendCopyFail("No source stream defined")}handleCopyData(f,p){}};_(a,"Query");var l=a;e.exports=l}),N1=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(G,ae,xe){super(G),this.length=ae,this.name=xe}};_(e,"DatabaseError");var n=e;t.DatabaseError=n;var s=class{constructor(G,ae){this.length=G,this.chunk=ae,this.name="copyData"}};_(s,"CopyDataMessage");var o=s;t.CopyDataMessage=o;var a=class{constructor(G,ae,xe,de){this.length=G,this.name=ae,this.binary=xe,this.columnTypes=new Array(de)}};_(a,"CopyResponse");var l=a;t.CopyResponse=l;var c=class{constructor(G,ae,xe,de,se,ue,ye){this.name=G,this.tableID=ae,this.columnID=xe,this.dataTypeID=de,this.dataTypeSize=se,this.dataTypeModifier=ue,this.format=ye}};_(c,"Field");var f=c;t.Field=f;var p=class{constructor(G,ae){this.length=G,this.fieldCount=ae,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};_(p,"RowDescriptionMessage");var h=p;t.RowDescriptionMessage=h;var g=class{constructor(G,ae){this.length=G,this.parameterCount=ae,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};_(g,"ParameterDescriptionMessage");var y=g;t.ParameterDescriptionMessage=y;var P=class{constructor(G,ae,xe){this.length=G,this.parameterName=ae,this.parameterValue=xe,this.name="parameterStatus"}};_(P,"ParameterStatusMessage");var b=P;t.ParameterStatusMessage=b;var x=class{constructor(G,ae){this.length=G,this.salt=ae,this.name="authenticationMD5Password"}};_(x,"AuthenticationMD5Password");var C=x;t.AuthenticationMD5Password=C;var E=class{constructor(G,ae,xe){this.length=G,this.processID=ae,this.secretKey=xe,this.name="backendKeyData"}};_(E,"BackendKeyDataMessage");var j=E;t.BackendKeyDataMessage=j;var k=class{constructor(G,ae,xe,de){this.length=G,this.processId=ae,this.channel=xe,this.payload=de,this.name="notification"}};_(k,"NotificationResponseMessage");var M=k;t.NotificationResponseMessage=M;var R=class{constructor(G,ae){this.length=G,this.status=ae,this.name="readyForQuery"}};_(R,"ReadyForQueryMessage");var L=R;t.ReadyForQueryMessage=L;var D=class{constructor(G,ae){this.length=G,this.text=ae,this.name="commandComplete"}};_(D,"CommandCompleteMessage");var O=D;t.CommandCompleteMessage=O;var I=class{constructor(G,ae){this.length=G,this.fields=ae,this.name="dataRow",this.fieldCount=ae.length}};_(I,"DataRowMessage");var H=I;t.DataRowMessage=H;var B=class{constructor(G,ae){this.length=G,this.message=ae,this.name="notice"}};_(B,"NoticeMessage");var Z=B;t.NoticeMessage=Z}),hN=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(o=256){this.size=o,this.offset=5,this.headerPosition=0,this.buffer=Me.allocUnsafe(o)}ensure(o){if(this.buffer.length-this.offset<o){let a=this.buffer,l=a.length+(a.length>>1)+o;this.buffer=Me.allocUnsafe(l),a.copy(this.buffer)}}addInt32(o){return this.ensure(4),this.buffer[this.offset++]=o>>>24&255,this.buffer[this.offset++]=o>>>16&255,this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addInt16(o){return this.ensure(2),this.buffer[this.offset++]=o>>>8&255,this.buffer[this.offset++]=o>>>0&255,this}addCString(o){if(!o)this.ensure(1);else{let a=Me.byteLength(o);this.ensure(a+1),this.buffer.write(o,this.offset,"utf-8"),this.offset+=a}return this.buffer[this.offset++]=0,this}addString(o=""){let a=Me.byteLength(o);return this.ensure(a),this.buffer.write(o,this.offset),this.offset+=a,this}add(o){return this.ensure(o.length),o.copy(this.buffer,this.offset),this.offset+=o.length,this}join(o){if(o){this.buffer[this.headerPosition]=o;let a=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(a,this.headerPosition+1)}return this.buffer.slice(o?0:5,this.offset)}flush(o){let a=this.join(o);return this.offset=5,this.headerPosition=0,this.buffer=Me.allocUnsafe(this.size),a}};_(e,"Writer");var n=e;t.Writer=n}),pN=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=hN(),n=new e.Writer,s=_(G=>{n.addInt16(3).addInt16(0);for(let de of Object.keys(G))n.addCString(de).addCString(G[de]);n.addCString("client_encoding").addCString("UTF8");let ae=n.addCString("").flush(),xe=ae.length+4;return new e.Writer().addInt32(xe).add(ae).flush()},"startup"),o=_(()=>{let G=Me.allocUnsafe(8);return G.writeInt32BE(8,0),G.writeInt32BE(80877103,4),G},"requestSsl"),a=_(G=>n.addCString(G).flush(112),"password"),l=_(function(G,ae){return n.addCString(G).addInt32(Me.byteLength(ae)).addString(ae),n.flush(112)},"sendSASLInitialResponseMessage"),c=_(function(G){return n.addString(G).flush(112)},"sendSCRAMClientFinalMessage"),f=_(G=>n.addCString(G).flush(81),"query"),p=[],h=_(G=>{let ae=G.name||"";ae.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",ae,ae.length),console.error("This can cause conflicts and silent errors executing queries"));let xe=G.types||p,de=xe.length,se=n.addCString(ae).addCString(G.text).addInt16(de);for(let ue=0;ue<de;ue++)se.addInt32(xe[ue]);return n.flush(80)},"parse"),g=new e.Writer,y=_(function(G,ae){for(let xe=0;xe<G.length;xe++){let de=ae?ae(G[xe],xe):G[xe];de==null?(n.addInt16(0),g.addInt32(-1)):de instanceof Me?(n.addInt16(1),g.addInt32(de.length),g.add(de)):(n.addInt16(0),g.addInt32(Me.byteLength(de)),g.addString(de))}},"writeValues"),P=_((G={})=>{let ae=G.portal||"",xe=G.statement||"",de=G.binary||!1,se=G.values||p,ue=se.length;return n.addCString(ae).addCString(xe),n.addInt16(ue),y(se,G.valueMapper),n.addInt16(ue),n.add(g.flush()),n.addInt16(de?1:0),n.flush(66)},"bind"),b=Me.from([69,0,0,0,9,0,0,0,0,0]),x=_(G=>{if(!G||!G.portal&&!G.rows)return b;let ae=G.portal||"",xe=G.rows||0,de=Me.byteLength(ae),se=4+de+1+4,ue=Me.allocUnsafe(1+se);return ue[0]=69,ue.writeInt32BE(se,1),ue.write(ae,5,"utf-8"),ue[de+5]=0,ue.writeUInt32BE(xe,ue.length-4),ue},"execute"),C=_((G,ae)=>{let xe=Me.allocUnsafe(16);return xe.writeInt32BE(16,0),xe.writeInt16BE(1234,4),xe.writeInt16BE(5678,6),xe.writeInt32BE(G,8),xe.writeInt32BE(ae,12),xe},"cancel"),E=_((G,ae)=>{let xe=4+Me.byteLength(ae)+1,de=Me.allocUnsafe(1+xe);return de[0]=G,de.writeInt32BE(xe,1),de.write(ae,5,"utf-8"),de[xe]=0,de},"cstringMessage"),j=n.addCString("P").flush(68),k=n.addCString("S").flush(68),M=_(G=>G.name?E(68,`${G.type}${G.name||""}`):G.type==="P"?j:k,"describe"),R=_(G=>{let ae=`${G.type}${G.name||""}`;return E(67,ae)},"close"),L=_(G=>n.add(G).flush(100),"copyData"),D=_(G=>E(102,G),"copyFail"),O=_(G=>Me.from([G,0,0,0,4]),"codeOnlyBuffer"),I=O(72),H=O(83),B=O(88),Z=O(99),re={startup:s,password:a,requestSsl:o,sendSASLInitialResponseMessage:l,sendSCRAMClientFinalMessage:c,query:f,parse:h,bind:P,execute:x,describe:M,close:R,flush:_(()=>I,"flush"),sync:_(()=>H,"sync"),end:_(()=>B,"end"),copyData:L,copyDone:_(()=>Z,"copyDone"),copyFail:D,cancel:C};t.serialize=re}),mN=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=Me.allocUnsafe(0),n=class{constructor(a=0){this.offset=a,this.buffer=e,this.encoding="utf-8"}setBuffer(a,l){this.offset=a,this.buffer=l}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}uint32(){let a=this.buffer.readUInt32BE(this.offset);return this.offset+=4,a}string(a){let l=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,l}cstring(){let a=this.offset,l=a;for(;this.buffer[l++]!==0;);return this.offset=l,this.buffer.toString(this.encoding,a,l-1)}bytes(a){let l=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,l}};_(n,"BufferReader");var s=n;t.BufferReader=s}),gN=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=N1(),n=mN(),s=1,o=4,a=s+o,l=Me.allocUnsafe(0),c=class{constructor(h){if(this.buffer=l,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,h?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=h?.mode||"text"}parse(h,g){this.mergeBuffer(h);let y=this.bufferOffset+this.bufferLength,P=this.bufferOffset;for(;P+a<=y;){let b=this.buffer[P],x=this.buffer.readUInt32BE(P+s),C=s+x;if(C+P<=y){let E=this.handlePacket(P+a,b,x,this.buffer);g(E),P+=C}else break}P===y?(this.buffer=l,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=y-P,this.bufferOffset=P)}mergeBuffer(h){if(this.bufferLength>0){let g=this.bufferLength+h.byteLength;if(g+this.bufferOffset>this.buffer.byteLength){let y;if(g<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)y=this.buffer;else{let P=this.buffer.byteLength*2;for(;g>=P;)P*=2;y=Me.allocUnsafe(P)}this.buffer.copy(y,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=y,this.bufferOffset=0}h.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=g}else this.buffer=h,this.bufferOffset=0,this.bufferLength=h.byteLength}handlePacket(h,g,y,P){switch(g){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(h,y,P);case 67:return this.parseCommandCompleteMessage(h,y,P);case 90:return this.parseReadyForQueryMessage(h,y,P);case 65:return this.parseNotificationMessage(h,y,P);case 82:return this.parseAuthenticationResponse(h,y,P);case 83:return this.parseParameterStatusMessage(h,y,P);case 75:return this.parseBackendKeyData(h,y,P);case 69:return this.parseErrorMessage(h,y,P,"error");case 78:return this.parseErrorMessage(h,y,P,"notice");case 84:return this.parseRowDescriptionMessage(h,y,P);case 116:return this.parseParameterDescriptionMessage(h,y,P);case 71:return this.parseCopyInMessage(h,y,P);case 72:return this.parseCopyOutMessage(h,y,P);case 100:return this.parseCopyData(h,y,P);default:return new e.DatabaseError("received invalid response: "+g.toString(16),y,"error")}}parseReadyForQueryMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.string(1);return new e.ReadyForQueryMessage(g,P)}parseCommandCompleteMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.cstring();return new e.CommandCompleteMessage(g,P)}parseCopyData(h,g,y){let P=y.slice(h,h+(g-4));return new e.CopyDataMessage(g,P)}parseCopyInMessage(h,g,y){return this.parseCopyMessage(h,g,y,"copyInResponse")}parseCopyOutMessage(h,g,y){return this.parseCopyMessage(h,g,y,"copyOutResponse")}parseCopyMessage(h,g,y,P){this.reader.setBuffer(h,y);let b=this.reader.byte()!==0,x=this.reader.int16(),C=new e.CopyResponse(g,P,b,x);for(let E=0;E<x;E++)C.columnTypes[E]=this.reader.int16();return C}parseNotificationMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int32(),b=this.reader.cstring(),x=this.reader.cstring();return new e.NotificationResponseMessage(g,P,b,x)}parseRowDescriptionMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int16(),b=new e.RowDescriptionMessage(g,P);for(let x=0;x<P;x++)b.fields[x]=this.parseField();return b}parseField(){let h=this.reader.cstring(),g=this.reader.uint32(),y=this.reader.int16(),P=this.reader.uint32(),b=this.reader.int16(),x=this.reader.int32(),C=this.reader.int16()===0?"text":"binary";return new e.Field(h,g,y,P,b,x,C)}parseParameterDescriptionMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int16(),b=new e.ParameterDescriptionMessage(g,P);for(let x=0;x<P;x++)b.dataTypeIDs[x]=this.reader.int32();return b}parseDataRowMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int16(),b=new Array(P);for(let x=0;x<P;x++){let C=this.reader.int32();b[x]=C===-1?null:this.reader.string(C)}return new e.DataRowMessage(g,b)}parseParameterStatusMessage(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.cstring(),b=this.reader.cstring();return new e.ParameterStatusMessage(g,P,b)}parseBackendKeyData(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int32(),b=this.reader.int32();return new e.BackendKeyDataMessage(g,P,b)}parseAuthenticationResponse(h,g,y){this.reader.setBuffer(h,y);let P=this.reader.int32(),b={name:"authenticationOk",length:g};switch(P){case 0:break;case 3:b.length===8&&(b.name="authenticationCleartextPassword");break;case 5:if(b.length===12){b.name="authenticationMD5Password";let x=this.reader.bytes(4);return new e.AuthenticationMD5Password(g,x)}break;case 10:{b.name="authenticationSASL",b.mechanisms=[];let x;do x=this.reader.cstring(),x&&b.mechanisms.push(x);while(x)}break;case 11:b.name="authenticationSASLContinue",b.data=this.reader.string(g-8);break;case 12:b.name="authenticationSASLFinal",b.data=this.reader.string(g-8);break;default:throw new Error("Unknown authenticationOk message type "+P)}return b}parseErrorMessage(h,g,y,P){this.reader.setBuffer(h,y);let b={},x=this.reader.string(1);for(;x!=="\0";)b[x]=this.reader.cstring(),x=this.reader.string(1);let C=b.M,E=P==="notice"?new e.NoticeMessage(g,C):new e.DatabaseError(C,g,P);return E.severity=b.S,E.code=b.C,E.detail=b.D,E.hint=b.H,E.position=b.P,E.internalPosition=b.p,E.internalQuery=b.q,E.where=b.W,E.schema=b.s,E.table=b.t,E.column=b.c,E.dataType=b.d,E.constraint=b.n,E.file=b.F,E.line=b.L,E.routine=b.R,E}};_(c,"Parser");var f=c;t.Parser=f}),E1=Ue(t=>{Te(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=N1();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:_(function(){return e.DatabaseError},"get")});var n=pN();Object.defineProperty(t,"serialize",{enumerable:!0,get:_(function(){return n.serialize},"get")});var s=gN();function o(a,l){let c=new s.Parser;return a.on("data",f=>c.parse(f,l)),new Promise(f=>a.on("end",()=>f()))}_(o,"parse"),t.parse=o}),j1={};sr(j1,{connect:()=>k1});function k1({socket:t,servername:e}){return t.startTls(e),t}var yN=vn(()=>{Te(),_(k1,"connect")}),T1=Ue((t,e)=>{Te();var n=(Ra(),Vt(r1)),s=li().EventEmitter,{parse:o,serialize:a}=E1(),l=a.flush(),c=a.sync(),f=a.end(),p=class extends s{constructor(y){super(),y=y||{},this.stream=y.stream||new n.Socket,this._keepAlive=y.keepAlive,this._keepAliveInitialDelayMillis=y.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=y.ssl||!1,this._ending=!1,this._emitMessage=!1;var P=this;this.on("newListener",function(b){b==="message"&&(P._emitMessage=!0)})}connect(y,P){var b=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(y,P),this.stream.once("connect",function(){b._keepAlive&&b.stream.setKeepAlive(!0,b._keepAliveInitialDelayMillis),b.emit("connect")});let x=_(function(C){b._ending&&(C.code==="ECONNRESET"||C.code==="EPIPE")||b.emit("error",C)},"reportStreamError");if(this.stream.on("error",x),this.stream.on("close",function(){b.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(C){var E=C.toString("utf8");switch(E){case"S":break;case"N":return b.stream.end(),b.emit("error",new Error("The server does not support SSL connections"));default:return b.stream.end(),b.emit("error",new Error("There was an error establishing an SSL connection"))}var j=(yN(),Vt(j1));let k={socket:b.stream};b.ssl!==!0&&(Object.assign(k,b.ssl),"key"in b.ssl&&(k.key=b.ssl.key)),n.isIP(P)===0&&(k.servername=P);try{b.stream=j.connect(k)}catch(M){return b.emit("error",M)}b.attachListeners(b.stream),b.stream.on("error",x),b.emit("sslconnect")})}attachListeners(y){y.on("end",()=>{this.emit("end")}),o(y,P=>{var b=P.name==="error"?"errorMessage":P.name;this._emitMessage&&this.emit("message",P),this.emit(b,P)})}requestSsl(){this.stream.write(a.requestSsl())}startup(y){this.stream.write(a.startup(y))}cancel(y,P){this._send(a.cancel(y,P))}password(y){this._send(a.password(y))}sendSASLInitialResponseMessage(y,P){this._send(a.sendSASLInitialResponseMessage(y,P))}sendSCRAMClientFinalMessage(y){this._send(a.sendSCRAMClientFinalMessage(y))}_send(y){return this.stream.writable?this.stream.write(y):!1}query(y){this._send(a.query(y))}parse(y){this._send(a.parse(y))}bind(y){this._send(a.bind(y))}execute(y){this._send(a.execute(y))}flush(){this.stream.writable&&this.stream.write(l)}sync(){this._ending=!0,this._send(l),this._send(c)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(f,()=>{this.stream.end()})}close(y){this._send(a.close(y))}describe(y){this._send(a.describe(y))}sendCopyFromChunk(y){this._send(a.copyData(y))}endCopyFrom(){this._send(a.copyDone())}sendCopyFail(y){this._send(a.copyFail(y))}};_(p,"Connection");var h=p;e.exports=h}),xN=Ue((t,e)=>{Te();var n=li().EventEmitter;ec(),Vt(Da);var s=Zu(),o=sN(),a=lN(),l=Yh(),c=tp(),f=dN(),p=Xu(),h=T1(),g=class extends n{constructor(b){super(),this.connectionParameters=new c(b),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var x=b||{};this._Promise=x.Promise||Yu.Promise,this._types=new l(x.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=x.connection||new h({stream:x.stream,ssl:this.connectionParameters.ssl,keepAlive:x.keepAlive||!1,keepAliveInitialDelayMillis:x.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=x.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=x.connectionTimeoutMillis||0}_errorAllQueries(b){let x=_(C=>{$e.nextTick(()=>{C.handleError(b,this.connection)})},"enqueueError");this.activeQuery&&(x(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(x),this.queryQueue.length=0}_connect(b){var x=this,C=this.connection;if(this._connectionCallback=b,this._connecting||this._connected){let E=new Error("Client has already been connected. You cannot reuse a client.");$e.nextTick(()=>{b(E)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{C._ending=!0,C.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?C.connect(this.host+"/.s.PGSQL."+this.port):C.connect(this.port,this.host),C.on("connect",function(){x.ssl?C.requestSsl():C.startup(x.getStartupConf())}),C.on("sslconnect",function(){C.startup(x.getStartupConf())}),this._attachListeners(C),C.once("end",()=>{let E=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(E),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(E):this._handleErrorEvent(E):this._connectionError||this._handleErrorEvent(E)),$e.nextTick(()=>{this.emit("end")})})}connect(b){if(b){this._connect(b);return}return new this._Promise((x,C)=>{this._connect(E=>{E?C(E):x()})})}_attachListeners(b){b.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),b.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),b.on("authenticationSASL",this._handleAuthSASL.bind(this)),b.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),b.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),b.on("backendKeyData",this._handleBackendKeyData.bind(this)),b.on("error",this._handleErrorEvent.bind(this)),b.on("errorMessage",this._handleErrorMessage.bind(this)),b.on("readyForQuery",this._handleReadyForQuery.bind(this)),b.on("notice",this._handleNotice.bind(this)),b.on("rowDescription",this._handleRowDescription.bind(this)),b.on("dataRow",this._handleDataRow.bind(this)),b.on("portalSuspended",this._handlePortalSuspended.bind(this)),b.on("emptyQuery",this._handleEmptyQuery.bind(this)),b.on("commandComplete",this._handleCommandComplete.bind(this)),b.on("parseComplete",this._handleParseComplete.bind(this)),b.on("copyInResponse",this._handleCopyInResponse.bind(this)),b.on("copyData",this._handleCopyData.bind(this)),b.on("notification",this._handleNotification.bind(this))}_checkPgPass(b){let x=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(C=>{if(C!==void 0){if(typeof C!="string"){x.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=C}else this.connectionParameters.password=this.password=null;b()}).catch(C=>{x.emit("error",C)}):this.password!==null?b():a(this.connectionParameters,C=>{C!==void 0&&(this.connectionParameters.password=this.password=C),b()})}_handleAuthCleartextPassword(b){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(b){this._checkPgPass(()=>{let x=s.postgresMd5PasswordHash(this.user,this.password,b.salt);this.connection.password(x)})}_handleAuthSASL(b){this._checkPgPass(()=>{this.saslSession=o.startSession(b.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(b){o.continueSession(this.saslSession,this.password,b.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(b){o.finalizeSession(this.saslSession,b.data),this.saslSession=null}_handleBackendKeyData(b){this.processID=b.processID,this.secretKey=b.secretKey}_handleReadyForQuery(b){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:x}=this;this.activeQuery=null,this.readyForQuery=!0,x&&x.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(b){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(b);this.emit("error",b)}}_handleErrorEvent(b){if(this._connecting)return this._handleErrorWhileConnecting(b);this._queryable=!1,this._errorAllQueries(b),this.emit("error",b)}_handleErrorMessage(b){if(this._connecting)return this._handleErrorWhileConnecting(b);let x=this.activeQuery;if(!x){this._handleErrorEvent(b);return}this.activeQuery=null,x.handleError(b,this.connection)}_handleRowDescription(b){this.activeQuery.handleRowDescription(b)}_handleDataRow(b){this.activeQuery.handleDataRow(b)}_handlePortalSuspended(b){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(b){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(b){this.activeQuery.handleCommandComplete(b,this.connection)}_handleParseComplete(b){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(b){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(b){this.activeQuery.handleCopyData(b,this.connection)}_handleNotification(b){this.emit("notification",b)}_handleNotice(b){this.emit("notice",b)}getStartupConf(){var b=this.connectionParameters,x={user:b.user,database:b.database},C=b.application_name||b.fallback_application_name;return C&&(x.application_name=C),b.replication&&(x.replication=""+b.replication),b.statement_timeout&&(x.statement_timeout=String(parseInt(b.statement_timeout,10))),b.lock_timeout&&(x.lock_timeout=String(parseInt(b.lock_timeout,10))),b.idle_in_transaction_session_timeout&&(x.idle_in_transaction_session_timeout=String(parseInt(b.idle_in_transaction_session_timeout,10))),b.options&&(x.options=b.options),x}cancel(b,x){if(b.activeQuery===x){var C=this.connection;this.host&&this.host.indexOf("/")===0?C.connect(this.host+"/.s.PGSQL."+this.port):C.connect(this.port,this.host),C.on("connect",function(){C.cancel(b.processID,b.secretKey)})}else b.queryQueue.indexOf(x)!==-1&&b.queryQueue.splice(b.queryQueue.indexOf(x),1)}setTypeParser(b,x,C){return this._types.setTypeParser(b,x,C)}getTypeParser(b,x){return this._types.getTypeParser(b,x)}escapeIdentifier(b){return'"'+b.replace(/"/g,'""')+'"'}escapeLiteral(b){for(var x=!1,C="'",E=0;E<b.length;E++){var j=b[E];j==="'"?C+=j+j:j==="\\"?(C+=j+j,x=!0):C+=j}return C+="'",x===!0&&(C=" E"+C),C}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let b=this.activeQuery.submit(this.connection);b&&$e.nextTick(()=>{this.activeQuery.handleError(b,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(b,x,C){var E,j,k,M,R;if(b==null)throw new TypeError("Client was passed a null or undefined query");return typeof b.submit=="function"?(k=b.query_timeout||this.connectionParameters.query_timeout,j=E=b,typeof x=="function"&&(E.callback=E.callback||x)):(k=this.connectionParameters.query_timeout,E=new f(b,x,C),E.callback||(j=new this._Promise((L,D)=>{E.callback=(O,I)=>O?D(O):L(I)}))),k&&(R=E.callback,M=setTimeout(()=>{var L=new Error("Query read timeout");$e.nextTick(()=>{E.handleError(L,this.connection)}),R(L),E.callback=()=>{};var D=this.queryQueue.indexOf(E);D>-1&&this.queryQueue.splice(D,1),this._pulseQueryQueue()},k),E.callback=(L,D)=>{clearTimeout(M),R(L,D)}),this.binary&&!E.binary&&(E.binary=!0),E._result&&!E._result._types&&(E._result._types=this._types),this._queryable?this._ending?($e.nextTick(()=>{E.handleError(new Error("Client was closed and is not queryable"),this.connection)}),j):(this.queryQueue.push(E),this._pulseQueryQueue(),j):($e.nextTick(()=>{E.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),j)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(b){if(this._ending=!0,!this.connection._connecting)if(b)b();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),b)this.connection.once("end",b);else return new this._Promise(x=>{this.connection.once("end",x)})}};_(g,"Client");var y=g;y.Query=f,e.exports=y}),vN=Ue((t,e)=>{Te();var n=li().EventEmitter,s=_(function(){},"NOOP"),o=_((b,x)=>{let C=b.findIndex(x);return C===-1?void 0:b.splice(C,1)[0]},"removeWhere"),a=class{constructor(x,C,E){this.client=x,this.idleListener=C,this.timeoutId=E}};_(a,"IdleItem");var l=a,c=class{constructor(x){this.callback=x}};_(c,"PendingItem");var f=c;function p(){throw new Error("Release called on client which has already been released to the pool.")}_(p,"throwOnDoubleRelease");function h(b,x){if(x)return{callback:x,result:void 0};let C,E,j=_(function(M,R){M?C(M):E(R)},"cb"),k=new b(function(M,R){E=M,C=R}).catch(M=>{throw Error.captureStackTrace(M),M});return{callback:j,result:k}}_(h,"promisify");function g(b,x){return _(function C(E){E.client=x,x.removeListener("error",C),x.on("error",()=>{b.log("additional client error after disconnection due to error",E)}),b._remove(x),b.emit("error",E,x)},"idleListener")}_(g,"makeIdleListener");var y=class extends n{constructor(x,C){super(),this.options=Object.assign({},x),x!=null&&"password"in x&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:x.password}),x!=null&&x.ssl&&x.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||C||tc().Client,this.Promise=this.options.Promise||Yu.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(C=>{this._remove(C.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let x=this._pendingQueue.shift();if(this._idle.length){let C=this._idle.pop();clearTimeout(C.timeoutId);let E=C.client;E.ref&&E.ref();let j=C.idleListener;return this._acquireClient(E,x,j,!1)}if(!this._isFull())return this.newClient(x);throw new Error("unexpected condition")}_remove(x){let C=o(this._idle,E=>E.client===x);C!==void 0&&clearTimeout(C.timeoutId),this._clients=this._clients.filter(E=>E!==x),x.end(),this.emit("remove",x)}connect(x){if(this.ending){let j=new Error("Cannot use a pool after calling end on the pool");return x?x(j):this.Promise.reject(j)}let C=h(this.Promise,x),E=C.result;if(this._isFull()||this._idle.length){if(this._idle.length&&$e.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new f(C.callback)),E;let j=_((R,L,D)=>{clearTimeout(M),C.callback(R,L,D)},"queueCallback"),k=new f(j),M=setTimeout(()=>{o(this._pendingQueue,R=>R.callback===j),k.timedOut=!0,C.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return M.unref&&M.unref(),this._pendingQueue.push(k),E}return this.newClient(new f(C.callback)),E}newClient(x){let C=new this.Client(this.options);this._clients.push(C);let E=g(this,C);this.log("checking client timeout");let j,k=!1;this.options.connectionTimeoutMillis&&(j=setTimeout(()=>{this.log("ending client due to timeout"),k=!0,C.connection?C.connection.stream.destroy():C.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),C.connect(M=>{if(j&&clearTimeout(j),C.on("error",E),M)this.log("client failed to connect",M),this._clients=this._clients.filter(R=>R!==C),k&&(M=new Error("Connection terminated due to connection timeout",{cause:M})),this._pulseQueue(),x.timedOut||x.callback(M,void 0,s);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let R=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(C),this._idle.findIndex(L=>L.client===C)!==-1&&this._acquireClient(C,new f((L,D,O)=>O()),E,!1)},this.options.maxLifetimeSeconds*1e3);R.unref(),C.once("end",()=>clearTimeout(R))}return this._acquireClient(C,x,E,!0)}})}_acquireClient(x,C,E,j){j&&this.emit("connect",x),this.emit("acquire",x),x.release=this._releaseOnce(x,E),x.removeListener("error",E),C.timedOut?j&&this.options.verify?this.options.verify(x,x.release):x.release():j&&this.options.verify?this.options.verify(x,k=>{if(k)return x.release(k),C.callback(k,void 0,s);C.callback(void 0,x,x.release)}):C.callback(void 0,x,x.release)}_releaseOnce(x,C){let E=!1;return j=>{E&&p(),E=!0,this._release(x,C,j)}}_release(x,C,E){if(x.on("error",C),x._poolUseCount=(x._poolUseCount||0)+1,this.emit("release",E,x),E||this.ending||!x._queryable||x._ending||x._poolUseCount>=this.options.maxUses){x._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(x),this._pulseQueue();return}if(this._expired.has(x)){this.log("remove expired client"),this._expired.delete(x),this._remove(x),this._pulseQueue();return}let j;this.options.idleTimeoutMillis&&this._isAboveMin()&&(j=setTimeout(()=>{this.log("remove idle client"),this._remove(x)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&j.unref()),this.options.allowExitOnIdle&&x.unref(),this._idle.push(new l(x,C,j)),this._pulseQueue()}query(x,C,E){if(typeof x=="function"){let k=h(this.Promise,x);return Kh(function(){return k.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),k.result}typeof C=="function"&&(E=C,C=void 0);let j=h(this.Promise,E);return E=j.callback,this.connect((k,M)=>{if(k)return E(k);let R=!1,L=_(D=>{R||(R=!0,M.release(D),E(D))},"onError");M.once("error",L),this.log("dispatching query");try{M.query(x,C,(D,O)=>{if(this.log("query dispatched"),M.removeListener("error",L),!R)return R=!0,M.release(D),D?E(D):E(void 0,O)})}catch(D){return M.release(D),E(D)}}),j.result}end(x){if(this.log("ending"),this.ending){let E=new Error("Called end on pool more than once");return x?x(E):this.Promise.reject(E)}this.ending=!0;let C=h(this.Promise,x);return this._endCallback=C.callback,this._pulseQueue(),C.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((x,C)=>x+(this._expired.has(C)?1:0),0)}get totalCount(){return this._clients.length}};_(y,"Pool");var P=y;e.exports=P}),A1={};sr(A1,{default:()=>_1});var _1,bN=vn(()=>{Te(),_1={}}),wN=Ue((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),SN=Ue((t,e)=>{Te();var n=li().EventEmitter,s=(ec(),Vt(Da)),o=Zu(),a=e.exports=function(c,f,p){n.call(this),c=o.normalizeQueryConfig(c,f,p),this.text=c.text,this.values=c.values,this.name=c.name,this.callback=c.callback,this.state="new",this._arrayMode=c.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(h){h==="row"&&(this._emitRowEvents=!0)}).bind(this))};s.inherits(a,n);var l={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};a.prototype.handleError=function(c){var f=this.native.pq.resultErrorFields();if(f)for(var p in f){var h=l[p]||p;c[h]=f[p]}this.callback?this.callback(c):this.emit("error",c),this.state="error"},a.prototype.then=function(c,f){return this._getPromise().then(c,f)},a.prototype.catch=function(c){return this._getPromise().catch(c)},a.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(c,f){this._once("end",c),this._once("error",f)}).bind(this)),this._promise)},a.prototype.submit=function(c){this.state="running";var f=this;this.native=c.native,c.native.arrayMode=this._arrayMode;var p=_(function(y,P,b){if(c.native.arrayMode=!1,Kh(function(){f.emit("_done")}),y)return f.handleError(y);f._emitRowEvents&&(b.length>1?P.forEach((x,C)=>{x.forEach(E=>{f.emit("row",E,b[C])})}):P.forEach(function(x){f.emit("row",x,b)})),f.state="end",f.emit("end",b),f.callback&&f.callback(null,b)},"after");if($e.domain&&(p=$e.domain.bind(p)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var h=(this.values||[]).map(o.prepareValue);if(c.namedQueries[this.name]){if(this.text&&c.namedQueries[this.name]!==this.text){let y=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return p(y)}return c.native.execute(this.name,h,p)}return c.native.prepare(this.name,this.text,h.length,function(y){return y?p(y):(c.namedQueries[f.name]=f.text,f.native.execute(f.name,h,p))})}else if(this.values){if(!Array.isArray(this.values)){let y=new Error("Query values must be an array");return p(y)}var g=this.values.map(o.prepareValue);c.native.query(this.text,g,p)}else c.native.query(this.text,p)}}),CN=Ue((t,e)=>{Te();var n=(bN(),Vt(A1)),s=Yh();wN();var o=li().EventEmitter,a=(ec(),Vt(Da)),l=tp(),c=SN(),f=e.exports=function(p){o.call(this),p=p||{},this._Promise=p.Promise||Yu.Promise,this._types=new s(p.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var h=this.connectionParameters=new l(p);this.user=h.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),this.database=h.database,this.host=h.host,this.port=h.port,this.namedQueries={}};f.Query=c,a.inherits(f,o),f.prototype._errorAllQueries=function(p){let h=_(g=>{$e.nextTick(()=>{g.native=this.native,g.handleError(p)})},"enqueueError");this._hasActiveQuery()&&(h(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(h),this._queryQueue.length=0},f.prototype._connect=function(p){var h=this;if(this._connecting){$e.nextTick(()=>p(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(g,y){if(g)return p(g);h.native.connect(y,function(P){if(P)return h.native.end(),p(P);h._connected=!0,h.native.on("error",function(b){h._queryable=!1,h._errorAllQueries(b),h.emit("error",b)}),h.native.on("notification",function(b){h.emit("notification",{channel:b.relname,payload:b.extra})}),h.emit("connect"),h._pulseQueryQueue(!0),p()})})},f.prototype.connect=function(p){if(p){this._connect(p);return}return new this._Promise((h,g)=>{this._connect(y=>{y?g(y):h()})})},f.prototype.query=function(p,h,g){var y,P,b,x,C;if(p==null)throw new TypeError("Client was passed a null or undefined query");if(typeof p.submit=="function")b=p.query_timeout||this.connectionParameters.query_timeout,P=y=p,typeof h=="function"&&(p.callback=h);else if(b=this.connectionParameters.query_timeout,y=new c(p,h,g),!y.callback){let E,j;P=new this._Promise((k,M)=>{E=k,j=M}),y.callback=(k,M)=>k?j(k):E(M)}return b&&(C=y.callback,x=setTimeout(()=>{var E=new Error("Query read timeout");$e.nextTick(()=>{y.handleError(E,this.connection)}),C(E),y.callback=()=>{};var j=this._queryQueue.indexOf(y);j>-1&&this._queryQueue.splice(j,1),this._pulseQueryQueue()},b),y.callback=(E,j)=>{clearTimeout(x),C(E,j)}),this._queryable?this._ending?(y.native=this.native,$e.nextTick(()=>{y.handleError(new Error("Client was closed and is not queryable"))}),P):(this._queryQueue.push(y),this._pulseQueryQueue(),P):(y.native=this.native,$e.nextTick(()=>{y.handleError(new Error("Client has encountered a connection error and is not queryable"))}),P)},f.prototype.end=function(p){var h=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,p));var g;return p||(g=new this._Promise(function(y,P){p=_(b=>b?P(b):y(),"cb")})),this.native.end(function(){h._errorAllQueries(new Error("Connection terminated")),$e.nextTick(()=>{h.emit("end"),p&&p()})}),g},f.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},f.prototype._pulseQueryQueue=function(p){if(this._connected&&!this._hasActiveQuery()){var h=this._queryQueue.shift();if(!h){p||this.emit("drain");return}this._activeQuery=h,h.submit(this);var g=this;h.once("_done",function(){g._pulseQueryQueue()})}},f.prototype.cancel=function(p){this._activeQuery===p?this.native.cancel(function(){}):this._queryQueue.indexOf(p)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(p),1)},f.prototype.ref=function(){},f.prototype.unref=function(){},f.prototype.setTypeParser=function(p,h,g){return this._types.setTypeParser(p,h,g)},f.prototype.getTypeParser=function(p,h){return this._types.getTypeParser(p,h)}}),ky=Ue((t,e)=>{Te(),e.exports=CN()}),tc=Ue((t,e)=>{Te();var n=xN(),s=Xu(),o=T1(),a=vN(),{DatabaseError:l}=E1(),c=_(p=>{var h;return h=class extends a{constructor(g){super(g,p)}},_(h,"BoundPool"),h},"poolFactory"),f=_(function(p){this.defaults=s,this.Client=p,this.Query=this.Client.Query,this.Pool=c(this.Client),this._pools=[],this.Connection=o,this.types=Ju(),this.DatabaseError=l},"PG");typeof $e.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new f(ky()):(e.exports=new f(n),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var p=null;try{p=new f(ky())}catch(h){if(h.code!=="MODULE_NOT_FOUND")throw h}return Object.defineProperty(e.exports,"native",{value:p}),p}}))});Te();Te();Ra();o1();Te();var PN=Object.defineProperty,NN=Object.defineProperties,EN=Object.getOwnPropertyDescriptors,Ty=Object.getOwnPropertySymbols,jN=Object.prototype.hasOwnProperty,kN=Object.prototype.propertyIsEnumerable,Ay=_((t,e,n)=>e in t?PN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"__defNormalProp"),TN=_((t,e)=>{for(var n in e||(e={}))jN.call(e,n)&&Ay(t,n,e[n]);if(Ty)for(var n of Ty(e))kN.call(e,n)&&Ay(t,n,e[n]);return t},"__spreadValues"),AN=_((t,e)=>NN(t,EN(e)),"__spreadProps"),_N=1008e3,_y=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,LN=new TextDecoder,np=new TextEncoder,Jl=np.encode("0123456789abcdef"),Xl=np.encode("0123456789ABCDEF"),RN=np.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),L1=RN.slice();L1[62]=45;L1[63]=95;var Yo,Zl;function R1(t,{alphabet:e,scratchArr:n}={}){if(!Yo)if(Yo=new Uint16Array(256),Zl=new Uint16Array(256),_y)for(let P=0;P<256;P++)Yo[P]=Jl[P&15]<<8|Jl[P>>>4],Zl[P]=Xl[P&15]<<8|Xl[P>>>4];else for(let P=0;P<256;P++)Yo[P]=Jl[P&15]|Jl[P>>>4]<<8,Zl[P]=Xl[P&15]|Xl[P>>>4]<<8;t.byteOffset%4!==0&&(t=new Uint8Array(t));let s=t.length,o=s>>>1,a=s>>>2,l=n||new Uint16Array(s),c=new Uint32Array(t.buffer,t.byteOffset,a),f=new Uint32Array(l.buffer,l.byteOffset,o),p=e==="upper"?Zl:Yo,h=0,g=0,y;if(_y)for(;h<a;)y=c[h++],f[g++]=p[y>>>8&255]<<16|p[y&255],f[g++]=p[y>>>24]<<16|p[y>>>16&255];else for(;h<a;)y=c[h++],f[g++]=p[y>>>24]<<16|p[y>>>16&255],f[g++]=p[y>>>8&255]<<16|p[y&255];for(h<<=2;h<s;)l[h]=p[t[h++]];return LN.decode(l.subarray(0,s))}_(R1,"_toHex");function D1(t,e={}){let n="",s=t.length,o=_N>>>1,a=Math.ceil(s/o),l=new Uint16Array(a>1?o:s);for(let c=0;c<a;c++){let f=c*o,p=f+o;n+=R1(t.subarray(f,p),AN(TN({},e),{scratchArr:l}))}return n}_(D1,"_toHexChunked");function I1(t,e={}){return e.alphabet!=="upper"&&typeof t.toHex=="function"?t.toHex():D1(t,e)}_(I1,"toHex");Te();var M1=class O1{constructor(e,n){this.strings=e,this.values=n}toParameterizedQuery(e={query:"",params:[]}){let{strings:n,values:s}=this;for(let o=0,a=n.length;o<a;o++)if(e.query+=n[o],o<s.length){let l=s[o];if(l instanceof V1)e.query+=l.sql;else if(l instanceof ou)if(l.queryData instanceof O1)l.queryData.toParameterizedQuery(e);else{if(l.queryData.params?.length)throw new Error("This query is not composable");e.query+=l.queryData.query}else{let{params:c}=e;c.push(l),e.query+="$"+c.length,(l instanceof Me||ArrayBuffer.isView(l))&&(e.query+="::bytea")}}return e}};_(M1,"SqlTemplate");var F1=M1,B1=class{constructor(e){this.sql=e}};_(B1,"UnsafeRawSql");var V1=B1;Te();function rp(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}_(rp,"warnIfBrowser");Ra();var DN=ai(Yh()),IN=ai(Zu()),$1=class U1 extends Error{constructor(e){super(e),Fe(this,"name","NeonDbError"),Fe(this,"severity"),Fe(this,"code"),Fe(this,"detail"),Fe(this,"hint"),Fe(this,"position"),Fe(this,"internalPosition"),Fe(this,"internalQuery"),Fe(this,"where"),Fe(this,"schema"),Fe(this,"table"),Fe(this,"column"),Fe(this,"dataType"),Fe(this,"constraint"),Fe(this,"file"),Fe(this,"line"),Fe(this,"routine"),Fe(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,U1)}};_($1,"NeonDbError");var $i=$1,Ly="transaction() expects an array of queries, or a function returning an array of queries",MN=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function z1(t){return t instanceof Me?"\\x"+I1(t):t}_(z1,"encodeBuffersAsBytea");function th(t){let{query:e,params:n}=t instanceof F1?t.toParameterizedQuery():t;return{query:e,params:n.map(s=>z1((0,IN.prepareValue)(s)))}}_(th,"prepareQuery");function Gi(t,{arrayMode:e,fullResults:n,fetchOptions:s,isolationLevel:o,readOnly:a,deferrable:l,authToken:c,disableWarningInBrowsers:f}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let p;try{p=Gh(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:h,username:g,hostname:y,port:P,pathname:b}=p;if(h!=="postgres:"&&h!=="postgresql:"||!g||!y||!b)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function x(E,...j){if(!(Array.isArray(E)&&Array.isArray(E.raw)&&Array.isArray(j)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new ou(C,new F1(E,j))}_(x,"templateFn"),x.query=(E,j,k)=>new ou(C,{query:E,params:j??[]},k),x.unsafe=E=>new V1(E),x.transaction=async(E,j)=>{if(typeof E=="function"&&(E=E(x)),!Array.isArray(E))throw new Error(Ly);E.forEach(R=>{if(!(R instanceof ou))throw new Error(Ly)});let k=E.map(R=>R.queryData),M=E.map(R=>R.opts??{});return C(k,M,j)};async function C(E,j,k){let{fetchEndpoint:M,fetchFunction:R}=ba,L=Array.isArray(E)?{queries:E.map(se=>th(se))}:th(E),D=s??{},O=e??!1,I=n??!1,H=o,B=a,Z=l;k!==void 0&&(k.fetchOptions!==void 0&&(D={...D,...k.fetchOptions}),k.arrayMode!==void 0&&(O=k.arrayMode),k.fullResults!==void 0&&(I=k.fullResults),k.isolationLevel!==void 0&&(H=k.isolationLevel),k.readOnly!==void 0&&(B=k.readOnly),k.deferrable!==void 0&&(Z=k.deferrable)),j!==void 0&&!Array.isArray(j)&&j.fetchOptions!==void 0&&(D={...D,...j.fetchOptions});let re=c;!Array.isArray(j)&&j?.authToken!==void 0&&(re=j.authToken);let G=typeof M=="function"?M(y,P,{jwtAuth:re!==void 0}):M,ae={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},xe=await Q1(re);xe&&(ae.Authorization=`Bearer ${xe}`),Array.isArray(E)&&(H!==void 0&&(ae["Neon-Batch-Isolation-Level"]=H),B!==void 0&&(ae["Neon-Batch-Read-Only"]=String(B)),Z!==void 0&&(ae["Neon-Batch-Deferrable"]=String(Z))),f||ba.disableWarningInBrowsers||rp();let de;try{de=await(R??fetch)(G,{method:"POST",body:JSON.stringify(L),headers:ae,...D})}catch(se){let ue=new $i(`Error connecting to database: ${se}`);throw ue.sourceError=se,ue}if(de.ok){let se=await de.json();if(Array.isArray(E)){let ue=se.results;if(!Array.isArray(ue))throw new $i("Neon internal error: unexpected result format");return ue.map((ye,q)=>{let oe=j[q]??{},De=oe.arrayMode??O,Ve=oe.fullResults??I;return nh(ye,{arrayMode:De,fullResults:Ve,types:oe.types})})}else{let ue=j??{},ye=ue.arrayMode??O,q=ue.fullResults??I;return nh(se,{arrayMode:ye,fullResults:q,types:ue.types})}}else{let{status:se}=de;if(se===400){let ue=await de.json(),ye=new $i(ue.message);for(let q of MN)ye[q]=ue[q]??void 0;throw ye}else{let ue=await de.text();throw new $i(`Server error (HTTP status ${se}): ${ue}`)}}}return _(C,"execute"),x}_(Gi,"neon");var q1=class{constructor(e,n,s){this.execute=e,this.queryData=n,this.opts=s}then(e,n){return this.execute(this.queryData,this.opts).then(e,n)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(this.queryData,this.opts).finally(e)}};_(q1,"NeonQueryPromise");var ou=q1;function nh(t,{arrayMode:e,fullResults:n,types:s}){let o=new DN.default(s),a=t.fields.map(f=>f.name),l=t.fields.map(f=>o.getTypeParser(f.dataTypeID)),c=e===!0?t.rows.map(f=>f.map((p,h)=>p===null?null:l[h](p))):t.rows.map(f=>Object.fromEntries(f.map((p,h)=>[a[h],p===null?null:l[h](p)])));return n?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=c,t._parsers=l,t._types=o,t):c}_(nh,"processQueryResult");async function Q1(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let n=new $i("Error getting auth token.");throw e instanceof Error&&(n=new $i(`Error getting auth token: ${e.message}`)),n}}_(Q1,"getAuthToken");Te();var ON=ai(tc());Te();var FN=ai(tc()),W1=class extends FN.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let s=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||$e.env.PGHOST!==void 0,o=$e.env.USER??$e.env.USERNAME;if(!s&&this.host==="localhost"&&this.user===o&&this.database===o&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${o}, db: ${o}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let a=super.connect(e),l=n.pipelineTLS&&this.ssl,c=n.pipelineConnect==="password";if(!l&&!n.pipelineConnect)return a;let f=this.connection;if(l&&f.on("connect",()=>f.stream.emit("data","S")),c){f.removeAllListeners("authenticationCleartextPassword"),f.removeAllListeners("readyForQuery"),f.once("readyForQuery",()=>f.on("readyForQuery",this._handleReadyForQuery.bind(this)));let p=this.ssl?"sslconnect":"connect";f.on(p,()=>{this.neonConfig.disableWarningInBrowsers||rp(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return a}async _handleAuthSASLContinue(e){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let n=crypto.subtle,s=this.saslSession,o=this.password,a=e.data;if(s.message!=="SASLInitialResponse"||typeof o!="string"||typeof a!="string")throw new Error("SASL: protocol error");let l=Object.fromEntries(a.split(",").map(se=>{if(!/^.=/.test(se))throw new Error("SASL: Invalid attribute pair entry");let ue=se[0],ye=se.substring(2);return[ue,ye]})),c=l.r,f=l.s,p=l.i;if(!c||!/^[!-+--~]+$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!f||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(f))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!p||!/^[1-9][0-9]*$/.test(p))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!c.startsWith(s.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(c.length===s.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let h=parseInt(p,10),g=Me.from(f,"base64"),y=new TextEncoder,P=y.encode(o),b=await n.importKey("raw",P,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),x=new Uint8Array(await n.sign("HMAC",b,Me.concat([g,Me.from([0,0,0,1])]))),C=x;for(var E=0;E<h-1;E++)x=new Uint8Array(await n.sign("HMAC",b,x)),C=Me.from(C.map((se,ue)=>C[ue]^x[ue]));let j=C,k=await n.importKey("raw",j,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),M=new Uint8Array(await n.sign("HMAC",k,y.encode("Client Key"))),R=await n.digest("SHA-256",M),L="n=*,r="+s.clientNonce,D="r="+c+",s="+f+",i="+h,O="c=biws,r="+c,I=L+","+D+","+O,H=await n.importKey("raw",R,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var B=new Uint8Array(await n.sign("HMAC",H,y.encode(I))),Z=Me.from(M.map((se,ue)=>M[ue]^B[ue])),re=Z.toString("base64");let G=await n.importKey("raw",j,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ae=await n.sign("HMAC",G,y.encode("Server Key")),xe=await n.importKey("raw",ae,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var de=Me.from(await n.sign("HMAC",xe,y.encode(I)));s.message="SASLResponse",s.serverSignature=de.toString("base64"),s.response=O+",p="+re,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};_(W1,"NeonClient");var BN=W1;Ra();var VN=ai(tp());function H1(t,e){if(e)return{callback:e,result:void 0};let n,s,o=_(function(l,c){l?n(l):s(c)},"cb"),a=new t(function(l,c){s=l,n=c});return{callback:o,result:a}}_(H1,"promisify");var $N=class extends ON.Pool{constructor(){super(...arguments),Fe(this,"Client",BN),Fe(this,"hasFetchUnsupportedListeners",!1),Fe(this,"addListener",this.on)}on(e,n){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,n)}query(e,n,s){if(!ba.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,n,s);typeof n=="function"&&(s=n,n=void 0);let o=H1(this.Promise,s);s=o.callback;try{let a=new VN.default(this.options),l=encodeURIComponent,c=encodeURI,f=`postgresql://${l(a.user)}:${l(a.password)}@${l(a.host)}/${c(a.database)}`,p=typeof e=="string"?e:e.text,h=n??e.values??[];Gi(f,{fullResults:!0,arrayMode:e.rowMode==="array"}).query(p,h,{types:e.types??this.options?.types}).then(g=>s(void 0,g)).catch(g=>s(g))}catch(a){s(a)}return o.result}};_($N,"NeonPool");Ra();var Ia=ai(tc());Ia.DatabaseError;Ia.defaults;Ia.escapeIdentifier;Ia.escapeLiteral;var Nn=Ia.types;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/const ee=Symbol.for("drizzle:entityKind");function le(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ee))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ee in n&&n[ee]===e[ee])return!0;n=Object.getPrototypeOf(n)}return!1}class UN{static[ee]="ConsoleLogWriter";write(e){console.log(e)}}class zN{static[ee]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new UN}logQuery(e,n){const s=n.map(a=>{try{return JSON.stringify(a)}catch{return String(a)}}),o=s.length?` -- params: [${s.join(", ")}]`:"";this.writer.write(`Query: ${e}${o}`)}}class qN{static[ee]="NoopLogger";logQuery(){}}class ui{static[ee]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}then(e,n){return this.execute().then(e,n)}}class Bt{constructor(e,n){this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class QN{static[ee]="ColumnBuilder";config;constructor(e,n,s){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const xs=Symbol.for("drizzle:Name");class WN{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,n){this.reference=()=>{const{name:s,columns:o,foreignColumns:a}=e();return{name:s,columns:o,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new HN(e,this)}}class HN{constructor(e,n){this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:n,foreignColumns:s}=this.reference(),o=n.map(c=>c.name),a=s.map(c=>c.name),l=[this.table[xs],...o,s[0].table[xs],...a];return e??`${l.join("_")}_fk`}}function KN(t,...e){return t(...e)}function GN(t,e){return`${t[xs]}_${e.join("_")}_unique`}function Ry(t,e,n){for(let s=e;s<t.length;s++){const o=t[s];if(o==="\\"){s++;continue}if(o==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!n&&(o===","||o==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function K1(t,e=0){const n=[];let s=e,o=!1;for(;s<t.length;){const a=t[s];if(a===","){(o||s===e)&&n.push(""),o=!0,s++;continue}if(o=!1,a==="\\"){s+=2;continue}if(a==='"'){const[f,p]=Ry(t,s+1,!0);n.push(f),s=p;continue}if(a==="}")return[n,s+1];if(a==="{"){const[f,p]=K1(t,s+1);n.push(f),s=p;continue}const[l,c]=Ry(t,s,!1);n.push(l),s=c}return[n,s]}function YN(t){const[e]=K1(t,1);return e}function G1(t){return`{${t.map(e=>Array.isArray(e)?G1(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class He extends QN{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(e){return new XN(this.config.name,this,e)}references(e,n={}){return this.foreignKeyConfigs.push({ref:e,actions:n}),this}unique(e,n){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,n){return this.foreignKeyConfigs.map(({ref:s,actions:o})=>KN((a,l)=>{const c=new WN(()=>{const f=a();return{columns:[e],foreignColumns:[f]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,o))}buildExtraConfigColumn(e){return new JN(e,this.config)}}class Be extends Bt{constructor(e,n){n.uniqueName||(n.uniqueName=GN(e,[n.name])),super(e,n),this.table=e}static[ee]="PgColumn"}class JN extends Be{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class XN extends He{static[ee]="PgArrayBuilder";constructor(e,n,s){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(e){const n=this.config.baseBuilder.build(e);return new sp(e,this.config,n)}}class sp extends Be{constructor(e,n,s,o){super(e,n),this.baseColumn=s,this.range=o,this.size=n.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=YN(e)),e.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(e,n=!1){const s=e.map(o=>o===null?null:le(this.baseColumn,sp)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return n?s:G1(s)}}const Dy=Symbol.for("drizzle:isPgEnum");function ZN(t){return!!t&&typeof t=="function"&&Dy in t&&t[Dy]===!0}class An{static[ee]="Subquery";constructor(e,n,s,o=!1,a=[]){this._={brand:"Subquery",sql:e,selectedFields:n,alias:s,isWith:o,usedTables:a}}}class Y1 extends An{static[ee]="WithSubquery"}const Ln={startActiveSpan(t,e){return e()}},Dt=Symbol.for("drizzle:ViewBaseConfig"),Yi=Symbol.for("drizzle:Schema"),rh=Symbol.for("drizzle:Columns"),Iy=Symbol.for("drizzle:ExtraConfigColumns"),vd=Symbol.for("drizzle:OriginalName"),bd=Symbol.for("drizzle:BaseName"),Au=Symbol.for("drizzle:IsAlias"),My=Symbol.for("drizzle:ExtraConfigBuilder"),eE=Symbol.for("drizzle:IsDrizzleTable");class Ce{static[ee]="Table";static Symbol={Name:xs,Schema:Yi,OriginalName:vd,Columns:rh,ExtraConfigColumns:Iy,BaseName:bd,IsAlias:Au,ExtraConfigBuilder:My};[xs];[vd];[Yi];[rh];[Iy];[bd];[Au]=!1;[eE]=!0;[My]=void 0;constructor(e,n,s){this[xs]=this[vd]=e,this[Yi]=n,this[bd]=s}}function Dr(t){return t[xs]}function wa(t){return`${t[Yi]??"public"}.${t[xs]}`}function J1(t){return t!=null&&typeof t.getSQL=="function"}function tE(t){const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),n.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}class Wt{static[ee]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ae([this])}}class Ae{constructor(e){this.queryChunks=e;for(const n of e)if(le(n,Ce)){const s=n[Ce.Symbol.Schema];this.usedTables.push(s===void 0?n[Ce.Symbol.Name]:s+"."+n[Ce.Symbol.Name])}}static[ee]="SQL";decoder=X1;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Ln.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return n?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:a,escapeParam:l,prepareTyping:c,inlineParams:f,paramStartIndex:p}=s;return tE(e.map(h=>{if(le(h,Wt))return{sql:h.value.join(""),params:[]};if(le(h,sh))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const g=[new Wt("(")];for(const[y,P]of h.entries())g.push(P),y<h.length-1&&g.push(new Wt(", "));return g.push(new Wt(")")),this.buildQueryFromSourceParams(g,s)}if(le(h,Ae))return this.buildQueryFromSourceParams(h.queryChunks,{...s,inlineParams:f||h.shouldInlineParams});if(le(h,Ce)){const g=h[Ce.Symbol.Schema],y=h[Ce.Symbol.Name];return{sql:g===void 0||h[Au]?a(y):a(g)+"."+a(y),params:[]}}if(le(h,Bt)){const g=o.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:a(g),params:[]};const y=h.table[Ce.Symbol.Schema];return{sql:h.table[Au]||y===void 0?a(h.table[Ce.Symbol.Name])+"."+a(g):a(y)+"."+a(h.table[Ce.Symbol.Name])+"."+a(g),params:[]}}if(le(h,ci)){const g=h[Dt].schema,y=h[Dt].name;return{sql:g===void 0||h[Dt].isAlias?a(y):a(g)+"."+a(y),params:[]}}if(le(h,ws)){if(le(h.value,Zi))return{sql:l(p.value++,h),params:[h],typings:["none"]};const g=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(le(g,Ae))return this.buildQueryFromSourceParams([g],s);if(f)return{sql:this.mapInlineParam(g,s),params:[]};let y=["none"];return c&&(y=[c(h.encoder)]),{sql:l(p.value++,g),params:[g],typings:y}}return le(h,Zi)?{sql:l(p.value++,h),params:[h],typings:["none"]}:le(h,Ae.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:le(h,An)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new Wt("("),h._.sql,new Wt(") "),new sh(h._.alias)],s):ZN(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:J1(h)?h.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([h.getSQL()],s):this.buildQueryFromSourceParams([new Wt("("),h.getSQL(),new Wt(")")],s):f?{sql:this.mapInlineParam(h,s),params:[]}:{sql:l(p.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const s=e.toString();return n(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ae.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class sh{constructor(e){this.value=e}static[ee]="Name";brand;getSQL(){return new Ae([this])}}function nE(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}const X1={mapFromDriverValue:t=>t},Z1={mapToDriverValue:t=>t};({...X1,...Z1});class ws{constructor(e,n=Z1){this.value=e,this.encoder=n}static[ee]="Param";brand;getSQL(){return new Ae([this])}}function W(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Wt(t[0]));for(const[s,o]of e.entries())n.push(o,new Wt(t[s+1]));return new Ae(n)}(t=>{function e(){return new Ae([])}t.empty=e;function n(f){return new Ae(f)}t.fromList=n;function s(f){return new Ae([new Wt(f)])}t.raw=s;function o(f,p){const h=[];for(const[g,y]of f.entries())g>0&&p!==void 0&&h.push(p),h.push(y);return new Ae(h)}t.join=o;function a(f){return new sh(f)}t.identifier=a;function l(f){return new Zi(f)}t.placeholder=l;function c(f,p){return new ws(f,p)}t.param=c})(W||(W={}));(t=>{class e{constructor(s,o){this.sql=s,this.fieldAlias=o}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Ae||(Ae={}));class Zi{constructor(e){this.name=e}static[ee]="Placeholder";getSQL(){return new Ae([this])}}function wd(t,e){return t.map(n=>{if(le(n,Zi)){if(!(n.name in e))throw new Error(`No value for placeholder "${n.name}" was provided`);return e[n.name]}if(le(n,ws)&&le(n.value,Zi)){if(!(n.value.name in e))throw new Error(`No value for placeholder "${n.value.name}" was provided`);return n.encoder.mapToDriverValue(e[n.value.name])}return n})}const rE=Symbol.for("drizzle:IsDrizzleView");class ci{static[ee]="View";[Dt];[rE]=!0;constructor({name:e,schema:n,selectedFields:s,query:o}){this[Dt]={name:e,originalName:e,schema:n,selectedFields:s,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Ae([this])}}Bt.prototype.getSQL=function(){return new Ae([this])};Ce.prototype.getSQL=function(){return new Ae([this])};An.prototype.getSQL=function(){return new Ae([this])};class _u{constructor(e){this.table=e}static[ee]="ColumnAliasProxyHandler";get(e,n){return n==="table"?this.table:e[n]}}class ip{constructor(e,n){this.alias=e,this.replaceOriginalName=n}static[ee]="TableAliasProxyHandler";get(e,n){if(n===Ce.Symbol.IsAlias)return!0;if(n===Ce.Symbol.Name)return this.alias;if(this.replaceOriginalName&&n===Ce.Symbol.OriginalName)return this.alias;if(n===Dt)return{...e[Dt],name:this.alias,isAlias:!0};if(n===Ce.Symbol.Columns){const o=e[Ce.Symbol.Columns];if(!o)return o;const a={};return Object.keys(o).map(l=>{a[l]=new Proxy(o[l],new _u(new Proxy(e,this)))}),a}const s=e[n];return le(s,Bt)?new Proxy(s,new _u(new Proxy(e,this))):s}}function Sd(t,e){return new Proxy(t,new ip(e,!1))}function Rr(t,e){return new Proxy(t,new _u(new Proxy(t.table,new ip(e,!1))))}function eb(t,e){return new Ae.Aliased(Lu(t.sql,e),t.fieldAlias)}function Lu(t,e){return W.join(t.queryChunks.map(n=>le(n,Bt)?Rr(n,e):le(n,Ae)?Lu(n,e):le(n,Ae.Aliased)?eb(n,e):n))}class Xt{static[ee]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,n){if(n==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(n===Dt)return{...e[Dt],selectedFields:new Proxy(e[Dt].selectedFields,this)};if(typeof n=="symbol")return e[n];const o=(le(e,An)?e._.selectedFields:le(e,ci)?e[Dt].selectedFields:e)[n];if(le(o,Ae.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!o.isSelectionField)return o.sql;const a=o.clone();return a.isSelectionField=!0,a}if(le(o,Ae)){if(this.config.sqlBehavior==="sql")return o;throw new Error(`You tried to reference "${n}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return le(o,Bt)?this.config.alias?new Proxy(o,new _u(new Proxy(o.table,new ip(this.config.alias,this.config.replaceOriginalName??!1)))):o:typeof o!="object"||o===null?o:new Proxy(o,new Xt(this.config))}}function sE(t,e,n){const s={},o=t.reduce((a,{path:l,field:c},f)=>{let p;le(c,Bt)?p=c:le(c,Ae)?p=c.decoder:p=c.sql.decoder;let h=a;for(const[g,y]of l.entries())if(g<l.length-1)y in h||(h[y]={}),h=h[y];else{const P=e[f],b=h[y]=P===null?null:p.mapFromDriverValue(P);if(n&&le(c,Bt)&&l.length===2){const x=l[0];x in s?typeof s[x]=="string"&&s[x]!==Dr(c.table)&&(s[x]=!1):s[x]=b===null?Dr(c.table):!1}}return a},{});if(n&&Object.keys(s).length>0)for(const[a,l]of Object.entries(s))typeof l=="string"&&!n[l]&&(o[a]=null);return o}function ri(t,e){return Object.entries(t).reduce((n,[s,o])=>{if(typeof s!="string")return n;const a=e?[...e,s]:[s];return le(o,Bt)||le(o,Ae)||le(o,Ae.Aliased)?n.push({path:a,field:o}):le(o,Ce)?n.push(...ri(o[Ce.Symbol.Columns],a)):n.push(...ri(o,a)),n},[])}function op(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const[o,a]of n.entries())if(a!==s[o])return!1;return!0}function tb(t,e){const n=Object.entries(e).filter(([,s])=>s!==void 0).map(([s,o])=>le(o,Ae)||le(o,Bt)?[s,o]:[s,new ws(o,t[Ce.Symbol.Columns][s])]);if(n.length===0)throw new Error("No values to set");return Object.fromEntries(n)}function iE(t,e){for(const n of e)for(const s of Object.getOwnPropertyNames(n.prototype))s!=="constructor"&&Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(n.prototype,s)||Object.create(null))}function oE(t){return t[Ce.Symbol.Columns]}function Ks(t){return le(t,An)?t._.alias:le(t,ci)?t[Dt].name:le(t,Ae)?void 0:t[Ce.Symbol.IsAlias]?t[Ce.Symbol.Name]:t[Ce.Symbol.BaseName]}function $t(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function aE(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){const e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){const e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){const e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){const e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){const e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}class nc extends He{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class lE extends nc{static[ee]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new uE(e,this.config)}}class uE extends Be{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class cE extends nc{static[ee]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new fE(e,this.config)}}class fE extends Be{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function dE(t,e){const{name:n,config:s}=$t(t,e);return s.mode==="number"?new lE(n):new cE(n)}class hE extends He{static[ee]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new pE(e,this.config)}}class pE extends Be{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class mE extends He{static[ee]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new gE(e,this.config)}}class gE extends Be{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function yE(t,e){const{name:n,config:s}=$t(t,e);return s.mode==="number"?new hE(n):new mE(n)}class xE extends He{static[ee]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new vE(e,this.config)}}class vE extends Be{static[ee]="PgBoolean";getSQLType(){return"boolean"}}function Ru(t){return new xE(t??"")}class bE extends He{static[ee]="PgCharBuilder";constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new wE(e,this.config)}}class wE extends Be{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function SE(t,e={}){const{name:n,config:s}=$t(t,e);return new bE(n,s)}class CE extends He{static[ee]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new PE(e,this.config)}}class PE extends Be{static[ee]="PgCidr";getSQLType(){return"cidr"}}function NE(t){return new CE(t??"")}class EE extends He{static[ee]="PgCustomColumnBuilder";constructor(e,n,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(e){return new jE(e,this.config)}}class jE extends Be{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,n){super(e,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function kE(t){return(e,n)=>{const{name:s,config:o}=$t(e,n);return new EE(s,o,t)}}class Ma extends He{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(W`now()`)}}class TE extends Ma{static[ee]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new nb(e,this.config)}}class nb extends Be{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class AE extends Ma{static[ee]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new rb(e,this.config)}}class rb extends Be{static[ee]="PgDateString";getSQLType(){return"date"}}function _E(t,e){const{name:n,config:s}=$t(t,e);return s?.mode==="date"?new TE(n):new AE(n)}class LE extends He{static[ee]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new RE(e,this.config)}}class RE extends Be{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function DE(t){return new LE(t??"")}class IE extends He{static[ee]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new ME(e,this.config)}}class ME extends Be{static[ee]="PgInet";getSQLType(){return"inet"}}function OE(t){return new IE(t??"")}class FE extends nc{static[ee]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new BE(e,this.config)}}class BE extends Be{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function ap(t){return new FE(t??"")}class VE extends He{static[ee]="PgIntervalBuilder";constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new $E(e,this.config)}}class $E extends Be{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${e}${n}`}}function UE(t,e={}){const{name:n,config:s}=$t(t,e);return new VE(n,s)}class zE extends He{static[ee]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new sb(e,this.config)}}class sb extends Be{static[ee]="PgJson";constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function qE(t){return new zE(t??"")}class QE extends He{static[ee]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new ib(e,this.config)}}class ib extends Be{static[ee]="PgJsonb";constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function ob(t){return new QE(t??"")}class WE extends He{static[ee]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new HE(e,this.config)}}class HE extends Be{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,o]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class KE extends He{static[ee]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new GE(e,this.config)}}class GE extends Be{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function YE(t,e){const{name:n,config:s}=$t(t,e);return!s?.mode||s.mode==="tuple"?new WE(n):new KE(n)}class JE extends He{static[ee]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new XE(e,this.config)}}class XE extends Be{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}function ZE(t){return new JE(t??"")}class e5 extends He{static[ee]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new t5(e,this.config)}}class t5 extends Be{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}function n5(t){return new e5(t??"")}class r5 extends He{static[ee]="PgNumericBuilder";constructor(e,n,s){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(e){return new ab(e,this.config)}}class ab extends Be{static[ee]="PgNumeric";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class s5 extends He{static[ee]="PgNumericNumberBuilder";constructor(e,n,s){super(e,"number","PgNumericNumber"),this.config.precision=n,this.config.scale=s}build(e){return new i5(e,this.config)}}class i5 extends Be{static[ee]="PgNumericNumber";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}class o5 extends He{static[ee]="PgNumericBigIntBuilder";constructor(e,n,s){super(e,"bigint","PgNumericBigInt"),this.config.precision=n,this.config.scale=s}build(e){return new a5(e,this.config)}}class a5 extends Be{static[ee]="PgNumericBigInt";precision;scale;constructor(e,n){super(e,n),this.precision=n.precision,this.scale=n.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function l5(t,e){const{name:n,config:s}=$t(t,e),o=s?.mode;return o==="number"?new s5(n,s?.precision,s?.scale):o==="bigint"?new o5(n,s?.precision,s?.scale):new r5(n,s?.precision,s?.scale)}class u5 extends He{static[ee]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new c5(e,this.config)}}class c5 extends Be{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class f5 extends He{static[ee]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new d5(e,this.config)}}class d5 extends Be{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function h5(t,e){const{name:n,config:s}=$t(t,e);return!s?.mode||s.mode==="tuple"?new u5(n):new f5(n)}function p5(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Oy(t,e){const n=new ArrayBuffer(8),s=new DataView(n);for(let o=0;o<8;o++)s.setUint8(o,t[e+o]);return s.getFloat64(0,!0)}function lb(t){const e=p5(t);let n=0;const s=e[n];n+=1;const o=new DataView(e.buffer),a=o.getUint32(n,s===1);if(n+=4,a&536870912&&(o.getUint32(n,s===1),n+=4),(a&65535)===1){const l=Oy(e,n);n+=8;const c=Oy(e,n);return n+=8,[l,c]}throw new Error("Unsupported geometry type")}class m5 extends He{static[ee]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new g5(e,this.config)}}class g5 extends Be{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return lb(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class y5 extends He{static[ee]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new x5(e,this.config)}}class x5 extends Be{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=lb(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function v5(t,e){const{name:n,config:s}=$t(t,e);return!s?.mode||s.mode==="tuple"?new m5(n):new y5(n)}class b5 extends He{static[ee]="PgRealBuilder";constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new w5(e,this.config)}}class w5 extends Be{static[ee]="PgReal";constructor(e,n){super(e,n)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function S5(t){return new b5(t??"")}class C5 extends He{static[ee]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new P5(e,this.config)}}class P5 extends Be{static[ee]="PgSerial";getSQLType(){return"serial"}}function N5(t){return new C5(t??"")}class E5 extends nc{static[ee]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new j5(e,this.config)}}class j5 extends Be{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function k5(t){return new E5(t??"")}class T5 extends He{static[ee]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new A5(e,this.config)}}class A5 extends Be{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}function _5(t){return new T5(t??"")}class L5 extends He{static[ee]="PgTextBuilder";constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new R5(e,this.config)}}class R5 extends Be{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Rt(t,e={}){const{name:n,config:s}=$t(t,e);return new L5(n,s)}class D5 extends Ma{constructor(e,n,s){super(e,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}static[ee]="PgTimeBuilder";build(e){return new ub(e,this.config)}}class ub extends Be{static[ee]="PgTime";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function I5(t,e={}){const{name:n,config:s}=$t(t,e);return new D5(n,s.withTimezone??!1,s.precision)}class M5 extends Ma{static[ee]="PgTimestampBuilder";constructor(e,n,s){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(e){return new cb(e,this.config)}}class cb extends Be{static[ee]="PgTimestamp";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class O5 extends Ma{static[ee]="PgTimestampStringBuilder";constructor(e,n,s){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(e){return new fb(e,this.config)}}class fb extends Be{static[ee]="PgTimestampString";withTimezone;precision;constructor(e,n){super(e,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Ss(t,e={}){const{name:n,config:s}=$t(t,e);return s?.mode==="string"?new O5(n,s.withTimezone??!1,s.precision):new M5(n,s?.withTimezone??!1,s?.precision)}class F5 extends He{static[ee]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(W`gen_random_uuid()`)}build(e){return new db(e,this.config)}}class db extends Be{static[ee]="PgUUID";getSQLType(){return"uuid"}}function B5(t){return new F5(t??"")}class V5 extends He{static[ee]="PgVarcharBuilder";constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new $5(e,this.config)}}class $5 extends Be{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function dr(t,e={}){const{name:n,config:s}=$t(t,e);return new V5(n,s)}class U5 extends He{static[ee]="PgBinaryVectorBuilder";constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new z5(e,this.config)}}class z5 extends Be{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function q5(t,e){const{name:n,config:s}=$t(t,e);return new U5(n,s)}class Q5 extends He{static[ee]="PgHalfVectorBuilder";constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new W5(e,this.config)}}class W5 extends Be{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function H5(t,e){const{name:n,config:s}=$t(t,e);return new Q5(n,s)}class K5 extends He{static[ee]="PgSparseVectorBuilder";constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new G5(e,this.config)}}class G5 extends Be{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function Y5(t,e){const{name:n,config:s}=$t(t,e);return new K5(n,s)}class J5 extends He{static[ee]="PgVectorBuilder";constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new X5(e,this.config)}}class X5 extends Be{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function Z5(t,e){const{name:n,config:s}=$t(t,e);return new J5(n,s)}function e6(){return{bigint:dE,bigserial:yE,boolean:Ru,char:SE,cidr:NE,customType:kE,date:_E,doublePrecision:DE,inet:OE,integer:ap,interval:UE,json:qE,jsonb:ob,line:YE,macaddr:ZE,macaddr8:n5,numeric:l5,point:h5,geometry:v5,real:S5,serial:N5,smallint:k5,smallserial:_5,text:Rt,time:I5,timestamp:Ss,uuid:B5,varchar:dr,bit:q5,halfvec:H5,sparsevec:Y5,vector:Z5}}const ih=Symbol.for("drizzle:PgInlineForeignKeys"),Fy=Symbol.for("drizzle:EnableRLS");class jn extends Ce{static[ee]="PgTable";static Symbol=Object.assign({},Ce.Symbol,{InlineForeignKeys:ih,EnableRLS:Fy});[ih]=[];[Fy]=!1;[Ce.Symbol.ExtraConfigBuilder]=void 0;[Ce.Symbol.ExtraConfigColumns]={}}function t6(t,e,n,s,o=t){const a=new jn(t,s,o),l=typeof e=="function"?e(e6()):e,c=Object.fromEntries(Object.entries(l).map(([h,g])=>{const y=g;y.setName(h);const P=y.build(a);return a[ih].push(...y.buildForeignKeys(P,a)),[h,P]})),f=Object.fromEntries(Object.entries(l).map(([h,g])=>{const y=g;y.setName(h);const P=y.buildExtraConfigColumn(a);return[h,P]})),p=Object.assign(a,c);return p[Ce.Symbol.Columns]=c,p[Ce.Symbol.ExtraConfigColumns]=f,Object.assign(p,{enableRLS:()=>(p[jn.Symbol.EnableRLS]=!0,p)})}const rc=(t,e,n)=>t6(t,e,n,void 0);class n6{static[ee]="PgPrimaryKeyBuilder";columns;name;constructor(e,n){this.columns=e,this.name=n}build(e){return new r6(e,this.columns,this.name)}}class r6{constructor(e,n,s){this.table=e,this.columns=n,this.name=s}static[ee]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[jn.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}function s6(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(n=>n.toLowerCase()).join("_")}function i6(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((n,s,o)=>{const a=o===0?s.toLowerCase():`${s[0].toUpperCase()}${s.slice(1)}`;return n+a},"")}function o6(t){return t}class a6{static[ee]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?s6:e==="camelCase"?i6:o6}getColumnCasing(e){if(!e.keyAsName)return e.name;const n=e.table[Ce.Symbol.Schema]??"public",s=e.table[Ce.Symbol.OriginalName],o=`${n}.${s}.${e.name}`;return this.cache[o]||this.cacheTable(e.table),this.cache[o]}cacheTable(e){const n=e[Ce.Symbol.Schema]??"public",s=e[Ce.Symbol.OriginalName],o=`${n}.${s}`;if(!this.cachedTables[o]){for(const a of Object.values(e[Ce.Symbol.Columns])){const l=`${o}.${a.name}`;this.cache[l]=this.convert(a.name)}this.cachedTables[o]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class l6 extends Error{static[ee]="DrizzleError";constructor({message:e,cause:n}){super(e),this.name="DrizzleError",this.cause=n}}function xn(t,e){return nE(e)&&!J1(t)&&!le(t,ws)&&!le(t,Zi)&&!le(t,Bt)&&!le(t,Ce)&&!le(t,ci)?new ws(t,e):t}const kn=(t,e)=>W`${t} = ${xn(e,t)}`,u6=(t,e)=>W`${t} <> ${xn(e,t)}`;function Du(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new Ae(e):new Ae([new Wt("("),W.join(e,new Wt(" and ")),new Wt(")")])}function hb(...t){const e=t.filter(n=>n!==void 0);if(e.length!==0)return e.length===1?new Ae(e):new Ae([new Wt("("),W.join(e,new Wt(" or ")),new Wt(")")])}function c6(t){return W`not ${t}`}const f6=(t,e)=>W`${t} > ${xn(e,t)}`,d6=(t,e)=>W`${t} >= ${xn(e,t)}`,h6=(t,e)=>W`${t} < ${xn(e,t)}`,p6=(t,e)=>W`${t} <= ${xn(e,t)}`;function m6(t,e){return Array.isArray(e)?e.length===0?W`false`:W`${t} in ${e.map(n=>xn(n,t))}`:W`${t} in ${xn(e,t)}`}function g6(t,e){return Array.isArray(e)?e.length===0?W`true`:W`${t} not in ${e.map(n=>xn(n,t))}`:W`${t} not in ${xn(e,t)}`}function y6(t){return W`${t} is null`}function x6(t){return W`${t} is not null`}function v6(t){return W`exists ${t}`}function b6(t){return W`not exists ${t}`}function w6(t,e,n){return W`${t} between ${xn(e,t)} and ${xn(n,t)}`}function S6(t,e,n){return W`${t} not between ${xn(e,t)} and ${xn(n,t)}`}function C6(t,e){return W`${t} like ${e}`}function P6(t,e){return W`${t} not like ${e}`}function au(t,e){return W`${t} ilike ${e}`}function N6(t,e){return W`${t} not ilike ${e}`}function E6(t){return W`${t} asc`}function oh(t){return W`${t} desc`}class pb{constructor(e,n,s){this.sourceTable=e,this.referencedTable=n,this.relationName=s,this.referencedTableName=n[Ce.Symbol.Name]}static[ee]="Relation";referencedTableName;fieldName}class mb{constructor(e,n){this.table=e,this.config=n}static[ee]="Relations"}class si extends pb{constructor(e,n,s,o){super(e,n,s?.relationName),this.config=s,this.isNullable=o}static[ee]="One";withFieldName(e){const n=new si(this.sourceTable,this.referencedTable,this.config,this.isNullable);return n.fieldName=e,n}}class sc extends pb{constructor(e,n,s){super(e,n,s?.relationName),this.config=s}static[ee]="Many";withFieldName(e){const n=new sc(this.sourceTable,this.referencedTable,this.config);return n.fieldName=e,n}}function j6(){return{and:Du,between:w6,eq:kn,exists:v6,gt:f6,gte:d6,ilike:au,inArray:m6,isNull:y6,isNotNull:x6,like:C6,lt:h6,lte:p6,ne:u6,not:c6,notBetween:S6,notExists:b6,notLike:P6,notIlike:N6,notInArray:g6,or:hb,sql:W}}function k6(){return{sql:W,asc:E6,desc:oh}}function T6(t,e){Object.keys(t).length===1&&"default"in t&&!le(t.default,Ce)&&(t=t.default);const n={},s={},o={};for(const[a,l]of Object.entries(t))if(le(l,Ce)){const c=wa(l),f=s[c];n[c]=a,o[a]={tsName:a,dbName:l[Ce.Symbol.Name],schema:l[Ce.Symbol.Schema],columns:l[Ce.Symbol.Columns],relations:f?.relations??{},primaryKey:f?.primaryKey??[]};for(const h of Object.values(l[Ce.Symbol.Columns]))h.primary&&o[a].primaryKey.push(h);const p=l[Ce.Symbol.ExtraConfigBuilder]?.(l[Ce.Symbol.ExtraConfigColumns]);if(p)for(const h of Object.values(p))le(h,n6)&&o[a].primaryKey.push(...h.columns)}else if(le(l,mb)){const c=wa(l.table),f=n[c],p=l.config(e(l.table));let h;for(const[g,y]of Object.entries(p))if(f){const P=o[f];P.relations[g]=y}else c in s||(s[c]={relations:{},primaryKey:h}),s[c].relations[g]=y}return{tables:o,tableNamesMap:n}}function ic(t,e){return new mb(t,n=>Object.fromEntries(Object.entries(e(n)).map(([s,o])=>[s,o.withFieldName(s)])))}function A6(t){return function(n,s){return new si(t,n,s,s?.fields.reduce((o,a)=>o&&a.notNull,!0)??!1)}}function _6(t){return function(n,s){return new sc(t,n,s)}}function L6(t,e,n){if(le(n,si)&&n.config)return{fields:n.config.fields,references:n.config.references};const s=e[wa(n.referencedTable)];if(!s)throw new Error(`Table "${n.referencedTable[Ce.Symbol.Name]}" not found in schema`);const o=t[s];if(!o)throw new Error(`Table "${s}" not found in schema`);const a=n.sourceTable,l=e[wa(a)];if(!l)throw new Error(`Table "${a[Ce.Symbol.Name]}" not found in schema`);const c=[];for(const f of Object.values(o.relations))(n.relationName&&n!==f&&f.relationName===n.relationName||!n.relationName&&f.referencedTable===n.sourceTable)&&c.push(f);if(c.length>1)throw n.relationName?new Error(`There are multiple relations with name "${n.relationName}" in table "${s}"`):new Error(`There are multiple relations between "${s}" and "${n.sourceTable[Ce.Symbol.Name]}". Please specify relation name`);if(c[0]&&le(c[0],si)&&c[0].config)return{fields:c[0].config.references,references:c[0].config.fields};throw new Error(`There is not enough information to infer relation "${l}.${n.fieldName}"`)}function R6(t){return{one:A6(t),many:_6(t)}}function ah(t,e,n,s,o=a=>a){const a={};for(const[l,c]of s.entries())if(c.isJson){const f=e.relations[c.tsKey],p=n[l],h=typeof p=="string"?JSON.parse(p):p;a[c.tsKey]=le(f,si)?h&&ah(t,t[c.relationTableTsKey],h,c.selection,o):h.map(g=>ah(t,t[c.relationTableTsKey],g,c.selection,o))}else{const f=o(n[l]),p=c.field;let h;le(p,Bt)?h=p:le(p,Ae)?h=p.decoder:h=p.sql.decoder,a[c.tsKey]=f===null?null:h.mapFromDriverValue(f)}return a}class gb extends ci{static[ee]="PgViewBase"}class lu{static[ee]="PgDialect";casing;constructor(e){this.casing=new a6(e?.casing)}async migrate(e,n,s){const o=typeof s=="string"?"__drizzle_migrations":s.migrationsTable??"__drizzle_migrations",a=typeof s=="string"?"drizzle":s.migrationsSchema??"drizzle",l=W`
			CREATE TABLE IF NOT EXISTS ${W.identifier(a)}.${W.identifier(o)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await n.execute(W`CREATE SCHEMA IF NOT EXISTS ${W.identifier(a)}`),await n.execute(l);const f=(await n.all(W`select id, hash, created_at from ${W.identifier(a)}.${W.identifier(o)} order by created_at desc limit 1`))[0];await n.transaction(async p=>{for await(const h of e)if(!f||Number(f.created_at)<h.folderMillis){for(const g of h.sql)await p.execute(W.raw(g));await p.execute(W`insert into ${W.identifier(a)}.${W.identifier(o)} ("hash", "created_at") values(${h.hash}, ${h.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;const n=[W`with `];for(const[s,o]of e.entries())n.push(W`${W.identifier(o._.alias)} as (${o._.sql})`),s<e.length-1&&n.push(W`, `);return n.push(W` `),W.join(n)}buildDeleteQuery({table:e,where:n,returning:s,withList:o}){const a=this.buildWithCTE(o),l=s?W` returning ${this.buildSelection(s,{isSingleTable:!0})}`:void 0,c=n?W` where ${n}`:void 0;return W`${a}delete from ${e}${c}${l}`}buildUpdateSet(e,n){const s=e[Ce.Symbol.Columns],o=Object.keys(s).filter(l=>n[l]!==void 0||s[l]?.onUpdateFn!==void 0),a=o.length;return W.join(o.flatMap((l,c)=>{const f=s[l],p=n[l]??W.param(f.onUpdateFn(),f),h=W`${W.identifier(this.casing.getColumnCasing(f))} = ${p}`;return c<a-1?[h,W.raw(", ")]:[h]}))}buildUpdateQuery({table:e,set:n,where:s,returning:o,withList:a,from:l,joins:c}){const f=this.buildWithCTE(a),p=e[jn.Symbol.Name],h=e[jn.Symbol.Schema],g=e[jn.Symbol.OriginalName],y=p===g?void 0:p,P=W`${h?W`${W.identifier(h)}.`:void 0}${W.identifier(g)}${y&&W` ${W.identifier(y)}`}`,b=this.buildUpdateSet(e,n),x=l&&W.join([W.raw(" from "),this.buildFromTable(l)]),C=this.buildJoins(c),E=o?W` returning ${this.buildSelection(o,{isSingleTable:!l})}`:void 0,j=s?W` where ${s}`:void 0;return W`${f}update ${P} set ${b}${x}${C}${j}${E}`}buildSelection(e,{isSingleTable:n=!1}={}){const s=e.length,o=e.flatMap(({field:a},l)=>{const c=[];if(le(a,Ae.Aliased)&&a.isSelectionField)c.push(W.identifier(a.fieldAlias));else if(le(a,Ae.Aliased)||le(a,Ae)){const f=le(a,Ae.Aliased)?a.sql:a;n?c.push(new Ae(f.queryChunks.map(p=>le(p,Be)?W.identifier(this.casing.getColumnCasing(p)):p))):c.push(f),le(a,Ae.Aliased)&&c.push(W` as ${W.identifier(a.fieldAlias)}`)}else le(a,Bt)&&(n?c.push(W.identifier(this.casing.getColumnCasing(a))):c.push(a));return l<s-1&&c.push(W`, `),c});return W.join(o)}buildJoins(e){if(!e||e.length===0)return;const n=[];for(const[s,o]of e.entries()){s===0&&n.push(W` `);const a=o.table,l=o.lateral?W` lateral`:void 0,c=o.on?W` on ${o.on}`:void 0;if(le(a,jn)){const f=a[jn.Symbol.Name],p=a[jn.Symbol.Schema],h=a[jn.Symbol.OriginalName],g=f===h?void 0:o.alias;n.push(W`${W.raw(o.joinType)} join${l} ${p?W`${W.identifier(p)}.`:void 0}${W.identifier(h)}${g&&W` ${W.identifier(g)}`}${c}`)}else if(le(a,ci)){const f=a[Dt].name,p=a[Dt].schema,h=a[Dt].originalName,g=f===h?void 0:o.alias;n.push(W`${W.raw(o.joinType)} join${l} ${p?W`${W.identifier(p)}.`:void 0}${W.identifier(h)}${g&&W` ${W.identifier(g)}`}${c}`)}else n.push(W`${W.raw(o.joinType)} join${l} ${a}${c}`);s<e.length-1&&n.push(W` `)}return W.join(n)}buildFromTable(e){if(le(e,Ce)&&e[Ce.Symbol.IsAlias]){let n=W`${W.identifier(e[Ce.Symbol.OriginalName])}`;return e[Ce.Symbol.Schema]&&(n=W`${W.identifier(e[Ce.Symbol.Schema])}.${n}`),W`${n} ${W.identifier(e[Ce.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:n,fieldsFlat:s,where:o,having:a,table:l,joins:c,orderBy:f,groupBy:p,limit:h,offset:g,lockingClause:y,distinct:P,setOperators:b}){const x=s??ri(n);for(const G of x)if(le(G.field,Bt)&&Dr(G.field.table)!==(le(l,An)?l._.alias:le(l,gb)?l[Dt].name:le(l,Ae)?void 0:Dr(l))&&!(ae=>c?.some(({alias:xe})=>xe===(ae[Ce.Symbol.IsAlias]?Dr(ae):ae[Ce.Symbol.BaseName])))(G.field.table)){const ae=Dr(G.field.table);throw new Error(`Your "${G.path.join("->")}" field references a column "${ae}"."${G.field.name}", but the table "${ae}" is not part of the query! Did you forget to join it?`)}const C=!c||c.length===0,E=this.buildWithCTE(e);let j;P&&(j=P===!0?W` distinct`:W` distinct on (${W.join(P.on,W`, `)})`);const k=this.buildSelection(x,{isSingleTable:C}),M=this.buildFromTable(l),R=this.buildJoins(c),L=o?W` where ${o}`:void 0,D=a?W` having ${a}`:void 0;let O;f&&f.length>0&&(O=W` order by ${W.join(f,W`, `)}`);let I;p&&p.length>0&&(I=W` group by ${W.join(p,W`, `)}`);const H=typeof h=="object"||typeof h=="number"&&h>=0?W` limit ${h}`:void 0,B=g?W` offset ${g}`:void 0,Z=W.empty();if(y){const G=W` for ${W.raw(y.strength)}`;y.config.of&&G.append(W` of ${W.join(Array.isArray(y.config.of)?y.config.of:[y.config.of],W`, `)}`),y.config.noWait?G.append(W` nowait`):y.config.skipLocked&&G.append(W` skip locked`),Z.append(G)}const re=W`${E}select${j} ${k} from ${M}${R}${L}${I}${D}${O}${H}${B}${Z}`;return b.length>0?this.buildSetOperations(re,b):re}buildSetOperations(e,n){const[s,...o]=n;if(!s)throw new Error("Cannot pass undefined values to any set operator");return o.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:s}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:s}),o)}buildSetOperationQuery({leftSelect:e,setOperator:{type:n,isAll:s,rightSelect:o,limit:a,orderBy:l,offset:c}}){const f=W`(${e.getSQL()}) `,p=W`(${o.getSQL()})`;let h;if(l&&l.length>0){const b=[];for(const x of l)if(le(x,Be))b.push(W.identifier(x.name));else if(le(x,Ae)){for(let C=0;C<x.queryChunks.length;C++){const E=x.queryChunks[C];le(E,Be)&&(x.queryChunks[C]=W.identifier(E.name))}b.push(W`${x}`)}else b.push(W`${x}`);h=W` order by ${W.join(b,W`, `)} `}const g=typeof a=="object"||typeof a=="number"&&a>=0?W` limit ${a}`:void 0,y=W.raw(`${n} ${s?"all ":""}`),P=c?W` offset ${c}`:void 0;return W`${f}${y}${p}${h}${g}${P}`}buildInsertQuery({table:e,values:n,onConflict:s,returning:o,withList:a,select:l,overridingSystemValue_:c}){const f=[],p=e[Ce.Symbol.Columns],h=Object.entries(p).filter(([E,j])=>!j.shouldDisableInsert()),g=h.map(([,E])=>W.identifier(this.casing.getColumnCasing(E)));if(l){const E=n;le(E,Ae)?f.push(E):f.push(E.getSQL())}else{const E=n;f.push(W.raw("values "));for(const[j,k]of E.entries()){const M=[];for(const[R,L]of h){const D=k[R];if(D===void 0||le(D,ws)&&D.value===void 0)if(L.defaultFn!==void 0){const O=L.defaultFn(),I=le(O,Ae)?O:W.param(O,L);M.push(I)}else if(!L.default&&L.onUpdateFn!==void 0){const O=L.onUpdateFn(),I=le(O,Ae)?O:W.param(O,L);M.push(I)}else M.push(W`default`);else M.push(D)}f.push(M),j<E.length-1&&f.push(W`, `)}}const y=this.buildWithCTE(a),P=W.join(f),b=o?W` returning ${this.buildSelection(o,{isSingleTable:!0})}`:void 0,x=s?W` on conflict ${s}`:void 0,C=c===!0?W`overriding system value `:void 0;return W`${y}insert into ${e} ${g} ${C}${P}${x}${b}`}buildRefreshMaterializedViewQuery({view:e,concurrently:n,withNoData:s}){const o=n?W` concurrently`:void 0,a=s?W` with no data`:void 0;return W`refresh materialized view${o} ${e}${a}`}prepareTyping(e){return le(e,ib)||le(e,sb)?"json":le(e,ab)?"decimal":le(e,ub)?"time":le(e,cb)||le(e,fb)?"timestamp":le(e,nb)||le(e,rb)?"date":le(e,db)?"uuid":"none"}sqlToQuery(e,n){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:n})}buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:s,table:o,tableConfig:a,queryConfig:l,tableAlias:c,nestedQueryRelation:f,joinOn:p}){let h=[],g,y,P=[],b;const x=[];if(l===!0)h=Object.entries(a.columns).map(([j,k])=>({dbKey:k.name,tsKey:j,field:Rr(k,c),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{const E=Object.fromEntries(Object.entries(a.columns).map(([D,O])=>[D,Rr(O,c)]));if(l.where){const D=typeof l.where=="function"?l.where(E,j6()):l.where;b=D&&Lu(D,c)}const j=[];let k=[];if(l.columns){let D=!1;for(const[O,I]of Object.entries(l.columns))I!==void 0&&O in a.columns&&(!D&&I===!0&&(D=!0),k.push(O));k.length>0&&(k=D?k.filter(O=>l.columns?.[O]===!0):Object.keys(a.columns).filter(O=>!k.includes(O)))}else k=Object.keys(a.columns);for(const D of k){const O=a.columns[D];j.push({tsKey:D,value:O})}let M=[];l.with&&(M=Object.entries(l.with).filter(D=>!!D[1]).map(([D,O])=>({tsKey:D,queryConfig:O,relation:a.relations[D]})));let R;if(l.extras){R=typeof l.extras=="function"?l.extras(E,{sql:W}):l.extras;for(const[D,O]of Object.entries(R))j.push({tsKey:D,value:eb(O,c)})}for(const{tsKey:D,value:O}of j)h.push({dbKey:le(O,Ae.Aliased)?O.fieldAlias:a.columns[D].name,tsKey:D,field:le(O,Bt)?Rr(O,c):O,relationTableTsKey:void 0,isJson:!1,selection:[]});let L=typeof l.orderBy=="function"?l.orderBy(E,k6()):l.orderBy??[];Array.isArray(L)||(L=[L]),P=L.map(D=>le(D,Bt)?Rr(D,c):Lu(D,c)),g=l.limit,y=l.offset;for(const{tsKey:D,queryConfig:O,relation:I}of M){const H=L6(n,s,I),B=wa(I.referencedTable),Z=s[B],re=`${c}_${D}`,G=Du(...H.fields.map((de,se)=>kn(Rr(H.references[se],re),Rr(de,c)))),ae=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:n,tableNamesMap:s,table:e[Z],tableConfig:n[Z],queryConfig:le(I,si)?O===!0?{limit:1}:{...O,limit:1}:O,tableAlias:re,joinOn:G,nestedQueryRelation:I}),xe=W`${W.identifier(re)}.${W.identifier("data")}`.as(D);x.push({on:W`true`,table:new An(ae.sql,{},re),alias:re,joinType:"left",lateral:!0}),h.push({dbKey:D,tsKey:D,field:xe,relationTableTsKey:Z,isJson:!0,selection:ae.selection})}}if(h.length===0)throw new l6({message:`No fields selected for table "${a.tsName}" ("${c}")`});let C;if(b=Du(p,b),f){let E=W`json_build_array(${W.join(h.map(({field:M,tsKey:R,isJson:L})=>L?W`${W.identifier(`${c}_${R}`)}.${W.identifier("data")}`:le(M,Ae.Aliased)?M.sql:M),W`, `)})`;le(f,sc)&&(E=W`coalesce(json_agg(${E}${P.length>0?W` order by ${W.join(P,W`, `)}`:void 0}), '[]'::json)`);const j=[{dbKey:"data",tsKey:"data",field:E.as("data"),isJson:!0,relationTableTsKey:a.tsName,selection:h}];g!==void 0||y!==void 0||P.length>0?(C=this.buildSelectQuery({table:Sd(o,c),fields:{},fieldsFlat:[{path:[],field:W.raw("*")}],where:b,limit:g,offset:y,orderBy:P,setOperators:[]}),b=void 0,g=void 0,y=void 0,P=[]):C=Sd(o,c),C=this.buildSelectQuery({table:le(C,jn)?C:new An(C,{},c),fields:{},fieldsFlat:j.map(({field:M})=>({path:[],field:le(M,Bt)?Rr(M,c):M})),joins:x,where:b,limit:g,offset:y,orderBy:P,setOperators:[]})}else C=this.buildSelectQuery({table:Sd(o,c),fields:{},fieldsFlat:h.map(({field:E})=>({path:[],field:le(E,Bt)?Rr(E,c):E})),joins:x,where:b,limit:g,offset:y,orderBy:P,setOperators:[]});return{tableTsKey:a.tsName,sql:C,selection:h}}}class D6{static[ee]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class zn{static[ee]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){const n=!!this.fields,s=e;let o;return this.fields?o=this.fields:le(s,An)?o=Object.fromEntries(Object.keys(s._.selectedFields).map(a=>[a,s[a]])):le(s,gb)?o=s[Dt].selectedFields:le(s,Ae)?o={}:o=oE(s),new yb({table:s,fields:o,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class I6 extends D6{static[ee]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:n,isPartialSelect:s,session:o,dialect:a,withList:l,distinct:c}){super(),this.config={withList:l,table:e,fields:{...n},distinct:c,setOperators:[]},this.isPartialSelect=s,this.session=o,this.dialect=a,this._={selectedFields:n,config:this.config},this.tableName=Ks(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(const f of Ys(e))this.usedTables.add(f)}getUsedTables(){return[...this.usedTables]}createJoin(e,n){return(s,o)=>{const a=this.tableName,l=Ks(s);for(const c of Ys(s))this.usedTables.add(c);if(typeof l=="string"&&this.config.joins?.some(c=>c.alias===l))throw new Error(`Alias "${l}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof a=="string"&&(this.config.fields={[a]:this.config.fields}),typeof l=="string"&&!le(s,Ae))){const c=le(s,An)?s._.selectedFields:le(s,ci)?s[Dt].selectedFields:s[Ce.Symbol.Columns];this.config.fields[l]=c}if(typeof o=="function"&&(o=o(new Proxy(this.config.fields,new Xt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:o,table:s,joinType:e,alias:l,lateral:n}),typeof l=="string")switch(e){case"left":{this.joinsNotNullableMap[l]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[l]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[l]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([c])=>[c,!1])),this.joinsNotNullableMap[l]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,n){return s=>{const o=typeof s=="function"?s(M6()):s;if(!op(this.getSelectedFields(),o.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:n,rightSelect:o}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Xt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Xt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.fields,new Xt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(n)?n:[n]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){const n=e[0](new Proxy(this.config.fields,new Xt({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),s=Array.isArray(n)?n:[n];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=s:this.config.orderBy=s}else{const n=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,n={}){return this.config.lockingClause={strength:e,config:n},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}as(e){const n=[];if(n.push(...Ys(this.config.table)),this.config.joins)for(const s of this.config.joins)n.push(...Ys(s.table));return new Proxy(new An(this.getSQL(),this.config.fields,e,!1,[...new Set(n)]),new Xt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Xt({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}}class yb extends I6{static[ee]="PgSelect";_prepare(e){const{session:n,config:s,dialect:o,joinsNotNullableMap:a,authToken:l,cacheConfig:c,usedTables:f}=this;if(!n)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");const{fields:p}=s;return Ln.startActiveSpan("drizzle.prepareQuery",()=>{const h=ri(p),g=n.prepareQuery(o.sqlToQuery(this.getSQL()),h,e,!0,void 0,{type:"select",tables:[...f]},c);return g.joinsNotNullableMap=a,g.setToken(l)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Ln.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}iE(yb,[ui]);function ao(t,e){return(n,s,...o)=>{const a=[s,...o].map(l=>({type:t,isAll:e,rightSelect:l}));for(const l of a)if(!op(n.getSelectedFields(),l.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return n.addSetOperators(a)}}const M6=()=>({union:O6,unionAll:F6,intersect:B6,intersectAll:V6,except:$6,exceptAll:U6}),O6=ao("union",!1),F6=ao("union",!0),B6=ao("intersect",!1),V6=ao("intersect",!0),$6=ao("except",!1),U6=ao("except",!0);class xb{static[ee]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=le(e,lu)?e:void 0,this.dialectConfig=le(e,lu)?void 0:e}$with=(e,n)=>{const s=this;return{as:a=>(typeof a=="function"&&(a=a(s)),new Proxy(new Y1(a.getSQL(),n??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Xt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){const n=this;function s(l){return new zn({fields:l??void 0,session:void 0,dialect:n.getDialect(),withList:e})}function o(l){return new zn({fields:l??void 0,session:void 0,dialect:n.getDialect(),distinct:!0})}function a(l,c){return new zn({fields:c??void 0,session:void 0,dialect:n.getDialect(),distinct:{on:l}})}return{select:s,selectDistinct:o,selectDistinctOn:a}}select(e){return new zn({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new zn({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,n){return new zn({fields:n??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new lu(this.dialectConfig)),this.dialect}}function Ys(t){return le(t,jn)?[t[Yi]?`${t[Yi]}.${t[Ce.Symbol.BaseName]}`:t[Ce.Symbol.BaseName]]:le(t,An)?t._.usedTables??[]:le(t,Ae)?t.usedTables??[]:[]}class By extends ui{constructor(e,n,s,o){super(),this.session=n,this.dialect=s,this.config={table:e,withList:o}}static[ee]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[Ce.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=ri(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Ln.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:Ys(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Ln.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Xt({alias:Dr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class Vy{constructor(e,n,s,o,a){this.table=e,this.session=n,this.dialect=s,this.withList=o,this.overridingSystemValue_=a}static[ee]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");const n=e.map(s=>{const o={},a=this.table[Ce.Symbol.Columns];for(const l of Object.keys(s)){const c=s[l];o[l]=le(c,Ae)?c:new ws(c,a[l])}return o});return new $y(this.table,n,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){const n=typeof e=="function"?e(new xb):e;if(!le(n,Ae)&&!op(this.table[rh],n._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new $y(this.table,n,this.session,this.dialect,this.withList,!0)}}class $y extends ui{constructor(e,n,s,o,a,l,c){super(),this.session=s,this.dialect=o,this.config={table:e,values:n,withList:a,select:l,overridingSystemValue_:c}}static[ee]="PgInsert";config;cacheConfig;returning(e=this.config.table[Ce.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=ri(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=W`do nothing`;else{let n="";n=Array.isArray(e.target)?e.target.map(o=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(o))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));const s=e.where?W` where ${e.where}`:void 0;this.config.onConflict=W`(${W.raw(n)})${s} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');const n=e.where?W` where ${e.where}`:void 0,s=e.targetWhere?W` where ${e.targetWhere}`:void 0,o=e.setWhere?W` where ${e.setWhere}`:void 0,a=this.dialect.buildUpdateSet(this.config.table,tb(this.config.table,e.set));let l="";return l=Array.isArray(e.target)?e.target.map(c=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(c))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=W`(${W.raw(l)})${s} do update set ${a}${n}${o}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Ln.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Ys(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Ln.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Xt({alias:Dr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class z6 extends ui{constructor(e,n,s){super(),this.session=n,this.dialect=s,this.config={view:e}}static[ee]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){return Ln.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>Ln.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class Uy{constructor(e,n,s,o){this.table=e,this.session=n,this.dialect=s,this.withList=o}static[ee]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new q6(this.table,tb(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class q6 extends ui{constructor(e,n,s,o,a){super(),this.session=s,this.dialect=o,this.config={set:n,table:e,withList:a,joins:[]},this.tableName=Ks(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[ee]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){const n=e,s=Ks(n);return typeof s=="string"&&(this.joinsNotNullableMap[s]=!0),this.config.from=n,this}getTableLikeFields(e){return le(e,jn)?e[Ce.Symbol.Columns]:le(e,An)?e._.selectedFields:e[Dt].selectedFields}createJoin(e){return(n,s)=>{const o=Ks(n);if(typeof o=="string"&&this.config.joins.some(a=>a.alias===o))throw new Error(`Alias "${o}" is already used in this query`);if(typeof s=="function"){const a=this.config.from&&!le(this.config.from,Ae)?this.getTableLikeFields(this.config.from):void 0;s=s(new Proxy(this.config.table[Ce.Symbol.Columns],new Xt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),a&&new Proxy(a,new Xt({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:s,table:n,joinType:e,alias:o}),typeof o=="string")switch(e){case"left":{this.joinsNotNullableMap[o]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[o]=!0;break}case"inner":{this.joinsNotNullableMap[o]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[o]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[Ce.Symbol.Columns]),this.config.from)){const n=Ks(this.config.from);if(typeof n=="string"&&this.config.from&&!le(this.config.from,Ae)){const s=this.getTableLikeFields(this.config.from);e[n]=s}for(const s of this.config.joins){const o=Ks(s.table);if(typeof o=="string"&&!le(s.table,Ae)){const a=this.getTableLikeFields(s.table);e[o]=a}}}return this.config.returningFields=e,this.config.returning=ri(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){const{typings:e,...n}=this.dialect.sqlToQuery(this.getSQL());return n}_prepare(e){const n=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Ys(this.config.table)},this.cacheConfig);return n.joinsNotNullableMap=this.joinsNotNullableMap,n}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Xt({alias:Dr(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class Iu extends Ae{constructor(e){super(Iu.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=Iu.buildCount(e.source,e.filters)}sql;token;static[ee]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,n){return W`(select count(*) from ${e}${W.raw(" where ").if(n)}${n})`}static buildCount(e,n){return W`select count(*) as count from ${e}${W.raw(" where ").if(n)}${n};`}setToken(e){return this.token=e,this}then(e,n){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,n)}catch(e){return this.then(void 0,e)}finally(e){return this.then(n=>(e?.(),n),n=>{throw e?.(),n})}}class Q6{constructor(e,n,s,o,a,l,c){this.fullSchema=e,this.schema=n,this.tableNamesMap=s,this.table=o,this.tableConfig=a,this.dialect=l,this.session=c}static[ee]="PgRelationalQueryBuilder";findMany(e){return new zy(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new zy(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class zy extends ui{constructor(e,n,s,o,a,l,c,f,p){super(),this.fullSchema=e,this.schema=n,this.tableNamesMap=s,this.table=o,this.tableConfig=a,this.dialect=l,this.session=c,this.config=f,this.mode=p}static[ee]="PgRelationalQuery";_prepare(e){return Ln.startActiveSpan("drizzle.prepareQuery",()=>{const{query:n,builtQuery:s}=this._toSQL();return this.session.prepareQuery(s,void 0,e,!0,(o,a)=>{const l=o.map(c=>ah(this.schema,this.tableConfig,c,n.selection,a));return this.mode==="first"?l[0]:l})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){const e=this._getQuery(),n=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:n}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return Ln.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class W6 extends ui{constructor(e,n,s,o){super(),this.execute=e,this.sql=n,this.query=s,this.mapBatchResult=o}static[ee]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,n){return n?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class H6{constructor(e,n,s){if(this.dialect=e,this.session=n,this._=s?{schema:s.schema,fullSchema:s.fullSchema,tableNamesMap:s.tableNamesMap,session:n}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:n},this.query={},this._.schema)for(const[o,a]of Object.entries(this._.schema))this.query[o]=new Q6(s.fullSchema,this._.schema,this._.tableNamesMap,s.fullSchema[o],a,e,n);this.$cache={invalidate:async o=>{}}}static[ee]="PgDatabase";query;$with=(e,n)=>{const s=this;return{as:a=>(typeof a=="function"&&(a=a(new xb(s.dialect))),new Proxy(new Y1(a.getSQL(),n??("getSelectedFields"in a?a.getSelectedFields()??{}:{}),e,!0),new Xt({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,n){return new Iu({source:e,filters:n,session:this.session})}$cache;with(...e){const n=this;function s(p){return new zn({fields:p??void 0,session:n.session,dialect:n.dialect,withList:e})}function o(p){return new zn({fields:p??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:!0})}function a(p,h){return new zn({fields:h??void 0,session:n.session,dialect:n.dialect,withList:e,distinct:{on:p}})}function l(p){return new Uy(p,n.session,n.dialect,e)}function c(p){return new Vy(p,n.session,n.dialect,e)}function f(p){return new By(p,n.session,n.dialect,e)}return{select:s,selectDistinct:o,selectDistinctOn:a,update:l,insert:c,delete:f}}select(e){return new zn({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new zn({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,n){return new zn({fields:n??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new Uy(e,this.session,this.dialect)}insert(e){return new Vy(e,this.session,this.dialect)}delete(e){return new By(e,this.session,this.dialect)}refreshMaterializedView(e){return new z6(e,this.session,this.dialect)}authToken;execute(e){const n=typeof e=="string"?W.raw(e):e.getSQL(),s=this.dialect.sqlToQuery(n),o=this.session.prepareQuery(s,void 0,void 0,!1);return new W6(()=>o.execute(void 0,this.authToken),n,s,a=>o.mapResult(a,!0))}transaction(e,n){return this.session.transaction(e,n)}}class K6{static[ee]="Cache"}class vb extends K6{strategy(){return"all"}static[ee]="NoopCache";async get(e){}async put(e,n,s,o){}async onMutate(e){}}async function qy(t,e){const n=`${t}-${JSON.stringify(e)}`,o=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",o);return[...new Uint8Array(a)].map(f=>f.toString(16).padStart(2,"0")).join("")}class as extends Error{constructor(e,n,s){super(`Failed query: ${e}
params: ${n}`),this.query=e,this.params=n,this.cause=s,Error.captureStackTrace(this,as),s&&(this.cause=s)}}class G6{constructor(e,n,s,o){this.query=e,this.cache=n,this.queryMetadata=s,this.cacheConfig=o,n&&n.strategy()==="all"&&o===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,n){return e}setToken(e){return this.authToken=e,this}static[ee]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,n,s){if(this.cache===void 0||le(this.cache,vb)||this.queryMetadata===void 0)try{return await s()}catch(o){throw new as(e,n,o)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await s()}catch(o){throw new as(e,n,o)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{const[o]=await Promise.all([s(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return o}catch(o){throw new as(e,n,o)}if(!this.cacheConfig)try{return await s()}catch(o){throw new as(e,n,o)}if(this.queryMetadata.type==="select"){const o=await this.cache.get(this.cacheConfig.tag??await qy(e,n),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(o===void 0){let a;try{a=await s()}catch(l){throw new as(e,n,l)}return await this.cache.put(this.cacheConfig.tag??await qy(e,n),a,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),a}return o}try{return await s()}catch(o){throw new as(e,n,o)}}}class Y6{constructor(e){this.dialect=e}static[ee]="PgSession";execute(e,n){return Ln.startActiveSpan("drizzle.operation",()=>Ln.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(n).execute(void 0,n))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,n){const s=await this.execute(e,n);return Number(s[0].count)}}const eu={arrayMode:!1,fullResults:!0},lh={arrayMode:!0,fullResults:!0};class J6 extends G6{constructor(e,n,s,o,a,l,c,f,p){super(n,o,a,l),this.client=e,this.logger=s,this.fields=c,this._isResponseInArrayMode=f,this.customResultMapper=p,this.clientQuery=e.query??e}static[ee]="NeonHttpPreparedQuery";clientQuery;async execute(e={},n=this.authToken){const s=wd(this.query.params,e);this.logger.logQuery(this.query.sql,s);const{fields:o,clientQuery:a,query:l,customResultMapper:c}=this;if(!o&&!c)return this.queryWithCache(l.sql,s,async()=>a(l.sql,s,n===void 0?eu:{...eu,authToken:n}));const f=await this.queryWithCache(l.sql,s,async()=>await a(l.sql,s,n===void 0?lh:{...lh,authToken:n}));return this.mapResult(f)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;const n=e.rows;return this.customResultMapper?this.customResultMapper(n):n.map(s=>sE(this.fields,s,this.joinsNotNullableMap))}all(e={}){const n=wd(this.query.params,e);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,this.authToken===void 0?eu:{...eu,authToken:this.authToken}).then(s=>s.rows)}values(e={},n){const s=wd(this.query.params,e);return this.logger.logQuery(this.query.sql,s),this.clientQuery(this.query.sql,s,{arrayMode:!0,fullResults:!0,authToken:n}).then(o=>o.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}}class X6 extends Y6{constructor(e,n,s,o={}){super(n),this.client=e,this.schema=s,this.options=o,this.clientQuery=e.query??e,this.logger=o.logger??new qN,this.cache=o.cache??new vb}static[ee]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(e,n,s,o,a,l,c){return new J6(this.client,e,this.logger,this.cache,l,c,n,o,a)}async batch(e){const n=[],s=[];for(const a of e){const l=a._prepare(),c=l.getQuery();n.push(l),s.push(this.clientQuery(c.sql,c.params,{fullResults:!0,arrayMode:l.isResponseInArrayMode()}))}return(await this.client.transaction(s,lh)).map((a,l)=>n[l].mapResult(a,!0))}async query(e,n){return this.logger.logQuery(e,n),await this.clientQuery(e,n,{arrayMode:!0,fullResults:!0})}async queryObjects(e,n){return this.clientQuery(e,n,{arrayMode:!1,fullResults:!0})}async count(e,n){const s=await this.execute(e,n);return Number(s.rows[0].count)}async transaction(e,n={}){throw new Error("No transactions support in neon-http driver")}}class Z6{constructor(e,n,s={}){this.client=e,this.dialect=n,this.options=s,this.initMappers()}static[ee]="NeonHttpDriver";createSession(e){return new X6(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Nn.setTypeParser(Nn.builtins.TIMESTAMPTZ,e=>e),Nn.setTypeParser(Nn.builtins.TIMESTAMP,e=>e),Nn.setTypeParser(Nn.builtins.DATE,e=>e),Nn.setTypeParser(Nn.builtins.INTERVAL,e=>e),Nn.setTypeParser(1231,e=>e),Nn.setTypeParser(1115,e=>e),Nn.setTypeParser(1185,e=>e),Nn.setTypeParser(1187,e=>e),Nn.setTypeParser(1182,e=>e)}}function Mu(t,e,n,s){return new Proxy(t,{get(o,a){const l=o[a];return typeof l!="function"&&(typeof l!="object"||l===null)?l:s?Mu(l,e,n):a==="query"?Mu(l,e,n,!0):new Proxy(l,{apply(c,f,p){const h=c.call(f,...p);return typeof h=="object"&&h!==null&&"setToken"in h&&typeof h.setToken=="function"&&h.setToken(e),n(c,a,h)}})}})}class ej extends H6{static[ee]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,Mu(this,e,(n,s,o)=>s==="with"?Mu(o,e,(a,l,c)=>c):o)}async batch(e){return this.session.batch(e)}}function Bi(t,e={}){const n=new lu({casing:e.casing});let s;e.logger===!0?s=new zN:e.logger!==!1&&(s=e.logger);let o;if(e.schema){const f=T6(e.schema,R6);o={fullSchema:e.schema,schema:f.tables,tableNamesMap:f.tableNamesMap}}const l=new Z6(t,n,{logger:s,cache:e.cache}).createSession(o),c=new ej(n,l,o);return c.$client=t,c.$cache=e.cache,c.$cache&&(c.$cache.invalidate=e.cache?.onMutate),c}function uh(...t){if(typeof t[0]=="string"){const e=Gi(t[0]);return Bi(e,t[1])}if(aE(t[0])){const{connection:e,client:n,...s}=t[0];if(n)return Bi(n,s);if(typeof e=="object"){const{connectionString:a,...l}=e,c=Gi(a,l);return Bi(c,s)}const o=Gi(e);return Bi(o,s)}return Bi(t[0],t[1])}(t=>{function e(n){return Bi({},n)}t.mock=e})(uh||(uh={}));const at=rc("users",{id:Rt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),firstName:dr("first_name",{length:100}).notNull(),lastName:dr("last_name",{length:100}).notNull(),email:dr("email",{length:255}).notNull().unique(),password:Rt("password").notNull(),profilePhoto:Rt("profile_photo"),bio:Rt("bio"),location:dr("location",{length:255}),isPublic:Ru("is_public").default(!0).notNull(),availability:ob("availability").$type().default({weekends:!0,evenings:!0,weekdays:!1,custom:""}),rating:ap("rating").default(0),createdAt:Ss("created_at").defaultNow().notNull(),updatedAt:Ss("updated_at").defaultNow().notNull()}),rt=rc("skills",{id:Rt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:Rt("user_id").notNull().references(()=>at.id,{onDelete:"cascade"}),name:dr("name",{length:255}).notNull(),description:Rt("description"),category:dr("category",{length:100}).notNull(),proficiencyLevel:dr("proficiency_level",{length:20}).notNull().$type(),type:dr("type",{length:20}).notNull().$type(),isPublic:Ru("is_public").default(!0).notNull(),isAvailable:Ru("is_available").default(!0).notNull(),createdAt:Ss("created_at").defaultNow().notNull(),updatedAt:Ss("updated_at").defaultNow().notNull()}),Tn=rc("swap_requests",{id:Rt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),requesterId:Rt("requester_id").notNull().references(()=>at.id,{onDelete:"cascade"}),recipientId:Rt("recipient_id").notNull().references(()=>at.id,{onDelete:"cascade"}),skillOfferedId:Rt("skill_offered_id").notNull().references(()=>rt.id,{onDelete:"cascade"}),skillRequestedId:Rt("skill_requested_id").notNull().references(()=>rt.id,{onDelete:"cascade"}),message:Rt("message"),status:dr("status",{length:20}).notNull().$type().default("pending"),createdAt:Ss("created_at").defaultNow().notNull(),updatedAt:Ss("updated_at").defaultNow().notNull()}),hs=rc("feedback",{id:Rt("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),swapId:Rt("swap_id").notNull().references(()=>Tn.id,{onDelete:"cascade"}),fromUserId:Rt("from_user_id").notNull().references(()=>at.id,{onDelete:"cascade"}),toUserId:Rt("to_user_id").notNull().references(()=>at.id,{onDelete:"cascade"}),rating:ap("rating").notNull().$type(),comment:Rt("comment").notNull(),createdAt:Ss("created_at").defaultNow().notNull()}),tj=ic(at,({many:t})=>({skills:t(rt),sentSwapRequests:t(Tn,{relationName:"requester"}),receivedSwapRequests:t(Tn,{relationName:"recipient"}),givenFeedback:t(hs,{relationName:"fromUser"}),receivedFeedback:t(hs,{relationName:"toUser"})})),nj=ic(rt,({one:t,many:e})=>({user:t(at,{fields:[rt.userId],references:[at.id]}),offeredInSwaps:e(Tn,{relationName:"skillOffered"}),requestedInSwaps:e(Tn,{relationName:"skillRequested"})})),rj=ic(Tn,({one:t,many:e})=>({requester:t(at,{fields:[Tn.requesterId],references:[at.id],relationName:"requester"}),recipient:t(at,{fields:[Tn.recipientId],references:[at.id],relationName:"recipient"}),skillOffered:t(rt,{fields:[Tn.skillOfferedId],references:[rt.id],relationName:"skillOffered"}),skillRequested:t(rt,{fields:[Tn.skillRequestedId],references:[rt.id],relationName:"skillRequested"}),feedback:e(hs)})),sj=ic(hs,({one:t})=>({swap:t(Tn,{fields:[hs.swapId],references:[Tn.id]}),fromUser:t(at,{fields:[hs.fromUserId],references:[at.id],relationName:"fromUser"}),toUser:t(at,{fields:[hs.toUserId],references:[at.id],relationName:"toUser"})})),ij=Object.freeze(Object.defineProperty({__proto__:null,feedback:hs,feedbackRelations:sj,skills:rt,skillsRelations:nj,swapRequests:Tn,swapRequestsRelations:rj,users:at,usersRelations:tj},Symbol.toStringTag,{value:"Module"}));var oj={};const bb=oj.DATABASE_URL;if(!bb)throw new Error("DATABASE_URL environment variable is required");const aj=Gi(bb),Un=uh(aj,{schema:ij}),lj={};var ch=null;function uj(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return lj.randomBytes(t)}catch{}if(!ch)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return ch(t)}function cj(t){ch=t}function lp(t,e){if(t=t||up,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Ou(uj(Sa),Sa)),n.join("")}function wb(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=up;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(o){nr(function(){try{o(null,lp(t))}catch(a){o(a)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(o,a){s(function(l,c){if(l){a(l);return}o(c)})})}function Sb(t,e){if(typeof e>"u"&&(e=up),typeof e=="number"&&(e=lp(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return fh(t,e)}function Cb(t,e,n,s){function o(a){typeof t=="string"&&typeof e=="number"?wb(e,function(l,c){fh(t,c,a,s)}):typeof t=="string"&&typeof e=="string"?fh(t,e,a,s):nr(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);o(n)}else return new Promise(function(a,l){o(function(c,f){if(c){l(c);return}a(f)})})}function Pb(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function fj(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:Pb(Sb(t,e.substring(0,e.length-31)),e)}function dj(t,e,n,s){function o(a){if(typeof t!="string"||typeof e!="string"){nr(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){nr(a.bind(this,null,!1));return}Cb(t,e.substring(0,29),function(l,c){l?a(l):a(null,Pb(c,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);o(n)}else return new Promise(function(a,l){o(function(c,f){if(c){l(c);return}a(f)})})}function hj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function pj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function mj(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return Nb(t)>72}var nr=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function Nb(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function gj(t){for(var e=0,n,s,o=new Array(Nb(t)),a=0,l=t.length;a<l;++a)n=t.charCodeAt(a),n<128?o[e++]=n:n<2048?(o[e++]=n>>6|192,o[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(a+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++a,o[e++]=n>>18|240,o[e++]=n>>12&63|128,o[e++]=n>>6&63|128,o[e++]=n&63|128):(o[e++]=n>>12|224,o[e++]=n>>6&63|128,o[e++]=n&63|128);return o}var Mi="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),is=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ou(t,e){var n=0,s=[],o,a;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(o=t[n++]&255,s.push(Mi[o>>2&63]),o=(o&3)<<4,n>=e){s.push(Mi[o&63]);break}if(a=t[n++]&255,o|=a>>4&15,s.push(Mi[o&63]),o=(a&15)<<2,n>=e){s.push(Mi[o&63]);break}a=t[n++]&255,o|=a>>6&3,s.push(Mi[o&63]),s.push(Mi[a&63])}return s.join("")}function Eb(t,e){var n=0,s=t.length,o=0,a=[],l,c,f,p,h,g;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&o<e&&(g=t.charCodeAt(n++),l=g<is.length?is[g]:-1,g=t.charCodeAt(n++),c=g<is.length?is[g]:-1,!(l==-1||c==-1||(h=l<<2>>>0,h|=(c&48)>>4,a.push(String.fromCharCode(h)),++o>=e||n>=s)||(g=t.charCodeAt(n++),f=g<is.length?is[g]:-1,f==-1)||(h=(c&15)<<4>>>0,h|=(f&60)>>2,a.push(String.fromCharCode(h)),++o>=e||n>=s)));)g=t.charCodeAt(n++),p=g<is.length?is[g]:-1,h=(f&3)<<6>>>0,h|=p,a.push(String.fromCharCode(h)),++o;var y=[];for(n=0;n<o;n++)y.push(a[n].charCodeAt(0));return y}var Sa=16,up=10,yj=16,xj=100,Qy=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Wy=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],jb=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ca(t,e,n,s){var o,a=t[e],l=t[e+1];return a^=n[0],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[1],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[2],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[3],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[4],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[5],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[6],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[7],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[8],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[9],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[10],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[11],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[12],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[13],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[14],o=s[a>>>24],o+=s[256|a>>16&255],o^=s[512|a>>8&255],o+=s[768|a&255],l^=o^n[15],o=s[l>>>24],o+=s[256|l>>16&255],o^=s[512|l>>8&255],o+=s[768|l&255],a^=o^n[16],t[e]=l^n[yj+1],t[e+1]=a,t}function Vi(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function Hy(t,e,n){for(var s=0,o=[0,0],a=e.length,l=n.length,c,f=0;f<a;f++)c=Vi(t,s),s=c.offp,e[f]=e[f]^c.key;for(f=0;f<a;f+=2)o=Ca(o,0,e,n),e[f]=o[0],e[f+1]=o[1];for(f=0;f<l;f+=2)o=Ca(o,0,e,n),n[f]=o[0],n[f+1]=o[1]}function vj(t,e,n,s){for(var o=0,a=[0,0],l=n.length,c=s.length,f,p=0;p<l;p++)f=Vi(e,o),o=f.offp,n[p]=n[p]^f.key;for(o=0,p=0;p<l;p+=2)f=Vi(t,o),o=f.offp,a[0]^=f.key,f=Vi(t,o),o=f.offp,a[1]^=f.key,a=Ca(a,0,n,s),n[p]=a[0],n[p+1]=a[1];for(p=0;p<c;p+=2)f=Vi(t,o),o=f.offp,a[0]^=f.key,f=Vi(t,o),o=f.offp,a[1]^=f.key,a=Ca(a,0,n,s),s[p]=a[0],s[p+1]=a[1]}function Ky(t,e,n,s,o){var a=jb.slice(),l=a.length,c;if(n<4||n>31)if(c=Error("Illegal number of rounds (4-31): "+n),s){nr(s.bind(this,c));return}else throw c;if(e.length!==Sa)if(c=Error("Illegal salt length: "+e.length+" != "+Sa),s){nr(s.bind(this,c));return}else throw c;n=1<<n>>>0;var f,p,h=0,g;typeof Int32Array=="function"?(f=new Int32Array(Qy),p=new Int32Array(Wy)):(f=Qy.slice(),p=Wy.slice()),vj(e,t,f,p);function y(){if(o&&o(h/n),h<n)for(var b=Date.now();h<n&&(h=h+1,Hy(t,f,p),Hy(e,f,p),!(Date.now()-b>xj)););else{for(h=0;h<64;h++)for(g=0;g<l>>1;g++)Ca(a,g<<1,f,p);var x=[];for(h=0;h<l;h++)x.push((a[h]>>24&255)>>>0),x.push((a[h]>>16&255)>>>0),x.push((a[h]>>8&255)>>>0),x.push((a[h]&255)>>>0);if(s){s(null,x);return}else return x}s&&nr(y)}if(typeof s<"u")y();else for(var P;;)if(typeof(P=y())<"u")return P||[]}function fh(t,e,n,s){var o;if(typeof t!="string"||typeof e!="string")if(o=Error("Invalid string / salt: Not a string"),n){nr(n.bind(this,o));return}else throw o;var a,l;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(o=Error("Invalid salt version: "+e.substring(0,2)),n){nr(n.bind(this,o));return}else throw o;if(e.charAt(2)==="$")a="\0",l=3;else{if(a=e.charAt(2),a!=="a"&&a!=="b"&&a!=="y"||e.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+e.substring(2,4)),n){nr(n.bind(this,o));return}else throw o;l=4}if(e.charAt(l+2)>"$")if(o=Error("Missing salt rounds"),n){nr(n.bind(this,o));return}else throw o;var c=parseInt(e.substring(l,l+1),10)*10,f=parseInt(e.substring(l+1,l+2),10),p=c+f,h=e.substring(l+3,l+25);t+=a>="a"?"\0":"";var g=gj(t),y=Eb(h,Sa);function P(b){var x=[];return x.push("$2"),a>="a"&&x.push(a),x.push("$"),p<10&&x.push("0"),x.push(p.toString()),x.push("$"),x.push(Ou(y,y.length)),x.push(Ou(b,jb.length*4-1)),x.join("")}if(typeof n>"u")return P(Ky(g,y,p));Ky(g,y,p,function(b,x){b?n(b,null):n(null,P(x))},s)}function bj(t,e){return Ou(t,e)}function wj(t,e){return Eb(t,e)}const dh={setRandomFallback:cj,genSaltSync:lp,genSalt:wb,hashSync:Sb,hash:Cb,compareSync:fj,compare:dj,getRounds:hj,getSalt:pj,truncates:mj,encodeBase64:bj,decodeBase64:wj},Oi={async create(t){const e=await dh.hash(t.password,12),[n]=await Un.insert(at).values({...t,password:e}).returning();return n},async getById(t){const[e]=await Un.select().from(at).where(kn(at.id,t));return e},async getByEmail(t){const[e]=await Un.select().from(at).where(kn(at.email,t));return e},async update(t,e){const[n]=await Un.update(at).set({...e,updatedAt:new Date}).where(kn(at.id,t)).returning();return n},async delete(t){await Un.delete(at).where(kn(at.id,t))},async verifyPassword(t,e){return dh.compare(e,t.password)}},sa={async create(t){const[e]=await Un.insert(rt).values(t).returning();return e},async getById(t){const[e]=await Un.select().from(rt).where(kn(rt.id,t));return e},async getByUserId(t){return await Un.select().from(rt).where(kn(rt.userId,t))},async getPublicSkills(t){const e=[];t?.category&&e.push(kn(rt.category,t.category)),t?.proficiencyLevel&&e.push(kn(rt.proficiencyLevel,t.proficiencyLevel)),t?.type&&e.push(kn(rt.type,t.type)),t?.search&&e.push(hb(au(rt.name,`%${t.search}%`),au(rt.description,`%${t.search}%`),au(rt.category,`%${t.search}%`)));let n=Un.select().from(rt),s;return e.length>0?s=await n.where(Du(...e)).orderBy(oh(rt.createdAt)):s=await n.orderBy(oh(rt.createdAt)),s},async update(t,e){const[n]=await Un.update(rt).set({...e,updatedAt:new Date}).where(kn(rt.id,t)).returning();return n},async delete(t){await Un.delete(rt).where(kn(rt.id,t))},async getCategories(){return(await Un.selectDistinct({category:rt.category}).from(rt)).map(e=>e.category)}},cp={async register(t){try{if(await Oi.getByEmail(t.email))throw new Error("User with this email already exists");const n=await dh.hash(t.password,12),s=await Oi.create({firstName:t.firstName,lastName:t.lastName,email:t.email,password:n,isPublic:!0,availability:{weekends:!0,evenings:!0,weekdays:!1,custom:""},rating:0});return{success:!0,message:"User registered successfully",user:{id:s.id,firstName:s.firstName,lastName:s.lastName,email:s.email,profilePhoto:s.profilePhoto||void 0,bio:s.bio||void 0,location:s.location||void 0,isPublic:s.isPublic,availability:s.availability||{weekends:!0,evenings:!0,weekdays:!1,custom:""},rating:s.rating||0}}}catch(e){throw new Error(e instanceof Error?e.message:"Registration failed")}},async login(t){try{const e=await Oi.getByEmail(t.email);if(!e)throw new Error("Invalid email or password");if(!await Oi.verifyPassword(e,t.password))throw new Error("Invalid email or password");return{success:!0,message:"Login successful",user:{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,profilePhoto:e.profilePhoto||void 0,bio:e.bio||void 0,location:e.location||void 0,isPublic:e.isPublic,availability:e.availability||{weekends:!0,evenings:!0,weekdays:!1,custom:""},rating:e.rating||0}}}catch(e){throw new Error(e instanceof Error?e.message:"Login failed")}},async getProfile(t){try{const e=await Oi.getById(t);if(!e)throw new Error("User not found");return{success:!0,message:"Profile retrieved successfully",user:{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,profilePhoto:e.profilePhoto||void 0,bio:e.bio||void 0,location:e.location||void 0,isPublic:e.isPublic,availability:e.availability||{weekends:!0,evenings:!0,weekdays:!1,custom:""},rating:e.rating||0}}}catch(e){throw new Error(e instanceof Error?e.message:"Failed to get profile")}},async updateProfile(t,e){try{const n=await Oi.update(t,e);if(!n)throw new Error("User not found");return{success:!0,message:"Profile updated successfully",user:{id:n.id,firstName:n.firstName,lastName:n.lastName,email:n.email,profilePhoto:n.profilePhoto||void 0,bio:n.bio||void 0,location:n.location||void 0,isPublic:n.isPublic,availability:n.availability||{weekends:!0,evenings:!0,weekdays:!1,custom:""},rating:n.rating||0}}}catch(n){throw new Error(n instanceof Error?n.message:"Failed to update profile")}}},Sj={user:null,token:localStorage.getItem("token"),isLoading:!1,error:null,isAuthenticated:!!localStorage.getItem("token")},uu=rr("auth/login",async t=>await cp.login(t)),cu=rr("auth/register",async t=>await cp.register(t)),fu=rr("auth/updateProfile",async({userId:t,profileData:e})=>await cp.updateProfile(t,e)),kb=Gu({name:"auth",initialState:Sj,reducers:{logout:t=>{t.user=null,t.token=null,t.isAuthenticated=!1,localStorage.removeItem("token")},clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(uu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uu.fulfilled,(e,n)=>{e.isLoading=!1,e.user={...n.payload.user,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},e.token=n.payload.token||null,e.isAuthenticated=!0,n.payload.token&&localStorage.setItem("token",n.payload.token)}).addCase(uu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Login failed"}).addCase(cu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cu.fulfilled,(e,n)=>{e.isLoading=!1,e.user={...n.payload.user,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},e.token=n.payload.token||null,e.isAuthenticated=!0,n.payload.token&&localStorage.setItem("token",n.payload.token)}).addCase(cu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Registration failed"}).addCase(fu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fu.fulfilled,(e,n)=>{e.isLoading=!1,e.user={...n.payload.user,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}).addCase(fu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Profile update failed"})}}),{logout:Cj}=kb.actions,Pj=kb.reducer,Nj=()=>{const t=Ns(),e=ii(),{user:n,isAuthenticated:s}=yn(h=>h.auth),[o,a]=V.useState(!1);V.useEffect(()=>{a(!1)},[e.pathname]);const l=()=>{t(Cj())},c=()=>{t(t1())},f=[{name:"Dashboard",href:"/dashboard",icon:Qd,protected:!0},{name:"Profile",href:"/profile",icon:ds,protected:!0},{name:"My Skills",href:"/skills",icon:Bh,protected:!0},{name:"Browse Skills",href:"/browse",icon:qv,protected:!0},{name:"Swap Requests",href:"/swap-requests",icon:Vh,protected:!0},{name:"Swap History",href:"/swap-history",icon:Uv,protected:!0}],p=h=>e.pathname===h;return m.jsx(m.Fragment,{children:m.jsxs("header",{className:"transition-all duration-500 ease-out fixed top-2 left-2 right-2 z-50 rounded-lg shadow-2xl bg-[#1a1b1e]/95 backdrop-blur-xl border border-[#2c2f33]/50",style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:[m.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4",children:[m.jsx("button",{onClick:s?c:()=>a(!o),className:"lg:hidden p-3 rounded-md text-[#b9bbbe] hover:text-[#ffffff] hover:bg-[#2c2f33] transition-all duration-200 touch-manipulation discord-focus","aria-label":"Toggle menu",children:o?m.jsx(Pu,{className:"h-6 w-6"}):m.jsx(qP,{className:"h-6 w-6"})}),m.jsx("div",{className:"flex items-center",children:m.jsx(Qt,{to:s?"/dashboard":"/",className:"text-lg sm:text-xl font-bold text-[#7289da] hover:text-[#5b6eae] transition-colors duration-200 touch-manipulation discord-focus",children:"CONDuit"})}),m.jsx("nav",{className:"hidden lg:flex items-center space-x-2",children:s?m.jsx(m.Fragment,{children:f.map(h=>{const g=h.icon;return m.jsxs(Qt,{to:h.href,className:`nav-item ${p(h.href)?"active":""} discord-focus`,children:[m.jsx(g,{className:"h-4 w-4 mr-2"}),m.jsx("span",{children:h.name})]},h.name)})}):m.jsxs(m.Fragment,{children:[m.jsx(Qt,{to:"/",className:`nav-item ${p("/")?"active":""} discord-focus`,children:"Home"}),m.jsx(Qt,{to:"/login",className:"nav-item discord-focus",children:"Login"}),m.jsx(Qt,{to:"/register",className:"btn-primary text-sm px-4 py-2",children:"Sign Up"})]})}),m.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:s&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"p-2 sm:p-3 text-[#b9bbbe] hover:text-[#ffffff] hover:bg-[#2c2f33] rounded-md transition-all duration-200 touch-manipulation discord-focus",children:m.jsx($P,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n?.profilePhoto?m.jsx("img",{src:n.profilePhoto,alt:`${n.firstName} ${n.lastName}`,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full object-cover ring-2 ring-[#2c2f33] hover:ring-[#7289da] transition-all duration-200 shadow-sm"}):m.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-[#7289da] rounded-full flex items-center justify-center ring-2 ring-[#2c2f33] hover:ring-[#5b6eae] transition-all duration-200 shadow-sm",children:m.jsx(ds,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),m.jsxs("span",{className:"hidden sm:block text-sm font-medium text-[#ffffff]",children:[n?.firstName," ",n?.lastName]})]})}),m.jsx("button",{onClick:l,className:"p-2 sm:p-3 text-[#b9bbbe] hover:text-[#f04747] hover:bg-[#2c2f33] rounded-md transition-all duration-200 touch-manipulation discord-focus",title:"Logout","aria-label":"Logout",children:m.jsx(zP,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})})]}),o&&!s&&m.jsx("div",{className:"lg:hidden border-t border-[#2c2f33] mt-2 pt-4 pb-4 discord-fade-in",children:m.jsxs("nav",{className:"space-y-2 px-4",children:[m.jsxs(Qt,{to:"/",onClick:()=>a(!1),className:`nav-item ${p("/")?"active":""} discord-focus`,children:[m.jsx(Qd,{className:"h-5 w-5 mr-3"}),m.jsx("span",{children:"Home"})]}),m.jsxs(Qt,{to:"/login",onClick:()=>a(!1),className:"nav-item discord-focus",children:[m.jsx(ds,{className:"h-5 w-5 mr-3"}),m.jsx("span",{children:"Login"})]}),m.jsxs(Qt,{to:"/register",onClick:()=>a(!1),className:"btn-primary text-sm px-4 py-3 flex items-center",children:[m.jsx(ds,{className:"h-5 w-5 mr-3"}),m.jsx("span",{children:"Sign Up"})]})]})})]})})},Cd=({children:t,className:e="",spotlightColor:n="rgba(255, 255, 255, 0.25)"})=>{const s=V.useRef(null),o=a=>{if(!s.current)return;const l=s.current.getBoundingClientRect(),c=a.clientX-l.left,f=a.clientY-l.top;s.current.style.setProperty("--mouse-x",`${c}px`),s.current.style.setProperty("--mouse-y",`${f}px`),s.current.style.setProperty("--spotlight-color",n)};return m.jsx("div",{ref:s,onMouseMove:o,className:`card-spotlight ${e}`,children:t})},Ej=()=>m.jsxs("div",{className:"min-h-screen bg-[#313338] pt-20 sm:pt-24",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-20",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-bold text-[#F2F3F5] mb-4 sm:mb-6",children:["Connect, Learn, and",m.jsx("span",{className:"text-[#7289da]",children:" Exchange Skills"})]}),m.jsx("p",{className:"text-lg sm:text-xl text-[#949BA4] mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Join a community of learners and teachers. Share your expertise, learn from others, and build meaningful connections through skill exchange."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:[m.jsx(sn,{sparkColor:"#7289da",children:m.jsxs(Qt,{to:"/register",className:"btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 inline-flex items-center justify-center touch-manipulation discord-hover",children:["Start Your Journey",m.jsx(cy,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})}),m.jsx(sn,{sparkColor:"#7289da",children:m.jsx(Qt,{to:"/login",className:"btn-secondary text-base sm:text-lg px-6 sm:px-8 py-3 touch-manipulation discord-hover",children:"Sign In"})})]})]})}),m.jsx("div",{className:"bg-[#2B2D31] py-12 sm:py-20",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#F2F3F5] mb-3 sm:mb-4",children:"Why Choose CONDuit?"}),m.jsx("p",{className:"text-lg sm:text-xl text-[#949BA4]",children:"A platform designed for meaningful skill exchanges"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 sm:gap-12",children:[m.jsx(Cd,{children:m.jsxs("div",{className:"text-center",children:[m.jsx(sn,{sparkColor:"#7289da",children:m.jsx("div",{className:"bg-[#7289da] w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:m.jsx(HP,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})})}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#F2F3F5] mb-2 sm:mb-3",children:"Connect with Peers"}),m.jsx("p",{className:"text-[#949BA4] text-sm sm:text-base",children:"Find like-minded individuals who share your interests and learning goals."})]})}),m.jsx(Cd,{children:m.jsxs("div",{className:"text-center",children:[m.jsx(sn,{sparkColor:"#57F287",children:m.jsx("div",{className:"bg-[#57F287] w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:m.jsx(Bh,{className:"h-8 w-8 sm:h-10 sm:w-10 text-[#313338]"})})}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#F2F3F5] mb-2 sm:mb-3",children:"Learn New Skills"}),m.jsx("p",{className:"text-[#949BA4] text-sm sm:text-base",children:"Discover a wide range of skills from technology to arts, languages to cooking."})]})}),m.jsx(Cd,{children:m.jsxs("div",{className:"text-center",children:[m.jsx(sn,{sparkColor:"#FAA61A",children:m.jsx("div",{className:"bg-[#FAA61A] w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:m.jsx(Vh,{className:"h-8 w-8 sm:h-10 sm:w-10 text-[#313338]"})})}),m.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#F2F3F5] mb-2 sm:mb-3",children:"Exchange Knowledge"}),m.jsx("p",{className:"text-[#949BA4] text-sm sm:text-base",children:"Share your expertise and receive valuable knowledge in return."})]})})]})]})}),m.jsx("div",{className:"bg-[#7289da] py-12 sm:py-16",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2",children:"1,000+"}),m.jsx("div",{className:"text-[#E8F2FF] text-sm sm:text-base",children:"Active Users"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2",children:"500+"}),m.jsx("div",{className:"text-[#E8F2FF] text-sm sm:text-base",children:"Skills Available"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2",children:"2,500+"}),m.jsx("div",{className:"text-[#E8F2FF] text-sm sm:text-base",children:"Successful Swaps"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 sm:mb-2",children:"4.8"}),m.jsxs("div",{className:"text-[#E8F2FF] flex items-center justify-center text-sm sm:text-base",children:[m.jsx(WP,{className:"h-4 w-4 mr-1"}),"Average Rating"]})]})]})})}),m.jsx("div",{className:"bg-[#2B2D31] py-12 sm:py-20",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#F2F3F5] mb-3 sm:mb-4",children:"Ready to Start Your Skill Exchange Journey?"}),m.jsx("p",{className:"text-lg sm:text-xl text-[#949BA4] mb-6 sm:mb-8",children:"Join thousands of learners and teachers on CONDuit today."}),m.jsx(sn,{sparkColor:"#7289da",children:m.jsxs(Qt,{to:"/register",className:"btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 inline-flex items-center justify-center touch-manipulation discord-hover",children:["Create Your Account",m.jsx(cy,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})})]})}),m.jsx("footer",{className:"bg-[#1E1F22] text-white py-8 sm:py-12",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#7289da] mb-3 sm:mb-4",children:"CONDuit"}),m.jsx("p",{className:"text-[#949BA4] mb-4 sm:mb-6 text-sm sm:text-base",children:"Connecting people through skill exchange"}),m.jsx("div",{className:"text-xs sm:text-sm text-[#6D6F78]",children:" 2024 CONDuit. All rights reserved."})]})})})]});var Oa=t=>t.type==="checkbox",Js=t=>t instanceof Date,nn=t=>t==null;const Tb=t=>typeof t=="object";var Nt=t=>!nn(t)&&!Array.isArray(t)&&Tb(t)&&!Js(t),jj=t=>Nt(t)&&t.target?Oa(t.target)?t.target.checked:t.target.value:t,kj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Tj=(t,e)=>t.has(kj(e)),Aj=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},fp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(fp&&(t instanceof Blob||s))&&(n||Nt(t)))if(e=n?[]:{},!n&&!Aj(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=Ft(t[o]));else return t;return e}var oc=t=>/^\w*$/.test(t),At=t=>t===void 0,dp=t=>Array.isArray(t)?t.filter(Boolean):[],hp=t=>dp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(t,e,n)=>{if(!e||!Nt(t))return n;const s=(oc(e)?[e]:hp(e)).reduce((o,a)=>nn(o)?o:o[a],t);return At(s)||s===t?At(t[e])?n:t[e]:s},fr=t=>typeof t=="boolean",ft=(t,e,n)=>{let s=-1;const o=oc(e)?[e]:hp(e),a=o.length,l=a-1;for(;++s<a;){const c=o[s];let f=n;if(s!==l){const p=t[c];f=Nt(p)||Array.isArray(p)?p:isNaN(+o[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=f,t=t[c]}};const Gy={BLUR:"blur",FOCUS_OUT:"focusout"},er={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_j=pn.createContext(null);_j.displayName="HookFormContext";var Lj=(t,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const l=a;return e._proxyFormState[l]!==er.all&&(e._proxyFormState[l]=!s||er.all),t[l]}});return o};const Rj=typeof window<"u"?V.useLayoutEffect:V.useEffect;var hr=t=>typeof t=="string",Dj=(t,e,n,s,o)=>hr(t)?(s&&e.watch.add(t),Ee(n,t,o)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),Ee(n,a))):(s&&(e.watchAll=!0),n),Ij=(t,e,n,s,o)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:o||!0}}:{},ia=t=>Array.isArray(t)?t:[t],Yy=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},hh=t=>nn(t)||!Tb(t);function cs(t,e,n=new WeakSet){if(hh(t)||hh(e))return t===e;if(Js(t)&&Js(e))return t.getTime()===e.getTime();const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of s){const l=t[a];if(!o.includes(a))return!1;if(a!=="ref"){const c=e[a];if(Js(l)&&Js(c)||Nt(l)&&Nt(c)||Array.isArray(l)&&Array.isArray(c)?!cs(l,c,n):l!==c)return!1}}return!0}var mn=t=>Nt(t)&&!Object.keys(t).length,pp=t=>t.type==="file",tr=t=>typeof t=="function",Fu=t=>{if(!fp)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ab=t=>t.type==="select-multiple",mp=t=>t.type==="radio",Mj=t=>mp(t)||Oa(t),Pd=t=>Fu(t)&&t.isConnected;function Oj(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=At(t)?s++:t[e[s++]];return t}function Fj(t){for(const e in t)if(t.hasOwnProperty(e)&&!At(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:oc(e)?[e]:hp(e),s=n.length===1?t:Oj(t,n),o=n.length-1,a=n[o];return s&&delete s[a],o!==0&&(Nt(s)&&mn(s)||Array.isArray(s)&&Fj(s))&&kt(t,n.slice(0,-1)),t}var _b=t=>{for(const e in t)if(tr(t[e]))return!0;return!1};function Bu(t,e={}){const n=Array.isArray(t);if(Nt(t)||n)for(const s in t)Array.isArray(t[s])||Nt(t[s])&&!_b(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Bu(t[s],e[s])):nn(t[s])||(e[s]=!0);return e}function Lb(t,e,n){const s=Array.isArray(t);if(Nt(t)||s)for(const o in t)Array.isArray(t[o])||Nt(t[o])&&!_b(t[o])?At(e)||hh(n[o])?n[o]=Array.isArray(t[o])?Bu(t[o],[]):{...Bu(t[o])}:Lb(t[o],nn(e)?{}:e[o],n[o]):n[o]=!cs(t[o],e[o]);return n}var Jo=(t,e)=>Lb(t,e,Bu(e));const Jy={value:!1,isValid:!1},Xy={value:!0,isValid:!0};var Rb=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!At(t[0].attributes.value)?At(t[0].value)||t[0].value===""?Xy:{value:t[0].value,isValid:!0}:Xy:Jy}return Jy},Db=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>At(t)?t:e?t===""?NaN:t&&+t:n&&hr(t)?new Date(t):s?s(t):t;const Zy={isValid:!1,value:null};var Ib=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Zy):Zy;function ex(t){const e=t.ref;return pp(e)?e.files:mp(e)?Ib(t.refs).value:Ab(e)?[...e.selectedOptions].map(({value:n})=>n):Oa(e)?Rb(t.refs).value:Db(At(e.value)?t.ref.value:e.value,t)}var Bj=(t,e,n,s)=>{const o={};for(const a of t){const l=Ee(e,a);l&&ft(o,a,l._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:s}},Vu=t=>t instanceof RegExp,Xo=t=>At(t)?t:Vu(t)?t.source:Nt(t)?Vu(t.value)?t.value.source:t.value:t,tx=t=>({isOnSubmit:!t||t===er.onSubmit,isOnBlur:t===er.onBlur,isOnChange:t===er.onChange,isOnAll:t===er.all,isOnTouch:t===er.onTouched});const nx="AsyncFunction";var Vj=t=>!!t&&!!t.validate&&!!(tr(t.validate)&&t.validate.constructor.name===nx||Nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nx)),$j=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),rx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const oa=(t,e,n,s)=>{for(const o of n||Object.keys(t)){const a=Ee(t,o);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],o)&&!s)return!0;if(l.ref&&e(l.ref,l.name)&&!s)return!0;if(oa(c,e))break}else if(Nt(c)&&oa(c,e))break}}};function sx(t,e,n){const s=Ee(t,n);if(s||oc(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const a=o.join("."),l=Ee(e,a),c=Ee(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};o.pop()}return{name:n}}var Uj=(t,e,n,s)=>{n(t);const{name:o,...a}=t;return mn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!s||er.all))},zj=(t,e,n)=>!t||!e||t===e||ia(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),qj=(t,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||t):(n?s.isOnBlur:o.isOnBlur)?!t:(n?s.isOnChange:o.isOnChange)?t:!0,Qj=(t,e)=>!dp(Ee(t,e)).length&&kt(t,e),Wj=(t,e,n)=>{const s=ia(Ee(t,n));return ft(s,"root",e[n]),ft(t,n,s),t},du=t=>hr(t);function ix(t,e,n="validate"){if(du(t)||Array.isArray(t)&&t.every(du)||fr(t)&&!t)return{type:n,message:du(t)?t:"",ref:e}}var Fi=t=>Nt(t)&&!Vu(t)?t:{value:t,message:""},ox=async(t,e,n,s,o,a)=>{const{ref:l,refs:c,required:f,maxLength:p,minLength:h,min:g,max:y,pattern:P,validate:b,name:x,valueAsNumber:C,mount:E}=t._f,j=Ee(n,x);if(!E||e.has(x))return{};const k=c?c[0]:l,M=Z=>{o&&k.reportValidity&&(k.setCustomValidity(fr(Z)?"":Z||""),k.reportValidity())},R={},L=mp(l),D=Oa(l),O=L||D,I=(C||pp(l))&&At(l.value)&&At(j)||Fu(l)&&l.value===""||j===""||Array.isArray(j)&&!j.length,H=Ij.bind(null,x,s,R),B=(Z,re,G,ae=Lr.maxLength,xe=Lr.minLength)=>{const de=Z?re:G;R[x]={type:Z?ae:xe,message:de,ref:l,...H(Z?ae:xe,de)}};if(a?!Array.isArray(j)||!j.length:f&&(!O&&(I||nn(j))||fr(j)&&!j||D&&!Rb(c).isValid||L&&!Ib(c).isValid)){const{value:Z,message:re}=du(f)?{value:!!f,message:f}:Fi(f);if(Z&&(R[x]={type:Lr.required,message:re,ref:k,...H(Lr.required,re)},!s))return M(re),R}if(!I&&(!nn(g)||!nn(y))){let Z,re;const G=Fi(y),ae=Fi(g);if(!nn(j)&&!isNaN(j)){const xe=l.valueAsNumber||j&&+j;nn(G.value)||(Z=xe>G.value),nn(ae.value)||(re=xe<ae.value)}else{const xe=l.valueAsDate||new Date(j),de=ye=>new Date(new Date().toDateString()+" "+ye),se=l.type=="time",ue=l.type=="week";hr(G.value)&&j&&(Z=se?de(j)>de(G.value):ue?j>G.value:xe>new Date(G.value)),hr(ae.value)&&j&&(re=se?de(j)<de(ae.value):ue?j<ae.value:xe<new Date(ae.value))}if((Z||re)&&(B(!!Z,G.message,ae.message,Lr.max,Lr.min),!s))return M(R[x].message),R}if((p||h)&&!I&&(hr(j)||a&&Array.isArray(j))){const Z=Fi(p),re=Fi(h),G=!nn(Z.value)&&j.length>+Z.value,ae=!nn(re.value)&&j.length<+re.value;if((G||ae)&&(B(G,Z.message,re.message),!s))return M(R[x].message),R}if(P&&!I&&hr(j)){const{value:Z,message:re}=Fi(P);if(Vu(Z)&&!j.match(Z)&&(R[x]={type:Lr.pattern,message:re,ref:l,...H(Lr.pattern,re)},!s))return M(re),R}if(b){if(tr(b)){const Z=await b(j,n),re=ix(Z,k);if(re&&(R[x]={...re,...H(Lr.validate,re.message)},!s))return M(re.message),R}else if(Nt(b)){let Z={};for(const re in b){if(!mn(Z)&&!s)break;const G=ix(await b[re](j,n),k,re);G&&(Z={...G,...H(re,G.message)},M(G.message),s&&(R[x]=Z))}if(!mn(Z)&&(R[x]={ref:k,...Z},!s))return R}}return M(!0),R};const Hj={mode:er.onSubmit,reValidateMode:er.onChange,shouldFocusError:!0};function Kj(t={}){let e={...Hj,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:tr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=Nt(e.defaultValues)||Nt(e.values)?Ft(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Ft(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const y={array:Yy(),state:Yy()},P=e.criteriaMode===er.all,b=$=>J=>{clearTimeout(p),p=setTimeout($,J)},x=async $=>{if(!e.disabled&&(h.isValid||g.isValid||$)){const J=e.resolver?mn((await D()).errors):await I(s,!0);J!==n.isValid&&y.state.next({isValid:J})}},C=($,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&(($||Array.from(c.mount)).forEach(ne=>{ne&&(J?ft(n.validatingFields,ne,J):kt(n.validatingFields,ne))}),y.state.next({validatingFields:n.validatingFields,isValidating:!mn(n.validatingFields)}))},E=($,J=[],ne,be,ve=!0,he=!0)=>{if(be&&ne&&!e.disabled){if(l.action=!0,he&&Array.isArray(Ee(s,$))){const je=ne(Ee(s,$),be.argA,be.argB);ve&&ft(s,$,je)}if(he&&Array.isArray(Ee(n.errors,$))){const je=ne(Ee(n.errors,$),be.argA,be.argB);ve&&ft(n.errors,$,je),Qj(n.errors,$)}if((h.touchedFields||g.touchedFields)&&he&&Array.isArray(Ee(n.touchedFields,$))){const je=ne(Ee(n.touchedFields,$),be.argA,be.argB);ve&&ft(n.touchedFields,$,je)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Jo(o,a)),y.state.next({name:$,isDirty:B($,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(a,$,J)},j=($,J)=>{ft(n.errors,$,J),y.state.next({errors:n.errors})},k=$=>{n.errors=$,y.state.next({errors:n.errors,isValid:!1})},M=($,J,ne,be)=>{const ve=Ee(s,$);if(ve){const he=Ee(a,$,At(ne)?Ee(o,$):ne);At(he)||be&&be.defaultChecked||J?ft(a,$,J?he:ex(ve._f)):G($,he),l.mount&&x()}},R=($,J,ne,be,ve)=>{let he=!1,je=!1;const w={name:$};if(!e.disabled){if(!ne||be){(h.isDirty||g.isDirty)&&(je=n.isDirty,n.isDirty=w.isDirty=B(),he=je!==w.isDirty);const N=cs(Ee(o,$),J);je=!!Ee(n.dirtyFields,$),N?kt(n.dirtyFields,$):ft(n.dirtyFields,$,!0),w.dirtyFields=n.dirtyFields,he=he||(h.dirtyFields||g.dirtyFields)&&je!==!N}if(ne){const N=Ee(n.touchedFields,$);N||(ft(n.touchedFields,$,ne),w.touchedFields=n.touchedFields,he=he||(h.touchedFields||g.touchedFields)&&N!==ne)}he&&ve&&y.state.next(w)}return he?w:{}},L=($,J,ne,be)=>{const ve=Ee(n.errors,$),he=(h.isValid||g.isValid)&&fr(J)&&n.isValid!==J;if(e.delayError&&ne?(f=b(()=>j($,ne)),f(e.delayError)):(clearTimeout(p),f=null,ne?ft(n.errors,$,ne):kt(n.errors,$)),(ne?!cs(ve,ne):ve)||!mn(be)||he){const je={...be,...he&&fr(J)?{isValid:J}:{},errors:n.errors,name:$};n={...n,...je},y.state.next(je)}},D=async $=>{C($,!0);const J=await e.resolver(a,e.context,Bj($||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return C($),J},O=async $=>{const{errors:J}=await D($);if($)for(const ne of $){const be=Ee(J,ne);be?ft(n.errors,ne,be):kt(n.errors,ne)}else n.errors=J;return J},I=async($,J,ne={valid:!0})=>{for(const be in $){const ve=$[be];if(ve){const{_f:he,...je}=ve;if(he){const w=c.array.has(he.name),N=ve._f&&Vj(ve._f);N&&h.validatingFields&&C([be],!0);const T=await ox(ve,c.disabled,a,P,e.shouldUseNativeValidation&&!J,w);if(N&&h.validatingFields&&C([be]),T[he.name]&&(ne.valid=!1,J))break;!J&&(Ee(T,he.name)?w?Wj(n.errors,T,he.name):ft(n.errors,he.name,T[he.name]):kt(n.errors,he.name))}!mn(je)&&await I(je,J,ne)}}return ne.valid},H=()=>{for(const $ of c.unMount){const J=Ee(s,$);J&&(J._f.refs?J._f.refs.every(ne=>!Pd(ne)):!Pd(J._f.ref))&&Ke($)}c.unMount=new Set},B=($,J)=>!e.disabled&&($&&J&&ft(a,$,J),!cs(ye(),o)),Z=($,J,ne)=>Dj($,c,{...l.mount?a:At(J)?o:hr($)?{[$]:J}:J},ne,J),re=$=>dp(Ee(l.mount?a:o,$,e.shouldUnregister?Ee(o,$,[]):[])),G=($,J,ne={})=>{const be=Ee(s,$);let ve=J;if(be){const he=be._f;he&&(!he.disabled&&ft(a,$,Db(J,he)),ve=Fu(he.ref)&&nn(J)?"":J,Ab(he.ref)?[...he.ref.options].forEach(je=>je.selected=ve.includes(je.value)):he.refs?Oa(he.ref)?he.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(ve)?je.checked=!!ve.find(w=>w===je.value):je.checked=ve===je.value||!!ve)}):he.refs.forEach(je=>je.checked=je.value===ve):pp(he.ref)?he.ref.value="":(he.ref.value=ve,he.ref.type||y.state.next({name:$,values:Ft(a)})))}(ne.shouldDirty||ne.shouldTouch)&&R($,ve,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ue($)},ae=($,J,ne)=>{for(const be in J){if(!J.hasOwnProperty(be))return;const ve=J[be],he=$+"."+be,je=Ee(s,he);(c.array.has($)||Nt(ve)||je&&!je._f)&&!Js(ve)?ae(he,ve,ne):G(he,ve,ne)}},xe=($,J,ne={})=>{const be=Ee(s,$),ve=c.array.has($),he=Ft(J);ft(a,$,he),ve?(y.array.next({name:$,values:Ft(a)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&ne.shouldDirty&&y.state.next({name:$,dirtyFields:Jo(o,a),isDirty:B($,he)})):be&&!be._f&&!nn(he)?ae($,he,ne):G($,he,ne),rx($,c)&&y.state.next({...n}),y.state.next({name:l.mount?$:void 0,values:Ft(a)})},de=async $=>{l.mount=!0;const J=$.target;let ne=J.name,be=!0;const ve=Ee(s,ne),he=N=>{be=Number.isNaN(N)||Js(N)&&isNaN(N.getTime())||cs(N,Ee(a,ne,N))},je=tx(e.mode),w=tx(e.reValidateMode);if(ve){let N,T;const U=J.type?ex(ve._f):jj($),K=$.type===Gy.BLUR||$.type===Gy.FOCUS_OUT,ie=!$j(ve._f)&&!e.resolver&&!Ee(n.errors,ne)&&!ve._f.deps||qj(K,Ee(n.touchedFields,ne),n.isSubmitted,w,je),me=rx(ne,c,K);ft(a,ne,U),K?(ve._f.onBlur&&ve._f.onBlur($),f&&f(0)):ve._f.onChange&&ve._f.onChange($);const Ye=R(ne,U,K),yt=!mn(Ye)||me;if(!K&&y.state.next({name:ne,type:$.type,values:Ft(a)}),ie)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?K&&x():K||x()),yt&&y.state.next({name:ne,...me?{}:Ye});if(!K&&me&&y.state.next({...n}),e.resolver){const{errors:et}=await D([ne]);if(he(U),be){const Xe=sx(n.errors,s,ne),it=sx(et,s,Xe.name||ne);N=it.error,ne=it.name,T=mn(et)}}else C([ne],!0),N=(await ox(ve,c.disabled,a,P,e.shouldUseNativeValidation))[ne],C([ne]),he(U),be&&(N?T=!1:(h.isValid||g.isValid)&&(T=await I(s,!0)));be&&(ve._f.deps&&ue(ve._f.deps),L(ne,T,N,Ye))}},se=($,J)=>{if(Ee(n.errors,J)&&$.focus)return $.focus(),1},ue=async($,J={})=>{let ne,be;const ve=ia($);if(e.resolver){const he=await O(At($)?$:ve);ne=mn(he),be=$?!ve.some(je=>Ee(he,je)):ne}else $?(be=(await Promise.all(ve.map(async he=>{const je=Ee(s,he);return await I(je&&je._f?{[he]:je}:je)}))).every(Boolean),!(!be&&!n.isValid)&&x()):be=ne=await I(s);return y.state.next({...!hr($)||(h.isValid||g.isValid)&&ne!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:ne}:{},errors:n.errors}),J.shouldFocus&&!be&&oa(s,se,$?ve:c.mount),be},ye=$=>{const J={...l.mount?a:o};return At($)?J:hr($)?Ee(J,$):$.map(ne=>Ee(J,ne))},q=($,J)=>({invalid:!!Ee((J||n).errors,$),isDirty:!!Ee((J||n).dirtyFields,$),error:Ee((J||n).errors,$),isValidating:!!Ee(n.validatingFields,$),isTouched:!!Ee((J||n).touchedFields,$)}),oe=$=>{$&&ia($).forEach(J=>kt(n.errors,J)),y.state.next({errors:$?n.errors:{}})},De=($,J,ne)=>{const be=(Ee(s,$,{_f:{}})._f||{}).ref,ve=Ee(n.errors,$)||{},{ref:he,message:je,type:w,...N}=ve;ft(n.errors,$,{...N,...J,ref:be}),y.state.next({name:$,errors:n.errors,isValid:!1}),ne&&ne.shouldFocus&&be&&be.focus&&be.focus()},Ve=($,J)=>tr($)?y.state.subscribe({next:ne=>$(Z(void 0,J),ne)}):Z($,J,!0),ze=$=>y.state.subscribe({next:J=>{zj($.name,J.name,$.exact)&&Uj(J,$.formState||h,ir,$.reRenderRoot)&&$.callback({values:{...a},...n,...J})}}).unsubscribe,Qe=$=>(l.mount=!0,g={...g,...$.formState},ze({...$,formState:g})),Ke=($,J={})=>{for(const ne of $?ia($):c.mount)c.mount.delete(ne),c.array.delete(ne),J.keepValue||(kt(s,ne),kt(a,ne)),!J.keepError&&kt(n.errors,ne),!J.keepDirty&&kt(n.dirtyFields,ne),!J.keepTouched&&kt(n.touchedFields,ne),!J.keepIsValidating&&kt(n.validatingFields,ne),!e.shouldUnregister&&!J.keepDefaultValue&&kt(o,ne);y.state.next({values:Ft(a)}),y.state.next({...n,...J.keepDirty?{isDirty:B()}:{}}),!J.keepIsValid&&x()},qe=({disabled:$,name:J})=>{(fr($)&&l.mount||$||c.disabled.has(J))&&($?c.disabled.add(J):c.disabled.delete(J))},Ge=($,J={})=>{let ne=Ee(s,$);const be=fr(J.disabled)||fr(e.disabled);return ft(s,$,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:$}},name:$,mount:!0,...J}}),c.mount.add($),ne?qe({disabled:fr(J.disabled)?J.disabled:e.disabled,name:$}):M($,!0,J.value),{...be?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Xo(J.min),max:Xo(J.max),minLength:Xo(J.minLength),maxLength:Xo(J.maxLength),pattern:Xo(J.pattern)}:{},name:$,onChange:de,onBlur:de,ref:ve=>{if(ve){Ge($,J),ne=Ee(s,$);const he=At(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,je=Mj(he),w=ne._f.refs||[];if(je?w.find(N=>N===he):he===ne._f.ref)return;ft(s,$,{_f:{...ne._f,...je?{refs:[...w.filter(Pd),he,...Array.isArray(Ee(o,$))?[{}]:[]],ref:{type:he.type,name:$}}:{ref:he}}}),M($,!1,void 0,he)}else ne=Ee(s,$,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(Tj(c.array,$)&&l.action)&&c.unMount.add($)}}},bt=()=>e.shouldFocusError&&oa(s,se,c.mount),xr=$=>{fr($)&&(y.state.next({disabled:$}),oa(s,(J,ne)=>{const be=Ee(s,ne);be&&(J.disabled=be._f.disabled||$,Array.isArray(be._f.refs)&&be._f.refs.forEach(ve=>{ve.disabled=be._f.disabled||$}))},0,!1))},vr=($,J)=>async ne=>{let be;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let ve=Ft(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:je}=await D();n.errors=he,ve=Ft(je)}else await I(s);if(c.disabled.size)for(const he of c.disabled)kt(ve,he);if(kt(n.errors,"root"),mn(n.errors)){y.state.next({errors:{}});try{await $(ve,ne)}catch(he){be=he}}else J&&await J({...n.errors},ne),bt(),setTimeout(bt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mn(n.errors)&&!be,submitCount:n.submitCount+1,errors:n.errors}),be)throw be},an=($,J={})=>{Ee(s,$)&&(At(J.defaultValue)?xe($,Ft(Ee(o,$))):(xe($,J.defaultValue),ft(o,$,Ft(J.defaultValue))),J.keepTouched||kt(n.touchedFields,$),J.keepDirty||(kt(n.dirtyFields,$),n.isDirty=J.defaultValue?B($,Ft(Ee(o,$))):B()),J.keepError||(kt(n.errors,$),h.isValid&&x()),y.state.next({...n}))},bn=($,J={})=>{const ne=$?Ft($):o,be=Ft(ne),ve=mn($),he=ve?o:be;if(J.keepDefaultValues||(o=ne),!J.keepValues){if(J.keepDirtyValues){const je=new Set([...c.mount,...Object.keys(Jo(o,a))]);for(const w of Array.from(je))Ee(n.dirtyFields,w)?ft(he,w,Ee(a,w)):xe(w,Ee(he,w))}else{if(fp&&At($))for(const je of c.mount){const w=Ee(s,je);if(w&&w._f){const N=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Fu(N)){const T=N.closest("form");if(T){T.reset();break}}}}if(J.keepFieldsRef)for(const je of c.mount)xe(je,Ee(he,je));else s={}}a=e.shouldUnregister?J.keepDefaultValues?Ft(o):{}:Ft(he),y.array.next({values:{...he}}),y.state.next({values:{...he}})}c={mount:J.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!cs($,o)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:J.keepDirtyValues?J.keepDefaultValues&&a?Jo(o,a):n.dirtyFields:J.keepDefaultValues&&$?Jo(o,$):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ts=($,J)=>bn(tr($)?$(a):$,J),As=($,J={})=>{const ne=Ee(s,$),be=ne&&ne._f;if(be){const ve=be.refs?be.refs[0]:be.ref;ve.focus&&(ve.focus(),J.shouldSelect&&tr(ve.select)&&ve.select())}},ir=$=>{n={...n,...$}},br={control:{register:Ge,unregister:Ke,getFieldState:q,handleSubmit:vr,setError:De,_subscribe:ze,_runSchema:D,_focusError:bt,_getWatch:Z,_getDirty:B,_setValid:x,_setFieldArray:E,_setDisabledField:qe,_setErrors:k,_getFieldArray:re,_reset:bn,_resetDefaultValues:()=>tr(e.defaultValues)&&e.defaultValues().then($=>{Ts($,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:xr,_subjects:y,_proxyFormState:h,get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state($){l=$},get _defaultValues(){return o},get _names(){return c},set _names($){c=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Qe,trigger:ue,register:Ge,handleSubmit:vr,watch:Ve,setValue:xe,getValues:ye,reset:Ts,resetField:an,clearErrors:oe,unregister:Ke,setError:De,setFocus:As,getFieldState:q};return{...br,formControl:br}}function Mb(t={}){const e=pn.useRef(void 0),n=pn.useRef(void 0),[s,o]=pn.useState({isDirty:!1,isValidating:!1,isLoading:tr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:tr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!tr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=Kj(t);e.current={...c,formState:s}}const a=e.current.control;return a._options=t,Rj(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),pn.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),pn.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),pn.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),pn.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),pn.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==s.isDirty&&a._subjects.state.next({isDirty:l})}},[a,s.isDirty]),pn.useEffect(()=>{t.values&&!cs(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,o(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),pn.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Lj(s,a),e.current}const Gj=()=>{const[t,e]=V.useState(!1),n=Ns(),s=Hu(),{isLoading:o,error:a}=yn(h=>h.auth),{register:l,handleSubmit:c,formState:{errors:f}}=Mb(),p=async h=>{try{await n(uu(h)),Cu.success("Welcome back!"),s("/dashboard")}catch{Cu.error("Login failed. Please try again.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#313338] py-8 sm:py-12 px-4 sm:px-6 lg:px-8 pt-32 sm:pt-36",children:m.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"mt-6 text-center text-2xl sm:text-3xl font-extrabold text-[#F2F3F5]",children:"Sign in to your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm sm:text-base text-[#949BA4]",children:["Or"," ",m.jsx(Qt,{to:"/register",className:"font-medium text-[#5865F2] hover:text-[#4752C4] touch-manipulation discord-focus",children:"create a new account"})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(p),children:[m.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Email address"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(zv,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field pl-10 text-base",placeholder:"Enter your email"})]}),f.email&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:f.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wd,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...l("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",className:"input-field pl-10 pr-12 text-base",placeholder:"Enter your password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center touch-manipulation discord-focus",onClick:()=>e(!t),children:t?m.jsx(ma,{className:"h-5 w-5 text-[#949BA4]"}):m.jsx(ga,{className:"h-5 w-5 text-[#949BA4]"})})]}),f.password&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:f.password.message})]})]}),a&&m.jsx("div",{className:"bg-[#ED4245]/10 border border-[#ED4245]/20 text-[#ED4245] px-4 py-3 rounded-md text-sm",children:a}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full flex justify-center py-3 text-base font-medium touch-manipulation discord-hover",children:o?"Signing in...":"Sign in"})}),m.jsx("div",{className:"text-center",children:m.jsx(Qt,{to:"/forgot-password",className:"text-sm text-[#5865F2] hover:text-[#4752C4] touch-manipulation discord-focus",children:"Forgot your password?"})})]})]})})},Yj=()=>{const[t,e]=V.useState(!1),[n,s]=V.useState(!1),o=Ns(),a=Hu(),{isLoading:l,error:c}=yn(b=>b.auth),{register:f,handleSubmit:p,watch:h,formState:{errors:g}}=Mb(),y=h("password"),P=async b=>{try{await o(cu({firstName:b.firstName,lastName:b.lastName,email:b.email,password:b.password})),Cu.success("Account created successfully!"),a("/dashboard")}catch{Cu.error("Registration failed. Please try again.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#313338] py-8 sm:py-12 px-4 sm:px-6 lg:px-8 pt-32 sm:pt-36",children:m.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"mt-6 text-center text-2xl sm:text-3xl font-extrabold text-[#F2F3F5]",children:"Create your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm sm:text-base text-[#949BA4]",children:["Or"," ",m.jsx(Qt,{to:"/login",className:"font-medium text-[#5865F2] hover:text-[#4752C4] touch-manipulation discord-focus",children:"sign in to your existing account"})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p(P),children:[m.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"firstName",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"First name"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(ds,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...f("firstName",{required:"First name is required",minLength:{value:2,message:"First name must be at least 2 characters"}}),type:"text",className:"input-field pl-10 text-base",placeholder:"First name"})]}),g.firstName&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:g.firstName.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"lastName",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Last name"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(ds,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...f("lastName",{required:"Last name is required",minLength:{value:2,message:"Last name must be at least 2 characters"}}),type:"text",className:"input-field pl-10 text-base",placeholder:"Last name"})]}),g.lastName&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:g.lastName.message})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Email address"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(zv,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"input-field pl-10 text-base",placeholder:"Enter your email"})]}),g.email&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:g.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wd,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...f("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",className:"input-field pl-10 pr-12 text-base",placeholder:"Create a password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center touch-manipulation discord-focus",onClick:()=>e(!t),children:t?m.jsx(ma,{className:"h-5 w-5 text-[#949BA4]"}):m.jsx(ga,{className:"h-5 w-5 text-[#949BA4]"})})]}),g.password&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:g.password.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm sm:text-base font-medium text-[#F2F3F5]",children:"Confirm password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Wd,{className:"h-5 w-5 text-[#949BA4]"})}),m.jsx("input",{...f("confirmPassword",{required:"Please confirm your password",validate:b=>b===y||"Passwords do not match"}),type:n?"text":"password",className:"input-field pl-10 pr-12 text-base",placeholder:"Confirm your password"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center touch-manipulation discord-focus",onClick:()=>s(!n),children:n?m.jsx(ma,{className:"h-5 w-5 text-[#949BA4]"}):m.jsx(ga,{className:"h-5 w-5 text-[#949BA4]"})})]}),g.confirmPassword&&m.jsx("p",{className:"mt-1 text-sm text-[#ED4245]",children:g.confirmPassword.message})]})]}),c&&m.jsx("div",{className:"bg-[#ED4245]/10 border border-[#ED4245]/20 text-[#ED4245] px-4 py-3 rounded-md text-sm",children:c}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:l,className:"btn-primary w-full flex justify-center py-3 text-base font-medium touch-manipulation discord-hover",children:l?"Creating account...":"Create account"})}),m.jsxs("div",{className:"text-center text-sm text-[#949BA4]",children:["By creating an account, you agree to our"," ",m.jsx(Qt,{to:"/terms",className:"text-[#5865F2] hover:text-[#4752C4] touch-manipulation discord-focus",children:"Terms of Service"})," ","and"," ",m.jsx(Qt,{to:"/privacy",className:"text-[#5865F2] hover:text-[#4752C4] touch-manipulation discord-focus",children:"Privacy Policy"})]})]})]})})},Jj=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),m.jsx("p",{className:"text-gray-400",children:"Welcome to your skill exchange dashboard"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[m.jsx(sn,{sparkColor:"#3b82f6",sparkSize:8,sparkRadius:20,sparkCount:6,duration:400,children:m.jsxs("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"My Skills"}),m.jsx("p",{className:"text-3xl font-bold text-primary-600",children:"5"}),m.jsx("p",{className:"text-sm text-gray-400",children:"Skills available for exchange"})]})}),m.jsx(sn,{sparkColor:"#f59e0b",sparkSize:8,sparkRadius:20,sparkCount:6,duration:400,children:m.jsxs("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Pending Requests"}),m.jsx("p",{className:"text-3xl font-bold text-accent-600",children:"2"}),m.jsx("p",{className:"text-sm text-gray-400",children:"Awaiting your response"})]})}),m.jsx(sn,{sparkColor:"#059669",sparkSize:8,sparkRadius:20,sparkCount:6,duration:400,children:m.jsxs("div",{className:"card cursor-pointer hover:shadow-md transition-shadow",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Completed Swaps"}),m.jsx("p",{className:"text-3xl font-bold text-secondary-600",children:"12"}),m.jsx("p",{className:"text-sm text-gray-400",children:"Successful exchanges"})]})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),m.jsx("p",{className:"text-gray-400",children:"No recent activity to display."})]})]}),Xj={userSkills:[],skillListings:[],searchResults:[],categories:["Technology","Language","Music","Art","Cooking","Fitness","Business","Education"],isLoading:!1,error:null,searchFilters:{category:"",proficiencyLevel:"",location:""}},ps=rr("skills/fetchUserSkills",async t=>{try{return(await sa.getByUserId(t)).map(n=>({id:n.id,name:n.name,description:n.description||"",category:n.category,proficiencyLevel:n.proficiencyLevel,userId:n.userId,type:n.type,createdAt:n.createdAt.toISOString(),isPublic:n.isPublic}))}catch(e){return console.error("Failed to fetch user skills:",e),[]}}),aa=rr("skills/fetchSkillListings",async()=>await new Promise(e=>{setTimeout(()=>{e([{id:"1",skill:{id:"1",name:"Guitar Lessons",description:"Learn acoustic and electric guitar",category:"Music",proficiencyLevel:"advanced",userId:"2",type:"offered",createdAt:new Date().toISOString(),isPublic:!0},user:{id:"2",firstName:"Sarah",lastName:"Johnson",profilePhoto:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",rating:4.9,location:"Los Angeles, CA"},isAvailable:!0,createdAt:new Date().toISOString()},{id:"2",skill:{id:"2",name:"Italian Cooking",description:"Authentic Italian recipes and techniques",category:"Cooking",proficiencyLevel:"expert",userId:"3",type:"offered",createdAt:new Date().toISOString(),isPublic:!0},user:{id:"3",firstName:"Marco",lastName:"Rossi",profilePhoto:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",rating:4.7,location:"San Francisco, CA"},isAvailable:!0,createdAt:new Date().toISOString()}])},1e3)})),Ji=rr("skills/addSkill",async t=>{try{const e=await sa.create({name:t.name,description:t.description,category:t.category,proficiencyLevel:t.proficiencyLevel,userId:t.userId,type:t.type,isPublic:t.isPublic,isAvailable:!0});return{id:e.id,name:e.name,description:e.description||"",category:e.category,proficiencyLevel:e.proficiencyLevel,userId:e.userId,type:e.type,createdAt:e.createdAt.toISOString(),isPublic:e.isPublic}}catch(e){throw console.error("Failed to add skill:",e),e}}),hu=rr("skills/sendSwapRequest",async()=>await new Promise(e=>{setTimeout(()=>{e({success:!0,message:"Swap request sent successfully!"})},1e3)})),Ob=Gu({name:"skills",initialState:Xj,reducers:{setSearchFilters:(t,e)=>{t.searchFilters={...t.searchFilters,...e.payload}},clearSearchFilters:t=>{t.searchFilters={category:"",proficiencyLevel:"",location:""}},removeSkill:(t,e)=>{t.userSkills=t.userSkills.filter(n=>n.id!==e.payload)}},extraReducers:t=>{t.addCase(ps.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ps.fulfilled,(e,n)=>{e.isLoading=!1,e.userSkills=n.payload}).addCase(ps.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch skills"}).addCase(aa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aa.fulfilled,(e,n)=>{e.isLoading=!1,e.skillListings=n.payload,e.searchResults=n.payload}).addCase(aa.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch skill listings"}).addCase(Ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ji.fulfilled,(e,n)=>{e.isLoading=!1,e.userSkills.push(n.payload)}).addCase(Ji.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to add skill"}).addCase(hu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hu.fulfilled,e=>{e.isLoading=!1}).addCase(hu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to send swap request"})}}),{setSearchFilters:Nd,clearSearchFilters:Zj,removeSkill:ek}=Ob.actions,tk=Ob.reducer,nk=()=>{const t=Ns(),{user:e,isLoading:n}=yn(k=>k.auth),{userSkills:s}=yn(k=>k.skills),[o,a]=V.useState(!1),[l,c]=V.useState({firstName:e?.firstName||"",lastName:e?.lastName||"",bio:e?.bio||"",location:e?.location||"",profilePhoto:e?.profilePhoto||"",isPublic:e?.isPublic??!0,availability:{weekends:!0,evenings:!0,weekdays:!1,custom:""}}),[f,p]=V.useState({name:"",description:"",category:"",proficiencyLevel:"intermediate",type:"offered"}),[h,g]=V.useState(!1),[y,P]=V.useState(!1);V.useEffect(()=>{e?.id&&t(ps(e.id))},[t,e?.id]);const b=async()=>{if(e?.id)try{await t(fu({userId:e.id,profileData:l})),a(!1)}catch(k){console.error("Failed to update profile:",k)}},x=async()=>{if(!(!f.name.trim()||!e?.id))try{await t(Ji({name:f.name,description:f.description,category:f.category,proficiencyLevel:f.proficiencyLevel,userId:e.id,type:f.type,isPublic:!0})),p({name:"",description:"",category:"",proficiencyLevel:"intermediate",type:"offered"})}catch(k){console.error("Failed to add skill:",k)}},C=async k=>{try{await t(ek(k))}catch(M){console.error("Failed to remove skill:",M)}},E=s.filter(k=>k.type==="offered"),j=s.filter(k=>k.type==="wanted");return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Profile"}),m.jsx("p",{className:"text-gray-400",children:"Manage your profile and preferences"})]}),m.jsx(sn,{sparkColor:"#3b82f6",sparkSize:8,sparkRadius:20,sparkCount:6,duration:400,children:m.jsx("button",{onClick:()=>a(!o),className:"btn-primary",children:o?"Cancel":"Edit Profile"})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Photo"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("img",{src:l.profilePhoto||"https://via.placeholder.com/100x100?text=No+Photo",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),o&&m.jsx("input",{type:"text",placeholder:"Photo URL",value:l.profilePhoto,onChange:k=>c({...l,profilePhoto:k.target.value}),className:"input-field"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),m.jsx("input",{type:"text",value:l.firstName,onChange:k=>c({...l,firstName:k.target.value}),disabled:!o,className:"input-field"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),m.jsx("input",{type:"text",value:l.lastName,onChange:k=>c({...l,lastName:k.target.value}),disabled:!o,className:"input-field"})]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location (Optional)"}),m.jsx("input",{type:"text",value:l.location,onChange:k=>c({...l,location:k.target.value}),disabled:!o,placeholder:"e.g., New York, NY",className:"input-field"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),m.jsx("textarea",{value:l.bio,onChange:k=>c({...l,bio:k.target.value}),disabled:!o,rows:3,placeholder:"Tell others about yourself...",className:"input-field"})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:l.isPublic,onChange:k=>c({...l,isPublic:k.target.checked}),disabled:!o,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Make my profile public"})]})}),o&&m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:b,disabled:n,className:"btn-primary",children:n?"Saving...":"Save Changes"})})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Availability"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:l.availability.weekends,onChange:k=>c({...l,availability:{...l.availability,weekends:k.target.checked}}),disabled:!o,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Weekends"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:l.availability.evenings,onChange:k=>c({...l,availability:{...l.availability,evenings:k.target.checked}}),disabled:!o,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Evenings"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:l.availability.weekdays,onChange:k=>c({...l,availability:{...l.availability,weekdays:k.target.checked}}),disabled:!o,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Weekdays"})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Availability"}),m.jsx("input",{type:"text",value:l.availability.custom,onChange:k=>c({...l,availability:{...l.availability,custom:k.target.value}}),disabled:!o,placeholder:"e.g., Monday and Wednesday afternoons",className:"input-field"})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:["Skills I Can Offer",m.jsx("button",{className:"ml-2 p-1 rounded hover:bg-[#232428] transition-colors",onClick:()=>g(k=>!k),type:"button","aria-label":"Add Skill",children:m.jsx(Hd,{className:"h-5 w-5 text-primary-500"})})]}),m.jsxs("div",{className:"space-y-4",children:[E.map(k=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#232428] rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-white",children:k.name}),m.jsx("p",{className:"text-sm text-gray-400",children:k.description}),m.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m.jsx("span",{className:"skill-tag",children:k.category}),m.jsx("span",{className:"text-xs text-gray-500 capitalize",children:k.proficiencyLevel})]})]}),m.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-800",children:"Remove"})]},k.id)),h&&m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-[#232428]",children:[m.jsx("h4",{className:"font-medium text-white mb-3",children:"Add New Skill to Offer"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Skill name",value:f.name,onChange:k=>p({...f,name:k.target.value,type:"offered"}),className:"input-field"}),m.jsxs("select",{value:f.category,onChange:k=>p({...f,category:k.target.value,type:"offered"}),className:"input-field",children:[m.jsx("option",{value:"",children:"Select category"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Language",children:"Language"}),m.jsx("option",{value:"Music",children:"Music"}),m.jsx("option",{value:"Art",children:"Art"}),m.jsx("option",{value:"Cooking",children:"Cooking"}),m.jsx("option",{value:"Fitness",children:"Fitness"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Education",children:"Education"})]})]}),m.jsx("textarea",{placeholder:"Description",value:f.description,onChange:k=>p({...f,description:k.target.value,type:"offered"}),rows:2,className:"input-field mt-2"}),m.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[m.jsxs("select",{value:f.proficiencyLevel,onChange:k=>p({...f,proficiencyLevel:k.target.value,type:"offered"}),className:"input-field",children:[m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]}),m.jsx("button",{onClick:async()=>{await x(),g(!1)},disabled:!f.name.trim(),className:"btn-primary",children:"Save"}),m.jsx("button",{onClick:()=>g(!1),className:"btn-secondary",type:"button",children:"Cancel"})]})]})]})]}),m.jsxs("div",{className:"card",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:["Skills I Want to Learn",m.jsx("button",{className:"ml-2 p-1 rounded hover:bg-[#232428] transition-colors",onClick:()=>P(k=>!k),type:"button","aria-label":"Add Skill",children:m.jsx(Hd,{className:"h-5 w-5 text-primary-500"})})]}),m.jsxs("div",{className:"space-y-4",children:[j.map(k=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#232428] rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-white",children:k.name}),m.jsx("p",{className:"text-sm text-gray-400",children:k.description}),m.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m.jsx("span",{className:"skill-tag",children:k.category}),m.jsx("span",{className:"text-xs text-gray-500 capitalize",children:k.proficiencyLevel})]})]}),m.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-800",children:"Remove"})]},k.id)),y&&m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-[#232428]",children:[m.jsx("h4",{className:"font-medium text-white mb-3",children:"Add Skill I Want to Learn"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Skill name",value:f.name,onChange:k=>p({...f,name:k.target.value,type:"wanted"}),className:"input-field"}),m.jsxs("select",{value:f.category,onChange:k=>p({...f,category:k.target.value,type:"wanted"}),className:"input-field",children:[m.jsx("option",{value:"",children:"Select category"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Language",children:"Language"}),m.jsx("option",{value:"Music",children:"Music"}),m.jsx("option",{value:"Art",children:"Art"}),m.jsx("option",{value:"Cooking",children:"Cooking"}),m.jsx("option",{value:"Fitness",children:"Fitness"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Education",children:"Education"})]})]}),m.jsx("textarea",{placeholder:"Description",value:f.description,onChange:k=>p({...f,description:k.target.value,type:"wanted"}),rows:2,className:"input-field mt-2"}),m.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[m.jsxs("select",{value:f.proficiencyLevel,onChange:k=>p({...f,proficiencyLevel:k.target.value,type:"wanted"}),className:"input-field",children:[m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]}),m.jsx("button",{onClick:async()=>{await x(),P(!1)},disabled:!f.name.trim(),className:"btn-primary",children:"Save"}),m.jsx("button",{onClick:()=>P(!1),className:"btn-secondary",type:"button",children:"Cancel"})]})]})]})]})]})},gp=V.createContext({});function yp(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const xp=typeof window<"u",Fb=xp?V.useLayoutEffect:V.useEffect,ac=V.createContext(null);function vp(t,e){t.indexOf(e)===-1&&t.push(e)}function bp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Or=(t,e,n)=>n>e?e:n<t?t:n;let wp=()=>{};const Fr={},Bb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Vb(t){return typeof t=="object"&&t!==null}const $b=t=>/^0[^.\s]+$/u.test(t);function Sp(t){let e;return()=>(e===void 0&&(e=t()),e)}const qn=t=>t,rk=(t,e)=>n=>e(t(n)),Fa=(...t)=>t.reduce(rk),Pa=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Cp{constructor(){this.subscriptions=[]}add(e){return vp(this.subscriptions,e),()=>bp(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,gr=t=>t/1e3;function Ub(t,e){return e?t*(1e3/e):0}const zb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sk=1e-7,ik=12;function ok(t,e,n,s,o){let a,l,c=0;do l=e+(n-e)/2,a=zb(l,s,o)-t,a>0?n=l:e=l;while(Math.abs(a)>sk&&++c<ik);return l}function Ba(t,e,n,s){if(t===e&&n===s)return qn;const o=a=>ok(a,0,1,t,n);return a=>a===0||a===1?a:zb(o(a),e,s)}const qb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qb=t=>e=>1-t(1-e),Wb=Ba(.33,1.53,.69,.99),Pp=Qb(Wb),Hb=qb(Pp),Kb=t=>(t*=2)<1?.5*Pp(t):.5*(2-Math.pow(2,-10*(t-1))),Np=t=>1-Math.sin(Math.acos(t)),Gb=Qb(Np),Yb=qb(Np),ak=Ba(.42,0,1,1),lk=Ba(0,0,.58,1),Jb=Ba(.42,0,.58,1),uk=t=>Array.isArray(t)&&typeof t[0]!="number",Xb=t=>Array.isArray(t)&&typeof t[0]=="number",ck={linear:qn,easeIn:ak,easeInOut:Jb,easeOut:lk,circIn:Np,circInOut:Yb,circOut:Gb,backIn:Pp,backInOut:Hb,backOut:Wb,anticipate:Kb},fk=t=>typeof t=="string",ax=t=>{if(Xb(t)){wp(t.length===4);const[e,n,s,o]=t;return Ba(e,n,s,o)}else if(fk(t))return ck[t];return t},tu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],lx={value:null};function dk(t,e){let n=new Set,s=new Set,o=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},f=0;function p(g){l.has(g)&&(h.schedule(g),t()),f++,g(c)}const h={schedule:(g,y=!1,P=!1)=>{const x=P&&o?n:s;return y&&l.add(g),x.has(g)||x.add(g),g},cancel:g=>{s.delete(g),l.delete(g)},process:g=>{if(c=g,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),e&&lx.value&&lx.value.frameloop[e].push(f),f=0,n.clear(),o=!1,a&&(a=!1,h.process(g))}};return h}const hk=40;function Zb(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=tu.reduce((k,M)=>(k[M]=dk(a,e?M:void 0),k),{}),{setup:c,read:f,resolveKeyframes:p,preUpdate:h,update:g,preRender:y,render:P,postRender:b}=l,x=()=>{const k=Fr.useManualTiming?o.timestamp:performance.now();n=!1,Fr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(k-o.timestamp,hk),1)),o.timestamp=k,o.isProcessing=!0,c.process(o),f.process(o),p.process(o),h.process(o),g.process(o),y.process(o),P.process(o),b.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(x))},C=()=>{n=!0,s=!0,o.isProcessing||t(x)};return{schedule:tu.reduce((k,M)=>{const R=l[M];return k[M]=(L,D=!1,O=!1)=>(n||C(),R.schedule(L,D,O)),k},{}),cancel:k=>{for(let M=0;M<tu.length;M++)l[tu[M]].cancel(k)},state:o,steps:l}}const{schedule:ht,cancel:Cs,state:qt,steps:Ed}=Zb(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let pu;function pk(){pu=void 0}const gn={now:()=>(pu===void 0&&gn.set(qt.isProcessing||Fr.useManualTiming?qt.timestamp:performance.now()),pu),set:t=>{pu=t,queueMicrotask(pk)}},ew=t=>e=>typeof e=="string"&&e.startsWith(t),Ep=ew("--"),mk=ew("var(--"),jp=t=>mk(t)?gk.test(t.split("/*")[0].trim()):!1,gk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Na={...lo,transform:t=>Or(0,1,t)},nu={...lo,default:1},la=t=>Math.round(t*1e5)/1e5,kp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yk(t){return t==null}const xk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tp=(t,e)=>n=>!!(typeof n=="string"&&xk.test(n)&&n.startsWith(t)||e&&!yk(n)&&Object.prototype.hasOwnProperty.call(n,e)),tw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,l,c]=s.match(kp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},vk=t=>Or(0,255,t),jd={...lo,transform:t=>Math.round(vk(t))},Xs={test:Tp("rgb","red"),parse:tw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+jd.transform(t)+", "+jd.transform(e)+", "+jd.transform(n)+", "+la(Na.transform(s))+")"};function bk(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const ph={test:Tp("#"),parse:bk,transform:Xs.transform},Va=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),os=Va("deg"),yr=Va("%"),Ie=Va("px"),wk=Va("vh"),Sk=Va("vw"),ux={...yr,parse:t=>yr.parse(t)/100,transform:t=>yr.transform(t*100)},Ui={test:Tp("hsl","hue"),parse:tw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+yr.transform(la(e))+", "+yr.transform(la(n))+", "+la(Na.transform(s))+")"},Tt={test:t=>Xs.test(t)||ph.test(t)||Ui.test(t),parse:t=>Xs.test(t)?Xs.parse(t):Ui.test(t)?Ui.parse(t):ph.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xs.transform(t):Ui.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},Ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pk(t){return isNaN(t)&&typeof t=="string"&&(t.match(kp)?.length||0)+(t.match(Ck)?.length||0)>0}const nw="number",rw="color",Nk="var",Ek="var(",cx="${}",jk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ea(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const c=e.replace(jk,f=>(Tt.test(f)?(s.color.push(a),o.push(rw),n.push(Tt.parse(f))):f.startsWith(Ek)?(s.var.push(a),o.push(Nk),n.push(f)):(s.number.push(a),o.push(nw),n.push(parseFloat(f))),++a,cx)).split(cx);return{values:n,split:c,indexes:s,types:o}}function sw(t){return Ea(t).values}function iw(t){const{split:e,types:n}=Ea(t),s=e.length;return o=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],o[l]!==void 0){const c=n[l];c===nw?a+=la(o[l]):c===rw?a+=Tt.transform(o[l]):a+=o[l]}return a}}const kk=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function Tk(t){const e=sw(t);return iw(t)(e.map(kk))}const Ps={test:Pk,parse:sw,createTransformer:iw,getAnimatableNone:Tk};function kd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ak({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,l=0;if(!e)o=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;o=kd(f,c,t+1/3),a=kd(f,c,t),l=kd(f,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function $u(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Td=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},_k=[ph,Xs,Ui],Lk=t=>_k.find(e=>e.test(t));function fx(t){const e=Lk(t);if(!e)return!1;let n=e.parse(t);return e===Ui&&(n=Ak(n)),n}const dx=(t,e)=>{const n=fx(t),s=fx(e);if(!n||!s)return $u(t,e);const o={...n};return a=>(o.red=Td(n.red,s.red,a),o.green=Td(n.green,s.green,a),o.blue=Td(n.blue,s.blue,a),o.alpha=gt(n.alpha,s.alpha,a),Xs.transform(o))},mh=new Set(["none","hidden"]);function Rk(t,e){return mh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Dk(t,e){return n=>gt(t,e,n)}function Ap(t){return typeof t=="number"?Dk:typeof t=="string"?jp(t)?$u:Tt.test(t)?dx:Ok:Array.isArray(t)?ow:typeof t=="object"?Tt.test(t)?dx:Ik:$u}function ow(t,e){const n=[...t],s=n.length,o=t.map((a,l)=>Ap(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=o[l](a);return n}}function Ik(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Ap(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function Mk(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][s[a]],c=t.values[l]??0;n[o]=c,s[a]++}return n}const Ok=(t,e)=>{const n=Ps.createTransformer(e),s=Ea(t),o=Ea(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?mh.has(t)&&!o.values.length||mh.has(e)&&!s.values.length?Rk(t,e):Fa(ow(Mk(s,o),o.values),n):$u(t,e)};function aw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):Ap(t)(t,e)}const Fk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Cs(e),now:()=>qt.isProcessing?qt.timestamp:gn.now()}},lw=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Uu=2e4;function _p(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Uu;)e+=n,s=t.next(e);return e>=Uu?1/0:e}function Bk(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(_p(s),Uu);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:gr(o)}}const Vk=5;function uw(t,e,n){const s=Math.max(e-Vk,0);return Ub(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ad=.001;function $k({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let o,a,l=1-e;l=Or(vt.minDamping,vt.maxDamping,l),t=Or(vt.minDuration,vt.maxDuration,gr(t)),l<1?(o=p=>{const h=p*l,g=h*t,y=h-n,P=gh(p,l),b=Math.exp(-g);return Ad-y/P*b},a=p=>{const g=p*l*t,y=g*n+n,P=Math.pow(l,2)*Math.pow(p,2)*t,b=Math.exp(-g),x=gh(Math.pow(p,2),l);return(-o(p)+Ad>0?-1:1)*((y-P)*b)/x}):(o=p=>{const h=Math.exp(-p*t),g=(p-n)*t+1;return-Ad+h*g},a=p=>{const h=Math.exp(-p*t),g=(n-p)*(t*t);return h*g});const c=5/t,f=zk(o,a,c);if(t=mr(t),isNaN(f))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:l*2*Math.sqrt(s*p),duration:t}}}const Uk=12;function zk(t,e,n){let s=n;for(let o=1;o<Uk;o++)s=s-t(s)/e(s);return s}function gh(t,e){return t*Math.sqrt(1-e*e)}const qk=["duration","bounce"],Qk=["stiffness","damping","mass"];function hx(t,e){return e.some(n=>t[n]!==void 0)}function Wk(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!hx(t,Qk)&&hx(t,qk))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*Or(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:vt.mass,stiffness:o,damping:a}}else{const n=$k(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function zu(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:h,duration:g,velocity:y,isResolvedFromDuration:P}=Wk({...n,velocity:-gr(n.velocity||0)}),b=y||0,x=p/(2*Math.sqrt(f*h)),C=l-a,E=gr(Math.sqrt(f/h)),j=Math.abs(C)<5;s||(s=j?vt.restSpeed.granular:vt.restSpeed.default),o||(o=j?vt.restDelta.granular:vt.restDelta.default);let k;if(x<1){const R=gh(E,x);k=L=>{const D=Math.exp(-x*E*L);return l-D*((b+x*E*C)/R*Math.sin(R*L)+C*Math.cos(R*L))}}else if(x===1)k=R=>l-Math.exp(-E*R)*(C+(b+E*C)*R);else{const R=E*Math.sqrt(x*x-1);k=L=>{const D=Math.exp(-x*E*L),O=Math.min(R*L,300);return l-D*((b+x*E*C)*Math.sinh(O)+R*C*Math.cosh(O))/R}}const M={calculatedDuration:P&&g||null,next:R=>{const L=k(R);if(P)c.done=R>=g;else{let D=R===0?b:0;x<1&&(D=R===0?mr(b):uw(k,R,L));const O=Math.abs(D)<=s,I=Math.abs(l-L)<=o;c.done=O&&I}return c.value=c.done?l:L,c},toString:()=>{const R=Math.min(_p(M),Uu),L=lw(D=>M.next(R*D).value,R,30);return R+"ms "+L},toTransition:()=>{}};return M}zu.applyToOptions=t=>{const e=Bk(t,100,zu);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function yh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:h}){const g=t[0],y={done:!1,value:g},P=O=>c!==void 0&&O<c||f!==void 0&&O>f,b=O=>c===void 0?f:f===void 0||Math.abs(c-O)<Math.abs(f-O)?c:f;let x=n*e;const C=g+x,E=l===void 0?C:l(C);E!==C&&(x=E-g);const j=O=>-x*Math.exp(-O/s),k=O=>E+j(O),M=O=>{const I=j(O),H=k(O);y.done=Math.abs(I)<=p,y.value=y.done?E:H};let R,L;const D=O=>{P(y.value)&&(R=O,L=zu({keyframes:[y.value,b(y.value)],velocity:uw(k,O,y.value),damping:o,stiffness:a,restDelta:p,restSpeed:h}))};return D(0),{calculatedDuration:null,next:O=>{let I=!1;return!L&&R===void 0&&(I=!0,M(O),D(O)),R!==void 0&&O>=R?L.next(O-R):(!I&&M(O),y)}}}function Hk(t,e,n){const s=[],o=n||Fr.mix||aw,a=t.length-1;for(let l=0;l<a;l++){let c=o(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||qn:e;c=Fa(f,c)}s.push(c)}return s}function Kk(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(wp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Hk(e,s,o),f=c.length,p=h=>{if(l&&h<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const y=Pa(t[g],t[g+1],h);return c[g](y)};return n?h=>p(Or(t[0],t[a-1],h)):p}function Gk(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Pa(0,e,s);t.push(gt(n,1,o))}}function Yk(t){const e=[0];return Gk(e,t.length-1),e}function Jk(t,e){return t.map(n=>n*e)}function Xk(t,e){return t.map(()=>e||Jb).splice(0,t.length-1)}function ua({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=uk(s)?s.map(ax):ax(s),a={done:!1,value:e[0]},l=Jk(n&&n.length===e.length?n:Yk(e),t),c=Kk(l,e,{ease:Array.isArray(o)?o:Xk(e,o)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const Zk=t=>t!==null;function Lp(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(Zk),c=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const eT={decay:yh,inertia:yh,tween:ua,keyframes:ua,spring:zu};function cw(t){typeof t.type=="string"&&(t.type=eT[t.type])}class Rp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const tT=t=>t/100;class Dp extends Rp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cw(e);const{type:n=ua,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const f=n||ua;f!==ua&&typeof c[0]!="number"&&(this.mixKeyframes=Fa(tT,aw(c[0],c[1])),c=[0,100]);const p=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=_p(p));const{calculatedDuration:h}=p;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:h,repeat:g,repeatType:y,repeatDelay:P,type:b,onUpdate:x,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?E<0:E>o;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,M=s;if(g){const O=Math.min(this.currentTime,o)/c;let I=Math.floor(O),H=O%1;!H&&O>=1&&(H=1),H===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(y==="reverse"?(H=1-H,P&&(H-=P/c)):y==="mirror"&&(M=l)),k=Or(0,1,H)*c}const R=j?{done:!1,value:h[0]}:M.next(k);a&&(R.value=a(R.value));let{done:L}=R;!j&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return D&&b!==yh&&(R.value=Lp(h,this.options,C,this.speed)),x&&x(R.value),D&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return gr(this.calculatedDuration)}get time(){return gr(this.currentTime)}set time(e){e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Fk,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zs=t=>t*180/Math.PI,xh=t=>{const e=Zs(Math.atan2(t[1],t[0]));return vh(e)},rT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xh,rotateZ:xh,skewX:t=>Zs(Math.atan(t[1])),skewY:t=>Zs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vh=t=>(t=t%360,t<0&&(t+=360),t),px=xh,mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mx,scaleY:gx,scale:t=>(mx(t)+gx(t))/2,rotateX:t=>vh(Zs(Math.atan2(t[6],t[5]))),rotateY:t=>vh(Zs(Math.atan2(-t[2],t[0]))),rotateZ:px,rotate:px,skewX:t=>Zs(Math.atan(t[4])),skewY:t=>Zs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bh(t){return t.includes("scale")?1:0}function wh(t,e){if(!t||t==="none")return bh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=sT,o=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=rT,o=c}if(!o)return bh(e);const a=s[e],l=o[1].split(",").map(oT);return typeof a=="function"?a(l):l[a]}const iT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wh(n,e)};function oT(t){return parseFloat(t.trim())}const uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(uo),yx=t=>t===lo||t===Ie,aT=new Set(["x","y","z"]),lT=uo.filter(t=>!aT.has(t));function uT(t){const e=[];return lT.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ei={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wh(e,"x"),y:(t,{transform:e})=>wh(e,"y")};ei.translateX=ei.x;ei.translateY=ei.y;const ti=new Set;let Sh=!1,Ch=!1,Ph=!1;function fw(){if(Ch){const t=Array.from(ti).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=uT(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,l])=>{s.getValue(a)?.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ch=!1,Sh=!1,ti.forEach(t=>t.complete(Ph)),ti.clear()}function dw(){ti.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ch=!0)})}function cT(){Ph=!0,dw(),fw(),Ph=!1}class Ip{constructor(e,n,s,o,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ti.add(this),Sh||(Sh=!0,ht.read(dw),ht.resolveKeyframes(fw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),o&&a===void 0&&o.set(e[0])}nT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ti.delete(this)}cancel(){this.state==="scheduled"&&(ti.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fT=t=>t.startsWith("--");function dT(t,e,n){fT(e)?t.style.setProperty(e,n):t.style[e]=n}const hT=Sp(()=>window.ScrollTimeline!==void 0),pT={};function mT(t,e){const n=Sp(t);return()=>pT[e]??n()}const hw=mT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ta=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,xx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ta([0,.65,.55,1]),circOut:ta([.55,0,1,.45]),backIn:ta([.31,.01,.66,-.59]),backOut:ta([.33,1.53,.69,.99])};function pw(t,e){if(t)return typeof t=="function"?hw()?lw(t,e):"ease-out":Xb(t)?ta(t):Array.isArray(t)?t.map(n=>pw(n,e)||xx.easeOut):xx[t]}function gT(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},p=void 0){const h={[e]:n};f&&(h.offset=f);const g=pw(c,o);Array.isArray(g)&&(h.easing=g);const y={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),t.animate(h,y)}function mw(t){return typeof t=="function"&&"applyToOptions"in t}function yT({type:t,...e}){return mw(t)&&hw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class xT extends Rp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,wp(typeof e.type!="string");const p=yT(e);this.animation=gT(n,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Lp(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):dT(n,s,h),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return gr(Number(e))}get time(){return gr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hT()?(this.animation.timeline=e,qn):n(this)}}const gw={anticipate:Kb,backInOut:Hb,circInOut:Yb};function vT(t){return t in gw}function bT(t){typeof t.ease=="string"&&vT(t.ease)&&(t.ease=gw[t.ease])}const vx=10;class wT extends xT{constructor(e){bT(e),cw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Dp({...l,autoplay:!1}),f=mr(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-vx).value,c.sample(f).value,vx),c.stop()}}const bx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function ST(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CT(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=bx(o,e),c=bx(a,e);return!l||!c?!1:ST(t)||(n==="spring"||mw(n))&&s}function Mp(t){return Vb(t)&&"offsetHeight"in t}const PT=new Set(["opacity","clipPath","filter","transform"]),NT=Sp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ET(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:l}=t;if(!Mp(e?.owner?.current))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return NT()&&n&&PT.has(n)&&(n!=="transform"||!f)&&!c&&!s&&o!=="mirror"&&a!==0&&l!=="inertia"}const jT=40;class kT extends Rp{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:p,element:h,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const y={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:h,...g},P=h?.KeyframeResolver||Ip;this.keyframeResolver=new P(c,(b,x,C)=>this.onKeyframesResolved(b,x,y,!C),f,p,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:p,onUpdate:h}=s;this.resolvedAt=gn.now(),CT(e,a,l,c)||((Fr.instantAnimations||!f)&&h?.(Lp(e,s,n)),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>jT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},P=!p&&ET(y)?new wT({...y,element:y.motionValue.owner.current}):new Dp(y);P.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),cT()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const TT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AT(t){const e=TT.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function yw(t,e,n=1){const[s,o]=AT(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return Bb(l)?parseFloat(l):l}return jp(o)?yw(o,e,n+1):o}function Op(t,e){return t?.[e]??t?.default??t}const xw=new Set(["width","height","top","left","right","bottom",...uo]),_T={test:t=>t==="auto",parse:t=>t},vw=t=>e=>e.test(t),bw=[lo,Ie,yr,os,Sk,wk,_T],wx=t=>bw.find(vw(t));function LT(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$b(t):!0}const RT=new Set(["brightness","contrast","saturate","opacity"]);function DT(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(kp)||[];if(!s)return t;const o=n.replace(s,"");let a=RT.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const IT=/\b([a-z-]*)\(.*?\)/gu,Nh={...Ps,getAnimatableNone:t=>{const e=t.match(IT);return e?e.map(DT).join(" "):t}},Sx={...lo,transform:Math.round},MT={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:nu,scaleX:nu,scaleY:nu,scaleZ:nu,skew:os,skewX:os,skewY:os,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Na,originX:ux,originY:ux,originZ:Ie},Fp={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...MT,zIndex:Sx,fillOpacity:Na,strokeOpacity:Na,numOctaves:Sx},OT={...Fp,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Nh,WebkitFilter:Nh},ww=t=>OT[t];function Sw(t,e){let n=ww(t);return n!==Nh&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FT=new Set(["auto","none","0"]);function BT(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!FT.has(a)&&Ea(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=Sw(n,o)}class VT extends Ip{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),jp(p))){const h=yw(p,n.current);h!==void 0&&(e[f]=h),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!xw.has(s)||e.length!==2)return;const[o,a]=e,l=wx(o),c=wx(a);if(l!==c)if(yx(l)&&yx(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ei[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||LT(e[o]))&&s.push(o);s.length&&BT(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ei[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=ei[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function $T(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Cw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cx=30,UT=t=>!isNaN(parseFloat(t));class zT{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const a=gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cp);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cx);return Ub(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(t,e){return new zT(t,e)}const{schedule:Bp}=Zb(queueMicrotask,!1),Xn={x:!1,y:!1};function Pw(){return Xn.x||Xn.y}function qT(t){return t==="x"||t==="y"?Xn[t]?null:(Xn[t]=!0,()=>{Xn[t]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function Nw(t,e){const n=$T(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function Px(t){return!(t.pointerType==="touch"||Pw())}function QT(t,e,n={}){const[s,o,a]=Nw(t,n),l=c=>{if(!Px(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const h=g=>{Px(g)&&(p(g),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,o)};return s.forEach(c=>{c.addEventListener("pointerenter",l,o)}),a}const Ew=(t,e)=>e?t===e?!0:Ew(t,e.parentElement):!1,Vp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,WT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HT(t){return WT.has(t.tagName)||t.tabIndex!==-1}const mu=new WeakSet;function Nx(t){return e=>{e.key==="Enter"&&t(e)}}function _d(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KT=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Nx(()=>{if(mu.has(n))return;_d(n,"down");const o=Nx(()=>{_d(n,"up")}),a=()=>_d(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ex(t){return Vp(t)&&!Pw()}function GT(t,e,n={}){const[s,o,a]=Nw(t,n),l=c=>{const f=c.currentTarget;if(!Ex(c))return;mu.add(f);const p=e(f,c),h=(P,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),mu.has(f)&&mu.delete(f),Ex(P)&&typeof p=="function"&&p(P,{success:b})},g=P=>{h(P,f===window||f===document||n.useGlobalTarget||Ew(f,P.target))},y=P=>{h(P,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",y,o)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,o),Mp(c)&&(c.addEventListener("focus",p=>KT(p,o)),!HT(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function jw(t){return Vb(t)&&"ownerSVGElement"in t}function YT(t){return jw(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),JT=[...bw,Tt,Ps],XT=t=>JT.find(vw(t)),$p=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ZT extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Mp(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eA({children:t,isPresent:e,anchorX:n,root:s}){const o=V.useId(),a=V.useRef(null),l=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=V.useContext($p);return V.useInsertionEffect(()=>{const{width:f,height:p,top:h,left:g,right:y}=l.current;if(e||!a.current||!f||!p)return;const P=n==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=o;const b=document.createElement("style");c&&(b.nonce=c);const x=s??document.head;return x.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${P}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.removeChild(b),x.contains(b)&&x.removeChild(b)}},[e]),m.jsx(ZT,{isPresent:e,childRef:a,sizeRef:l,children:V.cloneElement(t,{ref:a})})}const tA=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l,anchorX:c,root:f})=>{const p=yp(nA),h=V.useId();let g=!0,y=V.useMemo(()=>(g=!1,{id:h,initial:e,isPresent:n,custom:o,onExitComplete:P=>{p.set(P,!0);for(const b of p.values())if(!b)return;s&&s()},register:P=>(p.set(P,!1),()=>p.delete(P))}),[n,p,s]);return a&&g&&(y={...y}),V.useMemo(()=>{p.forEach((P,b)=>p.set(b,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),l==="popLayout"&&(t=m.jsx(eA,{isPresent:n,anchorX:c,root:f,children:t})),m.jsx(ac.Provider,{value:y,children:t})};function nA(){return new Map}function kw(t=!0){const e=V.useContext(ac);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=V.useId();V.useEffect(()=>{if(t)return o(a)},[t]);const l=V.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const ru=t=>t.key||"";function jx(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const rA=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:f})=>{const[p,h]=kw(l),g=V.useMemo(()=>jx(t),[t]),y=l&&!p?[]:g.map(ru),P=V.useRef(!0),b=V.useRef(g),x=yp(()=>new Map),[C,E]=V.useState(g),[j,k]=V.useState(g);Fb(()=>{P.current=!1,b.current=g;for(let L=0;L<j.length;L++){const D=ru(j[L]);y.includes(D)?x.delete(D):x.get(D)!==!0&&x.set(D,!1)}},[j,y.length,y.join("-")]);const M=[];if(g!==C){let L=[...g];for(let D=0;D<j.length;D++){const O=j[D],I=ru(O);y.includes(I)||(L.splice(D,0,O),M.push(O))}return a==="wait"&&M.length&&(L=M),k(jx(L)),E(g),null}const{forceRender:R}=V.useContext(gp);return m.jsx(m.Fragment,{children:j.map(L=>{const D=ru(L),O=l&&!p?!1:g===j||y.includes(D),I=()=>{if(x.has(D))x.set(D,!0);else return;let H=!0;x.forEach(B=>{B||(H=!1)}),H&&(R?.(),k(b.current),l&&h?.(),s&&s())};return m.jsx(tA,{isPresent:O,initial:!P.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:O?void 0:I,anchorX:c,children:L},D)})})},Tw=V.createContext({strict:!1}),kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const t in kx)to[t]={isEnabled:e=>kx[t].some(n=>!!e[n])};function sA(t){for(const e in t)to[e]={...to[e],...t[e]}}const iA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iA.has(t)}let Aw=t=>!qu(t);function oA(t){typeof t=="function"&&(Aw=e=>e.startsWith("on")?!qu(e):t(e))}try{oA(require("@emotion/is-prop-valid").default)}catch{}function aA(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Aw(o)||n===!0&&qu(o)||!e&&!qu(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function lA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const lc=V.createContext({});function uc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ja(t){return typeof t=="string"||Array.isArray(t)}const Up=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zp=["initial",...Up];function cc(t){return uc(t.animate)||zp.some(e=>ja(t[e]))}function _w(t){return!!(cc(t)||t.variants)}function uA(t,e){if(cc(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ja(n)?n:void 0,animate:ja(s)?s:void 0}}return t.inherit!==!1?e:{}}function cA(t){const{initial:e,animate:n}=uA(t,V.useContext(lc));return V.useMemo(()=>({initial:e,animate:n}),[Tx(e),Tx(n)])}function Tx(t){return Array.isArray(t)?t.join(" "):t}const fA=Symbol.for("motionComponentSymbol");function zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dA(t,e,n){return V.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):zi(n)&&(n.current=s))},[e])}const qp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hA="framerAppearId",Lw="data-"+qp(hA),Rw=V.createContext({});function pA(t,e,n,s,o){const{visualElement:a}=V.useContext(lc),l=V.useContext(Tw),c=V.useContext(ac),f=V.useContext($p).reducedMotion,p=V.useRef(null);s=s||l.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const h=p.current,g=V.useContext(Rw);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&mA(p.current,n,o,g);const y=V.useRef(!1);V.useInsertionEffect(()=>{h&&y.current&&h.update(n,c)});const P=n[Lw],b=V.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return Fb(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Bp.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),V.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),b.current=!1))}),h}function mA(t,e,n,s){const{layoutId:o,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Dw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||c&&zi(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:f,layoutRoot:p})}function Dw(t){if(t)return t.options.allowProjection!==!1?t.projection:Dw(t.parent)}function gA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){t&&sA(t);function a(c,f){let p;const h={...V.useContext($p),...c,layoutId:yA(c)},{isStatic:g}=h,y=cA(c),P=s(c,g);if(!g&&xp){xA();const b=vA(h);p=b.MeasureLayout,y.visualElement=pA(o,P,h,e,b.ProjectionNode)}return m.jsxs(lc.Provider,{value:y,children:[p&&y.visualElement?m.jsx(p,{visualElement:y.visualElement,...h}):null,n(o,c,dA(P,y.visualElement,f),P,g,y.visualElement)]})}a.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const l=V.forwardRef(a);return l[fA]=o,l}function yA({layoutId:t}){const e=V.useContext(gp).id;return e&&t!==void 0?e+"-"+t:t}function xA(t,e){V.useContext(Tw).strict}function vA(t){const{drag:e,layout:n}=to;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ka={};function bA(t){for(const e in t)ka[e]=t[e],Ep(e)&&(ka[e].isCSSVariable=!0)}function Iw(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ka[t]||t==="opacity")}const wA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SA=uo.length;function CA(t,e,n){let s="",o=!0;for(let a=0;a<SA;a++){const l=uo[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=Cw(c,Fp[l]);if(!f){o=!1;const h=wA[l]||l;s+=`${h}(${p}) `}n&&(e[l]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Qp(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(co.has(f)){l=!0;continue}else if(Ep(f)){o[f]=p;continue}else{const h=Cw(p,Fp[f]);f.startsWith("origin")?(c=!0,a[f]=h):s[f]=h}}if(e.transform||(l||n?s.transform=CA(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:h=0}=a;s.transformOrigin=`${f} ${p} ${h}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mw(t,e,n){for(const s in e)!Zt(e[s])&&!Iw(s,n)&&(t[s]=e[s])}function PA({transformTemplate:t},e){return V.useMemo(()=>{const n=Wp();return Qp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NA(t,e){const n=t.style||{},s={};return Mw(s,n,t),Object.assign(s,PA(t,e)),s}function EA(t,e){const n={},s=NA(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const jA={offset:"stroke-dashoffset",array:"stroke-dasharray"},kA={offset:"strokeDashoffset",array:"strokeDasharray"};function TA(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?jA:kA;t[a.offset]=Ie.transform(-s);const l=Ie.transform(e),c=Ie.transform(n);t[a.array]=`${l} ${c}`}function Ow(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,p,h){if(Qp(t,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=h?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&TA(g,o,a,l,!1)}const Fw=()=>({...Wp(),attrs:{}}),Bw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AA(t,e,n,s){const o=V.useMemo(()=>{const a=Fw();return Ow(a,e,Bw(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Mw(a,t.style,t),o.style={...a,...o.style}}return o}const _A=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hp(t){return typeof t!="string"||t.includes("-")?!1:!!(_A.indexOf(t)>-1||/[A-Z]/u.test(t))}function LA(t=!1){return(n,s,o,{latestValues:a},l)=>{const f=(Hp(n)?AA:EA)(s,a,l,n),p=aA(s,typeof n=="string",t),h=n!==V.Fragment?{...p,...f,ref:o}:{},{children:g}=s,y=V.useMemo(()=>Zt(g)?g.get():g,[g]);return V.createElement(n,{...h,children:y})}}function Ax(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Kp(t,e,n,s){if(typeof e=="function"){const[o,a]=Ax(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Ax(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function gu(t){return Zt(t)?t.get():t}function RA({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:DA(n,s,o,t),renderState:e()}}const Vw=t=>(e,n)=>{const s=V.useContext(lc),o=V.useContext(ac),a=()=>RA(t,e,s,o);return n?a():yp(a)};function DA(t,e,n,s){const o={},a=s(t,{});for(const y in a)o[y]=gu(a[y]);let{initial:l,animate:c}=t;const f=cc(t),p=_w(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||l===!1;const g=h?c:l;if(g&&typeof g!="boolean"&&!uc(g)){const y=Array.isArray(g)?g:[g];for(let P=0;P<y.length;P++){const b=Kp(t,y[P]);if(b){const{transitionEnd:x,transition:C,...E}=b;for(const j in E){let k=E[j];if(Array.isArray(k)){const M=h?k.length-1:0;k=k[M]}k!==null&&(o[j]=k)}for(const j in x)o[j]=x[j]}}}return o}function Gp(t,e,n){const{style:s}=t,o={};for(const a in s)(Zt(s[a])||e.style&&Zt(e.style[a])||Iw(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=s[a]);return o}const IA={useVisualState:Vw({scrapeMotionValuesFromProps:Gp,createRenderState:Wp})};function $w(t,e,n){const s=Gp(t,e,n);for(const o in t)if(Zt(t[o])||Zt(e[o])){const a=uo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const MA={useVisualState:Vw({scrapeMotionValuesFromProps:$w,createRenderState:Fw})};function OA(t,e){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...Hp(s)?MA:IA,preloadedFeatures:t,useRender:LA(o),createVisualElement:e,Component:s};return gA(l)}}function Ta(t,e,n){const s=t.getProps();return Kp(s,e,n!==void 0?n:s.custom,t)}const Eh=t=>Array.isArray(t);function FA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,eo(n))}function BA(t){return Eh(t)?t[t.length-1]||0:t}function VA(t,e){const n=Ta(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const l in a){const c=BA(a[l]);FA(t,l,c)}}function $A(t){return!!(Zt(t)&&t.add)}function jh(t,e){const n=t.getValue("willChange");if($A(n))return n.add(e);if(!n&&Fr.WillChange){const s=new Fr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Uw(t){return t.props[Lw]}const UA=t=>t!==null;function zA(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(UA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const qA={type:"spring",stiffness:500,damping:25,restSpeed:10},QA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WA={type:"keyframes",duration:.8},HA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KA=(t,{keyframes:e})=>e.length>2?WA:co.has(t)?t.startsWith("scale")?QA(e[1]):qA:HA;function GA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...h}){return!!Object.keys(h).length}const Yp=(t,e,n,s={},o,a)=>l=>{const c=Op(s,t)||{},f=c.delay||s.delay||0;let{elapsed:p=0}=s;p=p-mr(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:o};GA(c)||Object.assign(h,KA(t,h)),h.duration&&(h.duration=mr(h.duration)),h.repeatDelay&&(h.repeatDelay=mr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(Fr.instantAnimations||Fr.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const y=zA(h.keyframes,c);if(y!==void 0){ht.update(()=>{h.onUpdate(y),h.onComplete()});return}}return c.isSync?new Dp(h):new kT(h)};function YA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function zw(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const h in c){const g=t.getValue(h,t.latestValues[h]??null),y=c[h];if(y===void 0||p&&YA(p,h))continue;const P={delay:n,...Op(a||{},h)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===b&&!P.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const E=Uw(t);if(E){const j=window.MotionHandoffAnimation(E,h,ht);j!==null&&(P.startTime=j,x=!0)}}jh(t,h),g.start(Yp(h,g,y,t.shouldReduceMotion&&xw.has(h)?{type:!1}:P,t,x));const C=g.animation;C&&f.push(C)}return l&&Promise.all(f).then(()=>{ht.update(()=>{l&&VA(t,l)})}),f}function kh(t,e,n={}){const s=Ta(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(zw(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:g}=o;return JA(t,e,f,p,h,g,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function JA(t,e,n=0,s=0,o=0,a=1,l){const c=[],f=t.variantChildren.size,p=(f-1)*o,h=typeof s=="function",g=h?y=>s(y,f):a===1?(y=0)=>y*o:(y=0)=>p-y*o;return Array.from(t.variantChildren).sort(XA).forEach((y,P)=>{y.notify("AnimationStart",e),c.push(kh(y,e,{...l,delay:n+(h?0:s)+g(P)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(c)}function XA(t,e){return t.sortNodePosition(e)}function ZA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>kh(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=kh(t,e,n);else{const o=typeof e=="function"?Ta(t,e,n.custom):e;s=Promise.all(zw(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function qw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const e8=zp.length;function Qw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Qw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<e8;n++){const s=zp[n],o=t.props[s];(ja(o)||o===!1)&&(e[s]=o)}return e}const t8=[...Up].reverse(),n8=Up.length;function r8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ZA(t,n,s)))}function s8(t){let e=r8(t),n=_x(),s=!0;const o=f=>(p,h)=>{const g=Ta(t,h,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:P,...b}=g;p={...p,...b,...P}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,h=Qw(t.parent)||{},g=[],y=new Set;let P={},b=1/0;for(let C=0;C<n8;C++){const E=t8[C],j=n[E],k=p[E]!==void 0?p[E]:h[E],M=ja(k),R=E===f?j.isActive:null;R===!1&&(b=C);let L=k===h[E]&&k!==p[E]&&M;if(L&&s&&t.manuallyAnimateOnMount&&(L=!1),j.protectedKeys={...P},!j.isActive&&R===null||!k&&!j.prevProp||uc(k)||typeof k=="boolean")continue;const D=i8(j.prevProp,k);let O=D||E===f&&j.isActive&&!L&&M||C>b&&M,I=!1;const H=Array.isArray(k)?k:[k];let B=H.reduce(o(E),{});R===!1&&(B={});const{prevResolvedValues:Z={}}=j,re={...Z,...B},G=de=>{O=!0,y.has(de)&&(I=!0,y.delete(de)),j.needsAnimating[de]=!0;const se=t.getValue(de);se&&(se.liveStyle=!1)};for(const de in re){const se=B[de],ue=Z[de];if(P.hasOwnProperty(de))continue;let ye=!1;Eh(se)&&Eh(ue)?ye=!qw(se,ue):ye=se!==ue,ye?se!=null?G(de):y.add(de):se!==void 0&&y.has(de)?G(de):j.protectedKeys[de]=!0}j.prevProp=k,j.prevResolvedValues=B,j.isActive&&(P={...P,...B}),s&&t.blockInitialAnimation&&(O=!1),O&&(!(L&&D)||I)&&g.push(...H.map(de=>({animation:de,options:{type:E}})))}if(y.size){const C={};if(typeof p.initial!="boolean"){const E=Ta(t,Array.isArray(p.initial)?p.initial[0]:p.initial);E&&E.transition&&(C.transition=E.transition)}y.forEach(E=>{const j=t.getBaseTarget(E),k=t.getValue(E);k&&(k.liveStyle=!0),C[E]=j??null}),g.push({animation:C})}let x=!!g.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(g):Promise.resolve()}function c(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),n[f].isActive=p;const h=l(f);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_x(),s=!0}}}function i8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qw(e,t):!1}function qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _x(){return{animate:qs(!0),whileInView:qs(),whileHover:qs(),whileTap:qs(),whileDrag:qs(),whileFocus:qs(),exit:qs()}}class ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o8 extends ks{constructor(e){super(e),e.animationState||(e.animationState=s8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let a8=0;class l8 extends ks{constructor(){super(...arguments),this.id=a8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const u8={animation:{Feature:o8},exit:{Feature:l8}};function Aa(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function $a(t){return{point:{x:t.pageX,y:t.pageY}}}const c8=t=>e=>Vp(e)&&t(e,$a(e));function ca(t,e,n,s){return Aa(t,e,c8(n),s)}function Ww({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function f8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const Hw=1e-4,h8=1-Hw,p8=1+Hw,Kw=.01,m8=0-Kw,g8=0+Kw;function on(t){return t.max-t.min}function y8(t,e,n){return Math.abs(t-e)<=n}function Lx(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=on(n)/on(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=h8&&t.scale<=p8||isNaN(t.scale))&&(t.scale=1),(t.translate>=m8&&t.translate<=g8||isNaN(t.translate))&&(t.translate=0)}function fa(t,e,n,s){Lx(t.x,e.x,n.x,s?s.originX:void 0),Lx(t.y,e.y,n.y,s?s.originY:void 0)}function Rx(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function x8(t,e,n){Rx(t.x,e.x,n.x),Rx(t.y,e.y,n.y)}function Dx(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function da(t,e,n){Dx(t.x,e.x,n.x),Dx(t.y,e.y,n.y)}const Ix=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:Ix(),y:Ix()}),Mx=()=>({min:0,max:0}),Ct=()=>({x:Mx(),y:Mx()});function $n(t){return[t("x"),t("y")]}function Ld(t){return t===void 0||t===1}function Th({scale:t,scaleX:e,scaleY:n}){return!Ld(t)||!Ld(e)||!Ld(n)}function Hs(t){return Th(t)||Gw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Gw(t){return Ox(t.x)||Ox(t.y)}function Ox(t){return t&&t!=="0%"}function Qu(t,e,n){const s=t-n,o=e*s;return n+o}function Fx(t,e,n,s,o){return o!==void 0&&(t=Qu(t,o,s)),Qu(t,n,s)+e}function Ah(t,e=0,n=1,s,o){t.min=Fx(t.min,e,n,s,o),t.max=Fx(t.max,e,n,s,o)}function Yw(t,{x:e,y:n}){Ah(t.x,e.translate,e.scale,e.originPoint),Ah(t.y,n.translate,n.scale,n.originPoint)}const Bx=.999999999999,Vx=1.0000000000001;function v8(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wi(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Yw(t,l)),s&&Hs(a.latestValues)&&Wi(t,a.latestValues))}e.x<Vx&&e.x>Bx&&(e.x=1),e.y<Vx&&e.y>Bx&&(e.y=1)}function Qi(t,e){t.min=t.min+e,t.max=t.max+e}function $x(t,e,n,s,o=.5){const a=gt(t.min,t.max,o);Ah(t,e,n,a,s)}function Wi(t,e){$x(t.x,e.x,e.scaleX,e.scale,e.originX),$x(t.y,e.y,e.scaleY,e.scale,e.originY)}function Jw(t,e){return Ww(d8(t.getBoundingClientRect(),e))}function b8(t,e,n){const s=Jw(t,n),{scroll:o}=e;return o&&(Qi(s.x,o.offset.x),Qi(s.y,o.offset.y)),s}const Xw=({current:t})=>t?t.ownerDocument.defaultView:null,Ux=(t,e)=>Math.abs(t-e);function w8(t,e){const n=Ux(t.x,e.x),s=Ux(t.y,e.y);return Math.sqrt(n**2+s**2)}class Zw{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Dd(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,b=w8(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!b)return;const{point:x}=y,{timestamp:C}=qt;this.history.push({...x,timestamp:C});const{onStart:E,onMove:j}=this.handlers;P||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,y)},this.handlePointerMove=(y,P)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Rd(P,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(y,P)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Dd(y.type==="pointercancel"?this.lastMoveEventInfo:Rd(P,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,E),x&&x(y,E)},!Vp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=o||window;const c=$a(e),f=Rd(c,this.transformPagePoint),{point:p}=f,{timestamp:h}=qt;this.history=[{...p,timestamp:h}];const{onSessionStart:g}=n;g&&g(e,Dd(f,this.history)),this.removeListeners=Fa(ca(this.contextWindow,"pointermove",this.handlePointerMove),ca(this.contextWindow,"pointerup",this.handlePointerUp),ca(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cs(this.updatePoint)}}function Rd(t,e){return e?{point:e(t.point)}:t}function zx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dd({point:t},e){return{point:t,delta:zx(t,eS(e)),offset:zx(t,S8(e)),velocity:C8(e,.1)}}function S8(t){return t[0]}function eS(t){return t[t.length-1]}function C8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=eS(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>mr(e)));)n--;if(!s)return{x:0,y:0};const a=gr(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function P8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function N8(t,{top:e,left:n,bottom:s,right:o}){return{x:qx(t.x,n,o),y:qx(t.y,e,s)}}function Qx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function E8(t,e){return{x:Qx(t.x,e.x),y:Qx(t.y,e.y)}}function j8(t,e){let n=.5;const s=on(t),o=on(e);return o>s?n=Pa(e.min,e.max-s,t.min):s>o&&(n=Pa(t.min,t.max-o,e.min)),Or(0,1,n)}function k8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _h=.35;function T8(t=_h){return t===!1?t=0:t===!0&&(t=_h),{x:Wx(t,"left","right"),y:Wx(t,"top","bottom")}}function Wx(t,e,n){return{min:Hx(t,e),max:Hx(t,n)}}function Hx(t,e){return typeof t=="number"?t:t[e]||0}const A8=new WeakMap;class _8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($a(g).point)},l=(g,y)=>{const{drag:P,dragPropagation:b,onDragStart:x}=this.getProps();if(P&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qT(P),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(E=>{let j=this.getAxisMotionValue(E).get()||0;if(yr.test(j)){const{projection:k}=this.visualElement;if(k&&k.layout){const M=k.layout.layoutBox[E];M&&(j=on(M)*(parseFloat(j)/100))}}this.originPoint[E]=j}),x&&ht.postRender(()=>x(g,y)),jh(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:P,dragDirectionLock:b,onDirectionLock:x,onDrag:C}=this.getProps();if(!P&&!this.openDragLock)return;const{offset:E}=y;if(b&&this.currentDirection===null){this.currentDirection=L8(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),C&&C(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>$n(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Zw(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:Xw(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&ht.postRender(()=>c(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!su(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=P8(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&zi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=N8(s.layoutBox,e):this.constraints=!1,this.elastic=T8(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$n(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=k8(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=b8(s,o.root,this.visualElement.getTransformPagePoint());let l=E8(o.layout.layoutBox,a);if(n){const c=n(f8(l));this.hasMutatedConstraints=!!c,c&&(l=Ww(c))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=$n(h=>{if(!su(h,n,this.currentDirection))return;let g=f&&f[h]||{};l&&(g={min:0,max:0});const y=o?200:1e6,P=o?40:1e7,b={type:"inertia",velocity:s?e[h]:0,bounceStiffness:y,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(h,b)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return jh(this.visualElement,e),s.start(Yp(e,s,0,n,this.visualElement,!1))}stopAnimation(){$n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$n(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$n(n=>{const{drag:s}=this.getProps();if(!su(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:c}=o.layout.layoutBox[n];a.set(e[n]-gt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zi(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};$n(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();o[l]=j8({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$n(l=>{if(!su(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(gt(f,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;A8.set(this.visualElement,this);const e=this.visualElement.current,n=ca(e,"pointerdown",f=>{const{drag:p,dragListener:h=!0}=this.getProps();p&&h&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();zi(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ht.read(s);const l=Aa(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&($n(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=f[h].translate,g.set(g.get()+f[h].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=_h,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function su(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class R8 extends ks{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new _8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kx=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class D8 extends ks{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new Zw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Kx(e),onStart:Kx(n),onMove:s,onEnd:(a,l)=>{delete this.session,o&&ht.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=ca(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=Gx(t,e.target.x),s=Gx(t,e.target.y);return`${n}% ${s}%`}},I8={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Ps.parse(t);if(o.length>5)return s;const a=Ps.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=f;const p=gt(c,f,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}};let Yx=!1;class M8 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;bA(O8),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),Yx&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,Yx=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ht.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tS(t){const[e,n]=kw(),s=V.useContext(gp);return m.jsx(M8,{...t,layoutGroup:s,switchLayoutGroup:V.useContext(Rw),isPresent:e,safeToRemove:n})}const O8={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:I8};function F8(t,e,n){const s=Zt(t)?t:eo(t);return s.start(Yp("",s,e,n)),s.animation}const B8=(t,e)=>t.depth-e.depth;class V8{constructor(){this.children=[],this.isDirty=!1}add(e){vp(this.children,e),this.isDirty=!0}remove(e){bp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(B8),this.isDirty=!1,this.children.forEach(e)}}function $8(t,e){const n=gn.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(Cs(s),t(a-e))};return ht.setup(s,!0),()=>Cs(s)}const nS=["TopLeft","TopRight","BottomLeft","BottomRight"],U8=nS.length,Jx=t=>typeof t=="string"?parseFloat(t):t,Xx=t=>typeof t=="number"||Ie.test(t);function z8(t,e,n,s,o,a){o?(t.opacity=gt(0,n.opacity??1,q8(s)),t.opacityExit=gt(e.opacity??1,0,Q8(s))):a&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let l=0;l<U8;l++){const c=`border${nS[l]}Radius`;let f=Zx(e,c),p=Zx(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Xx(f)===Xx(p)?(t[c]=Math.max(gt(Jx(f),Jx(p),s),0),(yr.test(p)||yr.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function Zx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const q8=rS(0,.5,Gb),Q8=rS(.5,.95,qn);function rS(t,e,n){return s=>s<t?0:s>e?1:n(Pa(t,e,s))}function ev(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){ev(t.x,e.x),ev(t.y,e.y)}function tv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nv(t,e,n,s,o){return t-=e,t=Qu(t,1/n,s),o!==void 0&&(t=Qu(t,1/o,s)),t}function W8(t,e=0,n=1,s=.5,o,a=t,l=t){if(yr.test(e)&&(e=parseFloat(e),e=gt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=gt(a.min,a.max,s);t===a&&(c-=e),t.min=nv(t.min,e,n,c,o),t.max=nv(t.max,e,n,c,o)}function rv(t,e,[n,s,o],a,l){W8(t,e[n],e[s],e[o],e.scale,a,l)}const H8=["x","scaleX","originX"],K8=["y","scaleY","originY"];function sv(t,e,n,s){rv(t.x,e,H8,n?n.x:void 0,s?s.x:void 0),rv(t.y,e,K8,n?n.y:void 0,s?s.y:void 0)}function iv(t){return t.translate===0&&t.scale===1}function sS(t){return iv(t.x)&&iv(t.y)}function ov(t,e){return t.min===e.min&&t.max===e.max}function G8(t,e){return ov(t.x,e.x)&&ov(t.y,e.y)}function av(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iS(t,e){return av(t.x,e.x)&&av(t.y,e.y)}function lv(t){return on(t.x)/on(t.y)}function uv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Y8{constructor(){this.members=[]}add(e){vp(this.members,e),e.scheduleRender()}remove(e){if(bp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J8(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((o||a||l)&&(s=`translate3d(${o}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:h,rotateX:g,rotateY:y,skewX:P,skewY:b}=n;p&&(s=`perspective(${p}px) ${s}`),h&&(s+=`rotate(${h}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),P&&(s+=`skewX(${P}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(s+=`scale(${c}, ${f})`),s||"none"}const Id=["","X","Y","Z"],X8=1e3;let Z8=0;function Md(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function oS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Uw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&oS(s)}function aS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(l={},c=e?.()){this.id=Z8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(n_),this.nodes.forEach(o_),this.nodes.forEach(a_),this.nodes.forEach(r_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new V8)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Cp),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=jw(l)&&!YT(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let h,g=0;const y=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{g=window.innerWidth}),t(l,()=>{const P=window.innerWidth;P!==g&&(g=P,this.root.updateBlockedByResize=!0,h&&h(),h=$8(y,250),yu.hasAnimatedSinceResize&&(yu.hasAnimatedSinceResize=!1,this.nodes.forEach(dv)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||d_,{onLayoutAnimationStart:x,onLayoutAnimationComplete:C}=p.getProps(),E=!this.targetLayout||!iS(this.targetLayout,P),j=!g&&y;if(this.options.layoutRoot||this.resumeFrom||j||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Op(b,"layout"),onPlay:x,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(h,j)}else g||dv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(l_),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(i_),this.nodes.forEach(e_),this.nodes.forEach(t_)):this.nodes.forEach(fv),this.clearAllSnapshots();const c=gn.now();qt.delta=Or(0,1e3/60,c-qt.timestamp),qt.timestamp=c,qt.isProcessing=!0,Ed.update.process(qt),Ed.preRender.process(qt),Ed.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s_),this.sharedNodes.forEach(u_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!sS(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,h=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||Hs(this.latestValues)||h)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),h_(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ct();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p_))){const{scroll:p}=this.root;p&&(Qi(c.x,p.offset.x),Qi(c.y,p.offset.y))}return c}removeElementScroll(l){const c=Ct();if(Bn(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:h,options:g}=p;p!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&Bn(c,l),Qi(c.x,h.offset.x),Qi(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const f=Ct();Bn(f,l);for(let p=0;p<this.path.length;p++){const h=this.path[p];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Wi(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Hs(h.latestValues)&&Wi(f,h.latestValues)}return Hs(this.latestValues)&&Wi(f,this.latestValues),f}removeTransform(l){const c=Ct();Bn(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Hs(p.latestValues))continue;Th(p.latestValues)&&p.updateSnapshot();const h=Ct(),g=p.measurePageBox();Bn(h,g),sv(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,h)}return Hs(this.latestValues)&&sv(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),da(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),Yw(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),da(this.relativeTargetOrigin,this.target,y.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Th(this.parent.latestValues)||Gw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||h))return;Bn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;v8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ct());const{target:P}=l;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tv(this.prevProjectionDelta.x,this.projectionDelta.x),tv(this.prevProjectionDelta.y,this.projectionDelta.y)),fa(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!uv(this.projectionDelta.x,this.prevProjectionDelta.x)||!uv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},h={...this.latestValues},g=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ct(),P=f?f.source:void 0,b=this.layout?this.layout.source:void 0,x=P!==b,C=this.getStack(),E=!C||C.members.length<=1,j=!!(x&&!E&&this.options.crossfade===!0&&!this.path.some(f_));this.animationProgress=0;let k;this.mixTargetDelta=M=>{const R=M/1e3;hv(g.x,l.x,R),hv(g.y,l.y,R),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(da(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c_(this.relativeTarget,this.relativeTargetOrigin,y,R),k&&G8(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ct()),Bn(k,this.relativeTarget)),x&&(this.animationValues=h,z8(h,p,this.latestValues,R,j,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{yu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eo(0)),this.currentAnimation=F8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:h}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&lS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ct();const g=on(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const y=on(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}Bn(c,f),Wi(c,h),fa(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Y8),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&Md("z",l,p,this.animationValues);for(let h=0;h<Id.length;h++)Md(`rotate${Id[h]}`,l,p,this.animationValues),Md(`skew${Id[h]}`,l,p,this.animationValues);l.render();for(const h in p)l.setStaticValue(h,p[h]),this.animationValues&&(this.animationValues[h]=p[h]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=gu(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=gu(c?.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=J8(this.projectionDeltaWithTransform,this.treeScale,h);f&&(g=f(h,g)),l.transform=g;const{x:y,y:P}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${P.origin*100}% 0`,p.animationValues?l.opacity=p===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=p===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in ka){if(h[b]===void 0)continue;const{correct:x,applyTo:C,isCSSVariable:E}=ka[b],j=g==="none"?h[b]:x(h[b],p);if(C){const k=C.length;for(let M=0;M<k;M++)l[C[M]]=j}else E?this.options.visualElement.renderState.vars[b]=j:l[b]=j}this.options.layoutId&&(l.pointerEvents=p===this?gu(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(cv),this.root.sharedNodes.clear()}}}function e_(t){t.updateLayout()}function t_(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?$n(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],y=on(g);g.min=n[h].min,g.max=g.min+y}):lS(o,e.layoutBox,n)&&$n(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],y=on(n[h]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const l=qi();fa(l,n,e.layoutBox);const c=qi();a?fa(c,t.applyTransform(s,!0),e.measuredBox):fa(c,n,e.layoutBox);const f=!sS(l);let p=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:y}=h;if(g&&y){const P=Ct();da(P,e.layoutBox,g.layoutBox);const b=Ct();da(b,n,y.layoutBox),iS(P,b)||(p=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=P,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function n_(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s_(t){t.clearSnapshot()}function cv(t){t.clearMeasurements()}function fv(t){t.isLayoutDirty=!1}function i_(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o_(t){t.resolveTargetDelta()}function a_(t){t.calcProjection()}function l_(t){t.resetSkewAndRotation()}function u_(t){t.removeLeadSnapshot()}function hv(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pv(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function c_(t,e,n,s){pv(t.x,e.x,n.x,s),pv(t.y,e.y,n.y,s)}function f_(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const d_={duration:.45,ease:[.4,0,.1,1]},mv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gv=mv("applewebkit/")&&!mv("chrome/")?Math.round:qn;function yv(t){t.min=gv(t.min),t.max=gv(t.max)}function h_(t){yv(t.x),yv(t.y)}function lS(t,e,n){return t==="position"||t==="preserve-aspect"&&!y8(lv(e),lv(n),.2)}function p_(t){return t!==t.root&&t.scroll?.wasRoot}const m_=aS({attachResizeListener:(t,e)=>Aa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Od={current:void 0},uS=aS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Od.current){const t=new m_({});t.mount(window),t.setOptions({layoutScroll:!0}),Od.current=t}return Od.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g_={pan:{Feature:D8},drag:{Feature:R8,ProjectionNode:uS,MeasureLayout:tS}};function xv(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&ht.postRender(()=>a(e,$a(e)))}class y_ extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=QT(e,(n,s)=>(xv(this.node,s,"Start"),o=>xv(this.node,o,"End"))))}unmount(){}}class x_ extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fa(Aa(this.node.current,"focus",()=>this.onFocus()),Aa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vv(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&ht.postRender(()=>a(e,$a(e)))}class v_ extends ks{mount(){const{current:e}=this.node;e&&(this.unmount=GT(e,(n,s)=>(vv(this.node,s,"Start"),(o,{success:a})=>vv(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lh=new WeakMap,Fd=new WeakMap,b_=t=>{const e=Lh.get(t.target);e&&e(t)},w_=t=>{t.forEach(b_)};function S_({root:t,...e}){const n=t||document;Fd.has(n)||Fd.set(n,{});const s=Fd.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(w_,{root:t,...e})),s[o]}function C_(t,e,n){const s=S_(e);return Lh.set(t,n),s.observe(t),()=>{Lh.delete(t),s.unobserve(t)}}const P_={some:0,all:1};class N_ extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:P_[o]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),y=p?h:g;y&&y(f)};return C_(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(E_(e,n))&&this.startObserver()}unmount(){}}function E_({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const j_={inView:{Feature:N_},tap:{Feature:v_},focus:{Feature:x_},hover:{Feature:y_}},k_={layout:{ProjectionNode:uS,MeasureLayout:tS}},Rh={current:null},cS={current:!1};function T_(){if(cS.current=!0,!!xp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rh.current=t.matches;t.addEventListener("change",e),e()}else Rh.current=!1}const A_=new WeakMap;function __(t,e,n){for(const s in e){const o=e[s],a=n[s];if(Zt(o))t.addValue(s,o);else if(Zt(a))t.addValue(s,eo(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,eo(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const bv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L_{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ip,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=gn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ht.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=cc(n),this.isVariantNode=_w(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const P=g[y];f[y]!==void 0&&Zt(P)&&P.set(f[y],!1)}}mount(e){this.current=e,A_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),cS.current||T_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cs(this.notifyUpdate),Cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=co.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in to){const n=to[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<bv.length;s++){const o=bv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=e[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=__(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=eo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Bb(s)||$b(s))?s=parseFloat(s):!XT(s)&&Ps.test(n)&&(s=Sw(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Kp(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Zt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fS extends L_{constructor(){super(...arguments),this.KeyframeResolver=VT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dS(t,{style:e,vars:n},s,o){const a=t.style;let l;for(l in e)a[l]=e[l];o?.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function R_(t){return window.getComputedStyle(t)}class D_ extends fS{constructor(){super(...arguments),this.type="html",this.renderInstance=dS}readValueFromInstance(e,n){if(co.has(n))return this.projection?.isProjecting?bh(n):iT(e,n);{const s=R_(e),o=(Ep(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Jw(e,n)}build(e,n,s){Qp(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Gp(e,n,s)}}const hS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I_(t,e,n,s){dS(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(hS.has(o)?o:qp(o),e.attrs[o])}class M_ extends fS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const s=ww(n);return s&&s.default||0}return n=hS.has(n)?n:qp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return $w(e,n,s)}build(e,n,s){Ow(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){I_(e,n,s,o)}mount(e){this.isSVGTag=Bw(e.tagName),super.mount(e)}}const O_=(t,e)=>Hp(t)?new M_(e):new D_(e,{allowProjection:t!==V.Fragment}),F_=OA({...u8,...j_,...g_,...k_},O_),no=lA(F_);function B_({children:t,initialStep:e=1,onStepChange:n=()=>{},onFinalStepCompleted:s=()=>{},stepCircleContainerClassName:o="",stepContainerClassName:a="",contentClassName:l="",footerClassName:c="",backButtonProps:f={},nextButtonProps:p={},backButtonText:h="Back",nextButtonText:g="Continue",disableStepIndicators:y=!1,renderStepIndicator:P,...b}){const[x,C]=V.useState(e),[E,j]=V.useState(0),k=V.Children.toArray(t),M=k.length,R=x>M,L=x===M,D=B=>{C(B),B>M?s():n(B)},O=()=>{x>1&&(j(-1),D(x-1))},I=()=>{L||(j(1),D(x+1))},H=()=>{j(1),D(M+1)};return m.jsx("div",{className:"outer-container",...b,children:m.jsxs("div",{className:`step-circle-container ${o}`,style:{border:"1px solid #222"},children:[m.jsx("div",{className:`step-indicator-row ${a}`,children:k.map((B,Z)=>{const re=Z+1,G=Z<M-1;return m.jsxs(pn.Fragment,{children:[P?P({step:re,currentStep:x,onStepClick:ae=>{j(ae>x?1:-1),D(ae)}}):m.jsx(z_,{step:re,disableStepIndicators:y,currentStep:x,onClickStep:ae=>{j(ae>x?1:-1),D(ae)}}),G&&m.jsx(q_,{isComplete:x>re})]},re)})}),m.jsx(V_,{isCompleted:R,currentStep:x,direction:E,className:`step-content-default ${l}`,children:k[x-1]}),!R&&m.jsx("div",{className:`footer-container ${c}`,children:m.jsxs("div",{className:`footer-nav ${x!==1?"spread":"end"}`,children:[x!==1&&m.jsx("button",{onClick:O,className:`back-button ${x===1?"inactive":""}`,...f,children:h}),m.jsx("button",{onClick:L?H:I,className:"next-button",...p,children:L?"Complete":g})]})})]})})}function V_({isCompleted:t,currentStep:e,direction:n,children:s,className:o}){const[a,l]=V.useState(0);return m.jsx(no.div,{className:o,style:{position:"relative",overflow:"hidden"},animate:{height:t?0:a},transition:{type:"spring",duration:.4},children:m.jsx(rA,{initial:!1,mode:"sync",custom:n,children:!t&&m.jsx($_,{direction:n,onHeightReady:c=>l(c),children:s},e)})})}function $_({children:t,direction:e,onHeightReady:n}){const s=V.useRef(null);return V.useLayoutEffect(()=>{s.current&&n(s.current.offsetHeight)},[t,n]),m.jsx(no.div,{ref:s,custom:e,variants:U_,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:t})}const U_={enter:t=>({x:t>=0?"-100%":"100%",opacity:0}),center:{x:"0%",opacity:1},exit:t=>({x:t>=0?"50%":"-50%",opacity:0})};function Qs({children:t}){return m.jsx("div",{className:"step-default",children:t})}function z_({step:t,currentStep:e,onClickStep:n,disableStepIndicators:s}){const o=e===t?"active":e<t?"inactive":"complete",a=()=>{t!==e&&!s&&n(t)};return m.jsx(no.div,{onClick:a,className:"step-indicator",animate:o,initial:!1,children:m.jsx(no.div,{variants:{inactive:{scale:1,backgroundColor:"#222",color:"#a3a3a3"},active:{scale:1,backgroundColor:"#5227FF",color:"#5227FF"},complete:{scale:1,backgroundColor:"#5227FF",color:"#3b82f6"}},transition:{duration:.3},className:"step-indicator-inner",children:o==="complete"?m.jsx(Q_,{className:"check-icon"}):o==="active"?m.jsx("div",{className:"active-dot"}):m.jsx("span",{className:"step-number",children:t})})})}function q_({isComplete:t}){const e={incomplete:{width:0,backgroundColor:"transparent"},complete:{width:"100%",backgroundColor:"#5227FF"}};return m.jsx("div",{className:"step-connector",children:m.jsx(no.div,{className:"step-connector-inner",variants:e,initial:!1,animate:t?"complete":"incomplete",transition:{duration:.4}})})}function Q_(t){return m.jsx("svg",{...t,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx(no.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}const W_=()=>{const t=Ns(),{userSkills:e,isLoading:n}=yn(B=>B.skills),{user:s}=yn(B=>B.auth),o=e.filter(B=>B.type==="offered"),[a,l]=V.useState(null),[c,f]=V.useState(!1),[p,h]=V.useState({name:"",description:"",category:"",proficiencyLevel:"beginner",isPublic:!0}),[g,y]=V.useState(null),[P,b]=V.useState({name:"",description:"",category:"",proficiencyLevel:"beginner",isPublic:!0}),[x,C]=V.useState(null),[E,j]=V.useState({name:"",description:"",category:"",proficiencyLevel:"beginner",isPublic:!0}),[k,M]=V.useState(!1);V.useEffect(()=>{s?.id&&t(ps(s.id))},[t,s?.id]),V.useEffect(()=>{o.length===0?M(!0):M(!1)},[o.length]);const R=async()=>{if(s?.id)try{await t(Ji({name:E.name,description:E.description,category:E.category,proficiencyLevel:E.proficiencyLevel,userId:s.id,type:"offered",isPublic:E.isPublic})),M(!1),j({name:"",description:"",category:"",proficiencyLevel:"beginner",isPublic:!0})}catch(B){console.error("Failed to add tutorial skill:",B)}},L=async B=>{l(B.id);try{await sa.update(B.id,{isPublic:!B.isPublic}),s?.id&&t(ps(s.id))}catch(Z){console.error("Failed to toggle skill visibility:",Z)}finally{setTimeout(()=>l(null),500)}},D=async()=>{if(!(!p.name.trim()||!s?.id))try{await t(Ji({name:p.name,description:p.description,category:p.category,proficiencyLevel:p.proficiencyLevel,userId:s.id,type:"offered",isPublic:p.isPublic})),h({name:"",description:"",category:"",proficiencyLevel:"beginner",isPublic:!0}),f(!1)}catch(B){console.error("Failed to add skill:",B)}},O=B=>{y(B.id),b({name:B.name,description:B.description,category:B.category,proficiencyLevel:B.proficiencyLevel,isPublic:B.isPublic})},I=async B=>{try{await sa.update(B.id,P),s?.id&&t(ps(s.id)),y(null)}catch(Z){console.error("Failed to update skill:",Z)}},H=async B=>{try{await sa.delete(B),s?.id&&t(ps(s.id)),C(null)}catch(Z){console.error("Failed to delete skill:",Z)}};return m.jsx("div",{className:"space-y-6",children:k?m.jsxs(B_,{onFinalStepCompleted:R,children:[m.jsxs(Qs,{children:[m.jsx("h2",{className:"text-xl font-bold mb-2 text-white",children:"Welcome to My Skills!"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"Let's add your first skill. This quick tutorial will guide you step by step."})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Skill Name"}),m.jsx("input",{type:"text",placeholder:"e.g., React Development",value:E.name,onChange:B=>j(Z=>({...Z,name:B.target.value})),className:"input-field",autoFocus:!0})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),m.jsx("textarea",{placeholder:"Describe your skill...",value:E.description,onChange:B=>j(Z=>({...Z,description:B.target.value})),className:"input-field",rows:2})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Category"}),m.jsxs("select",{value:E.category,onChange:B=>j(Z=>({...Z,category:B.target.value})),className:"input-field",children:[m.jsx("option",{value:"",children:"Select category"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Language",children:"Language"}),m.jsx("option",{value:"Music",children:"Music"}),m.jsx("option",{value:"Art",children:"Art"}),m.jsx("option",{value:"Cooking",children:"Cooking"}),m.jsx("option",{value:"Fitness",children:"Fitness"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Education",children:"Education"})]})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Proficiency Level"}),m.jsxs("select",{value:E.proficiencyLevel,onChange:B=>j(Z=>({...Z,proficiencyLevel:B.target.value})),className:"input-field",children:[m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Visibility"}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[m.jsx("input",{type:"checkbox",checked:E.isPublic,onChange:B=>j(Z=>({...Z,isPublic:B.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),"Make this skill public"]}),m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Public skills are visible to others. You can change this later."})]}),m.jsxs(Qs,{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Review"}),m.jsxs("div",{className:"bg-[#232428] rounded-lg p-4 mb-4",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"font-bold text-white",children:"Name:"})," ",m.jsx("span",{className:"text-gray-200",children:E.name})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"font-bold text-white",children:"Description:"})," ",m.jsx("span",{className:"text-gray-200",children:E.description})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"font-bold text-white",children:"Category:"})," ",m.jsx("span",{className:"text-gray-200",children:E.category})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"font-bold text-white",children:"Proficiency:"})," ",m.jsx("span",{className:"text-gray-200",children:E.proficiencyLevel})]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold text-white",children:"Visibility:"})," ",m.jsx("span",{className:"text-gray-200",children:E.isPublic?"Public":"Private"})]})]}),m.jsxs("p",{className:"text-gray-300",children:["Click ",m.jsx("span",{className:"font-bold text-primary-400",children:"Complete"})," to add your skill!"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Skills"}),m.jsx("p",{className:"text-gray-400",children:"Manage the skills you offer for exchange and control their visibility"})]}),m.jsxs("button",{className:"flex items-center px-3 py-2 rounded bg-primary-600 text-white hover:bg-primary-700 transition-colors",onClick:()=>f(B=>!B),children:[m.jsx(Hd,{className:"h-5 w-5 mr-1"})," Add Skill"]})]}),c&&m.jsxs("div",{className:"card mb-4 bg-[#232428] p-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Add New Skill"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Skill name",value:p.name,onChange:B=>h(Z=>({...Z,name:B.target.value})),className:"input-field"}),m.jsxs("select",{value:p.category,onChange:B=>h(Z=>({...Z,category:B.target.value})),className:"input-field",children:[m.jsx("option",{value:"",children:"Select category"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Language",children:"Language"}),m.jsx("option",{value:"Music",children:"Music"}),m.jsx("option",{value:"Art",children:"Art"}),m.jsx("option",{value:"Cooking",children:"Cooking"}),m.jsx("option",{value:"Fitness",children:"Fitness"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Education",children:"Education"})]})]}),m.jsx("textarea",{placeholder:"Description",value:p.description,onChange:B=>h(Z=>({...Z,description:B.target.value})),rows:2,className:"input-field mt-2"}),m.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[m.jsxs("select",{value:p.proficiencyLevel,onChange:B=>h(Z=>({...Z,proficiencyLevel:B.target.value})),className:"input-field",children:[m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[m.jsx("input",{type:"checkbox",checked:p.isPublic,onChange:B=>h(Z=>({...Z,isPublic:B.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),"Public"]}),m.jsx("button",{onClick:D,disabled:!p.name.trim()||!s?.id,className:"btn-primary",children:"Save"}),m.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",type:"button",children:"Cancel"})]})]}),m.jsxs("div",{className:"card",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Skill Management"}),n?m.jsx("p",{className:"text-gray-400",children:"Loading skills..."}):o.length===0?m.jsx("p",{className:"text-gray-400",children:"You have not added any skills yet."}):m.jsx("div",{className:"space-y-4",children:o.map(B=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#232428] rounded-lg",children:[g===B.id?m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[m.jsx("input",{type:"text",value:P.name,onChange:Z=>b(re=>({...re,name:Z.target.value})),className:"input-field"}),m.jsxs("select",{value:P.category,onChange:Z=>b(re=>({...re,category:Z.target.value})),className:"input-field",children:[m.jsx("option",{value:"",children:"Select category"}),m.jsx("option",{value:"Technology",children:"Technology"}),m.jsx("option",{value:"Language",children:"Language"}),m.jsx("option",{value:"Music",children:"Music"}),m.jsx("option",{value:"Art",children:"Art"}),m.jsx("option",{value:"Cooking",children:"Cooking"}),m.jsx("option",{value:"Fitness",children:"Fitness"}),m.jsx("option",{value:"Business",children:"Business"}),m.jsx("option",{value:"Education",children:"Education"})]})]}),m.jsx("textarea",{value:P.description,onChange:Z=>b(re=>({...re,description:Z.target.value})),rows:2,className:"input-field mb-2"}),m.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[m.jsxs("select",{value:P.proficiencyLevel,onChange:Z=>b(re=>({...re,proficiencyLevel:Z.target.value})),className:"input-field",children:[m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[m.jsx("input",{type:"checkbox",checked:P.isPublic,onChange:Z=>b(re=>({...re,isPublic:Z.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),"Public"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>I(B),className:"btn-primary flex items-center",children:[m.jsx(UP,{className:"h-4 w-4 mr-1"})," Save"]}),m.jsxs("button",{onClick:()=>y(null),className:"btn-secondary flex items-center",children:[m.jsx(Pu,{className:"h-4 w-4 mr-1"})," Cancel"]})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("h4",{className:"font-medium text-white flex items-center gap-2",children:[B.name,B.isPublic?m.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-700 text-white ml-2",children:[m.jsx(ga,{className:"h-4 w-4 mr-1"})," Public"]}):m.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-700 text-gray-300 ml-2",children:[m.jsx(ma,{className:"h-4 w-4 mr-1"})," Private"]})]}),m.jsx("p",{className:"text-sm text-gray-400",children:B.description}),m.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[m.jsx("span",{className:"skill-tag",children:B.category}),m.jsx("span",{className:"text-xs text-gray-500 capitalize",children:B.proficiencyLevel})]})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[m.jsxs("button",{className:`flex items-center px-3 py-1 rounded transition-colors text-sm font-medium focus:outline-none ${B.isPublic?"bg-green-800 text-white hover:bg-green-900":"bg-gray-800 text-gray-300 hover:bg-gray-700"} ${a===B.id?"opacity-50 cursor-wait":""}`,onClick:()=>L(B),disabled:a===B.id,"aria-label":B.isPublic?"Make Private":"Make Public",children:[B.isPublic?m.jsx(ma,{className:"h-4 w-4 mr-1"}):m.jsx(ga,{className:"h-4 w-4 mr-1"}),B.isPublic?"Make Private":"Make Public"]}),m.jsxs("button",{className:"flex items-center px-3 py-1 rounded bg-blue-800 text-white hover:bg-blue-900 text-sm font-medium",onClick:()=>O(B),"aria-label":"Edit Skill",children:[m.jsx(QP,{className:"h-4 w-4 mr-1"})," Edit"]}),m.jsxs("button",{className:"flex items-center px-3 py-1 rounded bg-red-800 text-white hover:bg-red-900 text-sm font-medium",onClick:()=>C(B.id),"aria-label":"Delete Skill",children:[m.jsx(fy,{className:"h-4 w-4 mr-1"})," Delete"]})]})]}),x===B.id&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-[#232428] p-6 rounded-lg shadow-lg",children:[m.jsx("h4",{className:"text-white font-semibold mb-2",children:"Delete Skill?"}),m.jsxs("p",{className:"text-gray-300 mb-4",children:["Are you sure you want to delete ",m.jsx("span",{className:"font-bold",children:B.name}),"?"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>H(B.id),className:"btn-danger flex items-center",children:[m.jsx(fy,{className:"h-4 w-4 mr-1"})," Delete"]}),m.jsxs("button",{onClick:()=>C(null),className:"btn-secondary flex items-center",children:[m.jsx(Pu,{className:"h-4 w-4 mr-1"})," Cancel"]})]})]})})]},B.id))})]})]})})},H_=()=>{const t=Ns(),{skillListings:e,categories:n,isLoading:s,searchFilters:o}=yn(j=>j.skills),{user:a}=yn(j=>j.auth),[l,c]=V.useState(""),[f,p]=V.useState(!1),[h,g]=V.useState(null),[y,P]=V.useState("");V.useEffect(()=>{t(aa())},[t]),V.useEffect(()=>{l.trim()},[l,e]);const b=()=>{t(aa())},x=()=>{t(Zj()),c("")},C=async()=>{if(a)try{await t(hu()),g(null),P("")}catch(j){console.error("Failed to send swap request:",j)}},E=l.trim()?e.filter(j=>j.skill.name.toLowerCase().includes(l.toLowerCase())||j.skill.description.toLowerCase().includes(l.toLowerCase())||j.skill.category.toLowerCase().includes(l.toLowerCase())):e;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Browse Skills"}),m.jsx("p",{className:"text-gray-400",children:"Discover skills available for exchange"})]}),m.jsxs("div",{className:"card",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsx("input",{type:"text",placeholder:"Search skills (e.g., Photoshop, Excel, Guitar)",value:l,onChange:j=>c(j.target.value),className:"input-field"})}),m.jsx(sn,{sparkColor:"#6b7280",sparkSize:6,sparkRadius:15,sparkCount:4,duration:300,children:m.jsxs("button",{onClick:()=>p(!f),className:"btn-secondary",children:[f?"Hide":"Show"," Filters"]})})]}),f&&m.jsxs("div",{className:"mt-4 p-4 bg-[#232428] rounded-lg",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Category"}),m.jsxs("select",{value:o.category,onChange:j=>t(Nd({category:j.target.value})),className:"input-field bg-[#232428] text-white border-gray-600 focus:border-primary-500",children:[m.jsx("option",{value:"",children:"All Categories"}),n.map(j=>m.jsx("option",{value:j,children:j},j))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Proficiency Level"}),m.jsxs("select",{value:o.proficiencyLevel,onChange:j=>t(Nd({proficiencyLevel:j.target.value})),className:"input-field bg-[#232428] text-white border-gray-600 focus:border-primary-500",children:[m.jsx("option",{value:"",children:"All Levels"}),m.jsx("option",{value:"beginner",children:"Beginner"}),m.jsx("option",{value:"intermediate",children:"Intermediate"}),m.jsx("option",{value:"advanced",children:"Advanced"}),m.jsx("option",{value:"expert",children:"Expert"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Location"}),m.jsx("input",{type:"text",placeholder:"Enter location",value:o.location,onChange:j=>t(Nd({location:j.target.value})),className:"input-field bg-[#232428] text-white border-gray-600 focus:border-primary-500"})]})]}),m.jsxs("div",{className:"flex gap-2 mt-4",children:[m.jsx("button",{onClick:b,className:"btn-primary bg-primary-600 hover:bg-primary-700 text-white",children:"Apply Filters"}),m.jsx("button",{onClick:x,className:"btn-secondary bg-gray-700 hover:bg-gray-600 text-gray-200",children:"Clear All"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-between items-center",children:m.jsxs("h2",{className:"text-lg font-semibold text-white",children:[E.length," skill",E.length!==1?"s":""," found"]})}),s?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),m.jsx("p",{className:"text-gray-400 mt-2",children:"Loading skills..."})]}):E.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-400",children:"No skills found matching your criteria."}),m.jsx("button",{onClick:x,className:"btn-primary mt-2",children:"Clear filters"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(j=>m.jsx(sn,{sparkColor:"#fff",sparkSize:8,sparkRadius:20,sparkCount:6,duration:500,extraScale:1.2,children:m.jsxs("div",{className:"card hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("img",{src:j.user.profilePhoto||"https://via.placeholder.com/50x50?text=No+Photo",alt:j.user.firstName,className:"w-12 h-12 rounded-full object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h3",{className:"font-medium text-white",children:[j.user.firstName," ",j.user.lastName]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("span",{className:"text-yellow-400",children:""}),m.jsx("span",{className:"text-sm text-gray-400",children:j.user.rating})]})]}),j.user.location&&m.jsx("p",{className:"text-sm text-gray-500",children:j.user.location})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("h4",{className:"font-semibold text-white mb-2",children:j.skill.name}),m.jsx("p",{className:"text-sm text-gray-400 mb-3",children:j.skill.description}),m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("span",{className:"skill-tag",children:j.skill.category}),m.jsx("span",{className:"text-xs text-gray-500 capitalize",children:j.skill.proficiencyLevel})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`text-sm ${j.isAvailable?"text-green-600":"text-red-600"}`,children:j.isAvailable?"Available":"Unavailable"}),m.jsx("button",{onClick:()=>g(j),disabled:!j.isAvailable,className:"btn-primary text-sm py-1 px-3",children:"Request Swap"})]})]})]})},j.id))})]}),h&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Request Skill Swap"}),m.jsx("div",{className:"mb-4",children:m.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["You're requesting to learn ",m.jsx("strong",{children:h.skill.name})," from"," ",m.jsxs("strong",{children:[h.user.firstName," ",h.user.lastName]})]})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message (Optional)"}),m.jsx("textarea",{value:y,onChange:j=>P(j.target.value),placeholder:"Introduce yourself and explain what you'd like to learn...",rows:3,className:"input-field"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{g(null),P("")},className:"btn-secondary flex-1",children:"Cancel"}),m.jsx("button",{onClick:()=>C(),className:"btn-primary flex-1",children:"Send Request"})]})]})})]})},K_={sentRequests:[],receivedRequests:[],completedSwaps:[],feedback:[],isLoading:!1,error:null},Bd=rr("swaps/sendRequest",async t=>await new Promise(n=>{setTimeout(()=>{n({id:Math.random().toString(36).substr(2,9),requesterId:"1",requesterName:"John Doe",requesterPhoto:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",skillOffered:{id:t.skillOfferedId,name:"React Development",description:"Building modern web applications",category:"Technology"},skillRequested:{id:t.skillRequestedId,name:"Guitar Lessons",description:"Learn acoustic and electric guitar",category:"Music"},status:"pending",message:t.message,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},1e3)})),xu=rr("swaps/respondToRequest",async({requestId:t,status:e})=>await new Promise(s=>{setTimeout(()=>{s({id:t,requesterId:"1",requesterName:"John Doe",requesterPhoto:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"1",name:"React Development",description:"Building modern web applications",category:"Technology"},skillRequested:{id:"2",name:"Guitar Lessons",description:"Learn acoustic and electric guitar",category:"Music"},status:e,message:"Let's exchange skills!",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},1e3)})),vu=rr("swaps/submitFeedback",async t=>await new Promise(n=>{setTimeout(()=>{n({id:Math.random().toString(36).substr(2,9),swapId:t.swapId,fromUserId:"1",toUserId:t.toUserId,rating:t.rating,comment:t.comment,createdAt:new Date().toISOString()})},1e3)})),bu=rr("swaps/deleteRequest",async t=>{const e=await new Promise(n=>{setTimeout(()=>{n({success:!0,message:"Swap request deleted successfully"})},1e3)});return{requestId:t,...e}}),G_=Gu({name:"swaps",initialState:K_,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bd.fulfilled,(e,n)=>{e.isLoading=!1,e.sentRequests.push(n.payload)}).addCase(Bd.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to send swap request"}).addCase(xu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xu.fulfilled,(e,n)=>{e.isLoading=!1;const s=n.payload;e.receivedRequests=e.receivedRequests.map(o=>o.id===s.id?s:o),s.status==="accepted"&&e.completedSwaps.push(s)}).addCase(xu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to respond to swap request"}).addCase(vu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vu.fulfilled,(e,n)=>{e.isLoading=!1,e.feedback.push(n.payload)}).addCase(vu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to submit feedback"}).addCase(bu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bu.fulfilled,(e,n)=>{e.isLoading=!1,e.sentRequests=e.sentRequests.filter(s=>s.id!==n.payload.requestId)}).addCase(bu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to delete swap request"})}}),Y_=G_.reducer,J_=()=>{const t=Ns(),{isLoading:e}=yn(E=>E.swaps),[n,s]=V.useState("received"),[o,a]=V.useState(null),[l,c]=V.useState({rating:5,comment:""}),f=[{id:"1",requesterId:"2",requesterName:"Sarah Johnson",requesterPhoto:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"1",name:"Guitar Lessons",description:"Learn acoustic and electric guitar",category:"Music"},skillRequested:{id:"2",name:"React Development",description:"Building modern web applications",category:"Technology"},status:"pending",message:"I'd love to learn React development! I can teach you guitar in exchange.",createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString()}],p=[{id:"2",requesterId:"1",requesterName:"John Doe",requesterPhoto:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"3",name:"Spanish",description:"Conversational Spanish speaking and writing",category:"Language"},skillRequested:{id:"4",name:"Italian Cooking",description:"Authentic Italian recipes and techniques",category:"Cooking"},status:"pending",message:"I can help you with Spanish in exchange for cooking lessons!",createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString()}],h=[{id:"3",requesterId:"3",requesterName:"Marco Rossi",requesterPhoto:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"5",name:"Italian Cooking",description:"Authentic Italian recipes and techniques",category:"Cooking"},skillRequested:{id:"6",name:"Photography",description:"Digital photography and editing",category:"Art"},status:"completed",message:"Great exchange! Marco taught me amazing Italian recipes.",createdAt:new Date(Date.now()-6048e5).toISOString(),updatedAt:new Date(Date.now()-5184e5).toISOString()}],g=async(E,j)=>{try{await t(xu({requestId:E,status:j})),a(null)}catch(k){console.error("Failed to respond to request:",k)}},y=async E=>{try{await t(bu(E))}catch(j){console.error("Failed to delete request:",j)}},P=async(E,j)=>{try{await t(vu({swapId:E,toUserId:j,rating:l.rating,comment:l.comment})),c({rating:5,comment:""})}catch(k){console.error("Failed to submit feedback:",k)}},b=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=E=>{switch(E){case"pending":return"text-yellow-300 bg-yellow-900/30";case"accepted":return"text-green-300 bg-green-900/30";case"rejected":return"text-red-300 bg-red-900/30";case"completed":return"text-blue-300 bg-blue-900/30";default:return"text-gray-300 bg-gray-800/60"}},C=(E,j=!1)=>m.jsx("div",{className:"card",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("img",{src:E.requesterPhoto||"https://via.placeholder.com/50x50?text=No+Photo",alt:E.requesterName,className:"w-12 h-12 rounded-full object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"font-medium text-white",children:E.requesterName}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(E.status)}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"You'll Learn"}),m.jsx("p",{className:"text-sm text-white",children:E.skillRequested.name}),m.jsx("p",{className:"text-xs text-gray-400",children:E.skillRequested.description})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"You'll Teach"}),m.jsx("p",{className:"text-sm text-white",children:E.skillOffered.name}),m.jsx("p",{className:"text-xs text-gray-400",children:E.skillOffered.description})]})]}),E.message&&m.jsx("div",{className:"mb-3 p-3 bg-[#232428] rounded-lg",children:m.jsx("p",{className:"text-sm text-gray-200",children:E.message})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs text-gray-500",children:b(E.createdAt)}),m.jsxs("div",{className:"flex space-x-2",children:[E.status==="pending"&&j&&m.jsxs(m.Fragment,{children:[m.jsx(sn,{sparkColor:"#059669",sparkSize:6,sparkRadius:15,sparkCount:4,duration:300,children:m.jsx("button",{onClick:()=>g(E.id,"accepted"),className:"btn-success text-sm py-1 px-3 bg-green-700 hover:bg-green-800 text-white",children:"Accept"})}),m.jsx(sn,{sparkColor:"#ED4245",sparkSize:6,sparkRadius:15,sparkCount:4,duration:300,children:m.jsx("button",{onClick:()=>g(E.id,"rejected"),className:"btn-danger text-sm py-1 px-3 bg-red-700 hover:bg-red-800 text-white",children:"Reject"})})]}),E.status==="pending"&&!j&&m.jsx("button",{onClick:()=>y(E.id),className:"btn-danger text-sm py-1 px-3",children:"Delete"}),E.status==="completed"&&m.jsx("button",{onClick:()=>a(E),className:"btn-primary text-sm py-1 px-3",children:"Leave Feedback"})]})]})]})]})},E.id);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Swap Requests"}),m.jsx("p",{className:"text-gray-400",children:"Manage your incoming and outgoing skill swap requests"})]}),m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsxs("button",{onClick:()=>s("received"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="received"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Received (",f.length,")"]}),m.jsxs("button",{onClick:()=>s("sent"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sent"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Sent (",p.length,")"]}),m.jsxs("button",{onClick:()=>s("completed"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="completed"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Completed (",h.length,")"]})]})}),m.jsx("div",{className:"space-y-4",children:e?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Loading requests..."})]}):m.jsxs(m.Fragment,{children:[n==="received"&&m.jsx("div",{className:"space-y-4",children:f.length===0?m.jsx("div",{className:"text-center py-8",children:m.jsx("p",{className:"text-gray-600",children:"No received requests yet."})}):f.map(E=>C(E,!0))}),n==="sent"&&m.jsx("div",{className:"space-y-4",children:p.length===0?m.jsx("div",{className:"text-center py-8",children:m.jsx("p",{className:"text-gray-600",children:"No sent requests yet."})}):p.map(E=>C(E,!1))}),n==="completed"&&m.jsx("div",{className:"space-y-4",children:h.length===0?m.jsx("div",{className:"text-center py-8",children:m.jsx("p",{className:"text-gray-600",children:"No completed swaps yet."})}):h.map(E=>C(E,!1))})]})}),o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leave Feedback"}),m.jsx("div",{className:"mb-4",children:m.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Rate your experience with ",m.jsx("strong",{children:o.requesterName})]})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),m.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(E=>m.jsx("button",{onClick:()=>c({...l,rating:E}),className:`text-2xl ${E<=l.rating?"text-yellow-400":"text-gray-300"}`,children:""},E))})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),m.jsx("textarea",{value:l.comment,onChange:E=>c({...l,comment:E.target.value}),placeholder:"Share your experience...",rows:3,className:"input-field"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{a(null),c({rating:5,comment:""})},className:"btn-secondary flex-1",children:"Cancel"}),m.jsx("button",{onClick:()=>P(o.id,o.requesterId),className:"btn-primary flex-1",children:"Submit Feedback"})]})]})})]})},X_=()=>{const{isLoading:t}=yn(g=>g.swaps),{user:e}=yn(g=>g.auth),[n,s]=V.useState(null),[o,a]=V.useState(!1),l=[{id:"1",requesterId:"2",requesterName:"Sarah Johnson",requesterPhoto:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"1",name:"Guitar Lessons",description:"Learn acoustic and electric guitar",category:"Music"},skillRequested:{id:"2",name:"React Development",description:"Building modern web applications",category:"Technology"},status:"completed",message:"Great exchange! Sarah taught me amazing guitar techniques.",createdAt:new Date(Date.now()-6048e5).toISOString(),updatedAt:new Date(Date.now()-5184e5).toISOString()},{id:"2",requesterId:"3",requesterName:"Marco Rossi",requesterPhoto:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",skillOffered:{id:"3",name:"Italian Cooking",description:"Authentic Italian recipes and techniques",category:"Cooking"},skillRequested:{id:"4",name:"Photography",description:"Digital photography and editing",category:"Art"},status:"completed",message:"Marco is an excellent cooking instructor!",createdAt:new Date(Date.now()-12096e5).toISOString(),updatedAt:new Date(Date.now()-11232e5).toISOString()}],c=[{id:"1",swapId:"1",fromUserId:"1",toUserId:"2",rating:5,comment:"Sarah is an amazing guitar teacher! She was patient and explained everything clearly. Highly recommend!",createdAt:new Date(Date.now()-5184e5).toISOString()},{id:"2",swapId:"1",fromUserId:"2",toUserId:"1",rating:4,comment:"Great React developer! Taught me a lot about modern web development.",createdAt:new Date(Date.now()-5184e5).toISOString()}],f=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=g=>c.filter(y=>y.swapId===g),h=g=>{const y=p(g.id),P=y.find(x=>x.fromUserId===e?.id),b=y.find(x=>x.fromUserId!==e?.id);return m.jsx("div",{className:"card",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("img",{src:g.requesterPhoto||"https://via.placeholder.com/50x50?text=No+Photo",alt:g.requesterName,className:"w-12 h-12 rounded-full object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"font-medium text-white",children:g.requesterName}),m.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-blue-600 bg-blue-100",children:"Completed"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"You Learned"}),m.jsx("p",{className:"text-sm text-white",children:g.skillRequested.name}),m.jsx("p",{className:"text-xs text-gray-400",children:g.skillRequested.description})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"You Taught"}),m.jsx("p",{className:"text-sm text-white",children:g.skillOffered.name}),m.jsx("p",{className:"text-xs text-gray-400",children:g.skillOffered.description})]})]}),g.message&&m.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:m.jsx("p",{className:"text-sm text-gray-300",children:g.message})}),m.jsxs("div",{className:"border-t pt-3",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Feedback"}),P?m.jsxs("div",{className:"mb-2",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Your feedback:"}),m.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(x=>m.jsx("span",{className:`text-sm ${x<=P.rating?"text-yellow-400":"text-gray-300"}`,children:""},x))})]}),m.jsx("p",{className:"text-sm text-gray-600",children:P.comment})]}):m.jsx("button",{onClick:()=>{s(g),a(!0)},className:"btn-primary text-sm py-1 px-3 mb-2",children:"Leave Feedback"}),b&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[m.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Their feedback:"}),m.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(x=>m.jsx("span",{className:`text-sm ${x<=b.rating?"text-yellow-400":"text-gray-300"}`,children:""},x))})]}),m.jsx("p",{className:"text-sm text-gray-600",children:b.comment})]})]}),m.jsx("div",{className:"flex items-center justify-between mt-3",children:m.jsxs("span",{className:"text-xs text-gray-500",children:["Completed ",f(g.updatedAt)]})})]})]})},g.id)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Swap History"}),m.jsx("p",{className:"text-gray-400",children:"View your completed skill exchanges and feedback"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"card text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-primary-600",children:l.length}),m.jsx("div",{className:"text-sm text-gray-600",children:"Total Swaps"})]}),m.jsxs("div",{className:"card text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(g=>g.fromUserId===e?.id).length}),m.jsx("div",{className:"text-sm text-gray-600",children:"Feedback Given"})]}),m.jsxs("div",{className:"card text-center",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.filter(g=>g.toUserId===e?.id).length}),m.jsx("div",{className:"text-sm text-gray-600",children:"Feedback Received"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Completed Exchanges"}),t?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Loading history..."})]}):l.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-600",children:"No completed swaps yet."}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete your first skill exchange to see it here!"})]}):m.jsx("div",{className:"space-y-4",children:l.map(h)})]}),n&&o&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leave Feedback"}),m.jsx("div",{className:"mb-4",children:m.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Rate your experience with ",m.jsx("strong",{children:n.requesterName})]})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),m.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(g=>m.jsx("button",{onClick:()=>{},className:"text-2xl text-gray-300 hover:text-yellow-400",children:""},g))})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),m.jsx("textarea",{placeholder:"Share your experience...",rows:3,className:"input-field"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{s(null),a(!1)},className:"btn-secondary flex-1",children:"Cancel"}),m.jsx("button",{onClick:()=>{s(null),a(!1)},className:"btn-primary flex-1",children:"Submit Feedback"})]})]})})]})},Z_=[{id:"1",name:"Spam Skill",description:"Buy cheap products here!",user:"spammer@example.com",status:"pending"},{id:"2",name:"Valid Skill",description:"Learn React",user:"user1@example.com",status:"approved"}],eL=[{id:"1",email:"spammer@example.com",banned:!1},{id:"2",email:"user1@example.com",banned:!1}],tL=[{id:"1",status:"pending",users:["user1","user2"]},{id:"2",status:"accepted",users:["user3","user4"]},{id:"3",status:"cancelled",users:["user5","user6"]}],nL=()=>{const[t,e]=V.useState(Z_),[n,s]=V.useState(eL),[o]=V.useState(tL),[a,l]=V.useState(""),c=g=>{e(t.map(y=>y.id===g?{...y,status:"rejected"}:y))},f=g=>{s(n.map(y=>y.id===g?{...y,banned:!0}:y))},p=()=>{alert("Message sent to all users: "+a),l("")},h=g=>{alert("Downloading "+g+" report...")};return m.jsxs("div",{className:"space-y-6 sm:space-y-8 p-4 sm:p-6 max-w-5xl mx-auto pt-32 sm:pt-36",children:[m.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-[#F2F3F5] mb-4 sm:mb-6",children:"Admin Panel"}),m.jsxs("div",{className:"card discord-fade-in",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 sm:mb-4 text-[#F2F3F5]",children:"Skill Moderation"}),m.jsx("ul",{className:"divide-y divide-[#404249] space-y-2",children:t.map(g=>m.jsxs("li",{className:"py-3 sm:py-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"font-medium text-sm sm:text-base text-[#F2F3F5]",children:g.name}),"  ",m.jsx("span",{className:"text-[#949BA4] text-sm sm:text-base",children:g.description}),m.jsxs("span",{className:"text-xs text-[#6D6F78] block sm:inline",children:["(",g.user,")"]}),g.status==="rejected"&&m.jsx("span",{className:"ml-2 text-[#ED4245] text-xs",children:"Rejected"})]}),g.status==="pending"&&m.jsx("button",{onClick:()=>c(g.id),className:"btn-danger text-xs sm:text-sm px-3 py-2 touch-manipulation self-start sm:self-auto discord-hover",children:"Reject"})]},g.id))})]}),m.jsxs("div",{className:"card discord-fade-in",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 sm:mb-4 text-[#F2F3F5]",children:"User Management"}),m.jsx("ul",{className:"divide-y divide-[#404249] space-y-2",children:n.map(g=>m.jsxs("li",{className:"py-3 sm:py-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[m.jsx("span",{className:"text-sm sm:text-base text-[#F2F3F5]",children:g.email}),g.banned?m.jsx("span",{className:"text-[#ED4245] text-xs sm:text-sm",children:"Banned"}):m.jsx("button",{onClick:()=>f(g.id),className:"btn-danger text-xs sm:text-sm px-3 py-2 touch-manipulation self-start sm:self-auto discord-hover",children:"Ban"})]},g.id))})]}),m.jsxs("div",{className:"card discord-fade-in",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 sm:mb-4 text-[#F2F3F5]",children:"Swap Monitoring"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base text-[#F2F3F5]",children:"Pending"}),m.jsx("ul",{className:"text-xs sm:text-sm text-[#949BA4] space-y-1",children:o.filter(g=>g.status==="pending").map(g=>m.jsxs("li",{children:["Swap #",g.id," (",g.users.join(" & "),")"]},g.id))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base text-[#F2F3F5]",children:"Accepted"}),m.jsx("ul",{className:"text-xs sm:text-sm text-[#949BA4] space-y-1",children:o.filter(g=>g.status==="accepted").map(g=>m.jsxs("li",{children:["Swap #",g.id," (",g.users.join(" & "),")"]},g.id))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base text-[#F2F3F5]",children:"Cancelled"}),m.jsx("ul",{className:"text-xs sm:text-sm text-[#949BA4] space-y-1",children:o.filter(g=>g.status==="cancelled").map(g=>m.jsxs("li",{children:["Swap #",g.id," (",g.users.join(" & "),")"]},g.id))})]})]})]}),m.jsxs("div",{className:"card discord-fade-in",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 sm:mb-4 text-[#F2F3F5]",children:"Platform-wide Message"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[m.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),placeholder:"Enter message to send to all users",className:"input-field flex-1 text-sm sm:text-base"}),m.jsx("button",{onClick:p,className:"btn-primary px-4 py-2 text-sm sm:text-base touch-manipulation discord-hover",children:"Send"})]})]}),m.jsxs("div",{className:"card discord-fade-in",children:[m.jsx("h2",{className:"text-lg font-semibold mb-3 sm:mb-4 text-[#F2F3F5]",children:"Download Reports"}),m.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[m.jsx("button",{onClick:()=>h("User Activity"),className:"btn-secondary text-xs sm:text-sm px-3 py-2 touch-manipulation discord-hover",children:"User Activity"}),m.jsx("button",{onClick:()=>h("Feedback Logs"),className:"btn-secondary text-xs sm:text-sm px-3 py-2 touch-manipulation discord-hover",children:"Feedback Logs"}),m.jsx("button",{onClick:()=>h("Swap Stats"),className:"btn-secondary text-xs sm:text-sm px-3 py-2 touch-manipulation discord-hover",children:"Swap Stats"})]})]})]})};function rL(){const{isAuthenticated:t}=yn(e=>e.auth);return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(Nj,{}),m.jsxs(OC,{children:[m.jsx(En,{path:"/",element:m.jsx(Ej,{})}),m.jsx(En,{path:"/login",element:t?m.jsx(Tr,{to:"/dashboard"}):m.jsx(Gj,{})}),m.jsx(En,{path:"/register",element:t?m.jsx(Tr,{to:"/dashboard"}):m.jsx(Yj,{})}),m.jsx(En,{path:"/admin",element:m.jsx(nL,{})}),m.jsxs(En,{path:"/",element:m.jsx(F3,{}),children:[m.jsx(En,{path:"dashboard",element:t?m.jsx(Jj,{}):m.jsx(Tr,{to:"/login"})}),m.jsx(En,{path:"profile",element:t?m.jsx(nk,{}):m.jsx(Tr,{to:"/login"})}),m.jsx(En,{path:"skills",element:t?m.jsx(W_,{}):m.jsx(Tr,{to:"/login"})}),m.jsx(En,{path:"browse",element:t?m.jsx(H_,{}):m.jsx(Tr,{to:"/login"})}),m.jsx(En,{path:"swap-requests",element:t?m.jsx(J_,{}):m.jsx(Tr,{to:"/login"})}),m.jsx(En,{path:"swap-history",element:t?m.jsx(X_,{}):m.jsx(Tr,{to:"/login"})})]}),m.jsx(En,{path:"*",element:m.jsx(Tr,{to:"/"})})]})]})}const sL=N3({reducer:{auth:Pj,skills:tk,swaps:Y_,ui:M3}});x4.createRoot(document.getElementById("root")).render(m.jsx(pn.StrictMode,{children:m.jsx($4,{store:sL,children:m.jsxs(qC,{children:[m.jsx(rL,{}),m.jsx(OP,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}));
